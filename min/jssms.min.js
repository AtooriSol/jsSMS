/*
 jsSMS - A Sega Master System/GameGear emulator in JavaScript
 Copyright (C) 2012  Guillaume Marty (https://github.com/gmarty)
 Based on JavaGear Copyright (c) 2002-2008 Chris White.

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation, either version 3 of the License, or
 (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.

 You should have received a copy of the GNU General Public License
 along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
'use strict';var h=!0,i=null,n=!1;function p(){return function(){}};function r(a){this.ec={ui:t,swfPath:"lib/"};if("undefined"!=typeof a)for(var b in this.ec)"undefined"!=typeof a[b]&&(this.ec[b]=a[b]);this.Ba=new u(this);this.rb=new a.ui(this);this.H=new v(this);this.mb=new w(this);this.ports=new x(this);this.T=new y(this);this.rb.updateStatus("Ready to load a ROM.")}
r.prototype={Eb:n,Sb:0,ka:0,qc:0,xb:0,zb:0,Gb:n,La:h,za:n,qb:h,Ra:[],vb:0,Ib:0,nb:[],yb:0,gc:"",hc:"",reset:function(){this.Fd(this.H.kc);this.zb=this.qc;this.Ba.reset();this.rb.reset();this.H.reset();this.ports.reset();this.T.reset();this.T.vc(i)},start:function(){var a=this;this.Eb||(this.Eb=h);this.cd=setInterval(function(){a.frame()},17);this.td();this.tc();this.bd=setInterval(function(){a.tc()},500)},stop:function(){clearInterval(this.cd);clearInterval(this.bd);this.Eb=n},frame:function(){this.Xc()&&
this.Sc();this.yb++},Xc:function(){var a;for(a=0;a<this.ka;a++)193==a?(this.T.ic(this.Sb,8),this.H.Ed(),this.T.ic(0,0)):this.T.ic(this.Sb,0),this.qb&&this.Gd(a),this.H.Va=a,0==this.zb&&192>a&&this.H.Vc(a),this.H.pd(a);this.qb&&this.Bc(this.Ra);this.Gb&&(this.T.qd(),this.Gb=n);return 0==this.zb--?(this.zb=this.qc,h):n},Dd:function(){this.La=h;this.za=n;this.H.Bb=0;this.H.Zb=32},Bd:function(){this.za=h;this.La=n;this.H.Bb=5;this.H.Zb=27},Fd:function(a){var b=0;0==a||this.za?(this.xb=60,this.ka=262,
b=3579545):1==a&&(this.xb=50,this.ka=313,b=3546893);this.Sb=Math.round(b/this.xb/this.ka+1);this.H.kc=a;if(this.qb){this.mb.Db(b,44100);this.Ib=Math.round(44100/this.xb);if(0==this.Ra.length||this.Ra.length!=this.Ib)this.Ra=Array(this.Ib);if(0==this.nb.length||this.nb.length!=this.ka){this.nb=Array(this.ka);for(var c=0,a=0;a<this.ka;a++)b=(this.Ib<<16)/this.ka+c,c=b-(b>>16<<16),this.nb[a]=b>>16}}},Bc:function(a){this.rb.yc(a)},Sc:function(){this.rb.zc(this.H.display,[])},tc:function(){var a=+new Date,
b="Running";this.cc&&(b+=": "+(this.yb/((a-this.cc)/1E3)).toFixed(2)+" (/ "+(1E3/17).toFixed(2)+") FPS");this.rb.updateStatus(b);this.yb=0;this.cc=a},td:function(){this.cc=i;this.yb=0},Gd:function(a){0==a&&(this.vb=0);a=this.nb[a];this.Ra=this.mb.update(this.Ra,this.vb,a);this.vb+=a},uc:function(a,b){var c;c=".gg"===b.substr(-3).toLowerCase()?2:1;var e=a.length;1==c?this.Dd():2==c&&this.Bd();if(1024>=e)return n;c=this.dc(a,e);if(c==i)return n;this.T.vc(c);this.gc=a;this.hc=b;return h},dc:function(a,
b){0!=b%1024&&(a=a.substr(512),b-=512);var c,e,d=Math.round(b/1024),f=Array(d);for(c=0;c<d;c++){f[c]=Array(1024);for(e=0;1024>e;e++)f[c][e]=a.charCodeAt(1024*c+e)&255}return f},rd:function(){return""!==this.gc&&""!==this.hc?this.uc(this.gc,this.hc):n}};function z(a){if(void 0===a)return[];for(var b=a.length,c=Array(b);b--;)"undefined"!=typeof a[b]&&(c[b]=a[b]);return c}function A(a){var b=n;a.some(function(a){return a in document?(b=a,h):n});return b};var B=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,19,
10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],C=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,
8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],D=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,
19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],F=[0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,
0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0],G=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,8,12,12,
15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];
function y(a){this.r=a;this.port=a.ports;this.hb=this.o=this.b=0;this.xa=this.ab=this.Ua=this.wa=this.va=n;this.q=this.Xb=this.a=this.Cb=this.v=this.t=this.u=this.s=this.bc=this.Yb=this.g=this.j=this.Wb=this.Tb=this.h=this.i=this.Rb=this.Pb=this.e=this.f=this.Ob=this.c=this.ib=0;this.Ea=[];this.fc=Array(8);this.Kb=i;this.Ka=Array(4);this.Oa=0;this.Na=Array(65);this.U=Array(65);this.Mb=[];this.tb=[];this.n=[];this.Ia=[];this.Ha=[];this.G=[];this.F=[];this.bb=[];this.fd();this.ed();this.gd()}
y.prototype={reset:function(){this.b=this.Xb=this.a=this.Cb=this.t=this.v=this.s=this.u=this.j=this.g=this.Yb=this.bc=this.i=this.h=this.Tb=this.Wb=this.f=this.e=this.Pb=this.Rb=this.c=this.Ob=0;this.o=57328;this.hb=this.q=0;this.ab=this.wa=this.va=n;this.ib=0;this.Ua=n},ic:function(a,b){for(this.q+=a;this.q>b;){this.xa&&this.od();var c=this.d(this.b++);this.ab=n;this.q-=B[c];switch(c){case 1:this.e=this.d(this.b++);this.f=this.d(this.b++);break;case 2:this.k(this.O(),this.c);break;case 3:this.ld();
break;case 4:this.f=this.Z(this.f);break;case 5:this.f=this.I(this.f);break;case 6:this.f=this.d(this.b++);break;case 7:this.vd();break;case 8:this.Yc();break;case 9:this.ob(this.W(this.l(),this.O()));break;case 10:this.c=this.d(this.O());break;case 11:this.ea();break;case 12:this.e=this.Z(this.e);break;case 13:this.e=this.I(this.e);break;case 14:this.e=this.d(this.b++);break;case 15:this.xd();break;case 16:this.f=this.f-1&255;this.kb(0!=this.f);break;case 17:this.h=this.d(this.b++);this.i=this.d(this.b++);
break;case 18:this.k(this.ba(),this.c);break;case 19:this.$b();break;case 20:this.i=this.Z(this.i);break;case 21:this.i=this.I(this.i);break;case 22:this.i=this.d(this.b++);break;case 23:this.ud();break;case 24:this.b+=this.p()+1;break;case 25:this.ob(this.W(this.l(),this.ba()));break;case 26:this.c=this.d(this.ba());break;case 27:this.Ub();break;case 28:this.h=this.Z(this.h);break;case 29:this.h=this.I(this.h);break;case 30:this.h=this.d(this.b++);break;case 31:this.wd();break;case 32:this.kb(0==
(this.a&64));break;case 33:this.g=this.d(this.b++);this.j=this.d(this.b++);break;case 34:c=this.w(this.b);this.k(c,this.g);this.k(++c,this.j);this.b+=2;break;case 35:this.ia();break;case 36:this.j=this.Z(this.j);break;case 37:this.j=this.I(this.j);break;case 38:this.j=this.d(this.b++);break;case 39:this.Hc();break;case 40:this.kb(0!=(this.a&64));break;case 41:this.ob(this.W(this.l(),this.l()));break;case 42:c=this.w(this.b);this.g=this.d(c);this.j=this.d(c+1);this.b+=2;break;case 43:this.fa();break;
case 44:this.g=this.Z(this.g);break;case 45:this.g=this.I(this.g);break;case 46:this.g=this.d(this.b++);break;case 47:this.Fc();break;case 48:this.kb(0==(this.a&1));break;case 49:this.o=this.w(this.b);this.b+=2;break;case 50:this.k(this.w(this.b),this.c);this.b+=2;break;case 51:this.o++;break;case 52:this.ac(this.l());break;case 53:this.Vb(this.l());break;case 54:this.k(this.l(),this.d(this.b++));break;case 55:this.a|=1;this.a&=-3;this.a&=-17;break;case 56:this.kb(0!=(this.a&1));break;case 57:this.ob(this.W(this.l(),
this.o));break;case 58:this.c=this.d(this.w(this.b));this.b+=2;break;case 59:this.o--;break;case 60:this.c=this.Z(this.c);break;case 61:this.c=this.I(this.c);break;case 62:this.c=this.d(this.b++);break;case 63:this.Cc();break;case 65:this.f=this.e;break;case 66:this.f=this.i;break;case 67:this.f=this.h;break;case 68:this.f=this.j;break;case 69:this.f=this.g;break;case 70:this.f=this.d(this.l());break;case 71:this.f=this.c;break;case 72:this.e=this.f;break;case 74:this.e=this.i;break;case 75:this.e=
this.h;break;case 76:this.e=this.j;break;case 77:this.e=this.g;break;case 78:this.e=this.d(this.l());break;case 79:this.e=this.c;break;case 80:this.i=this.f;break;case 81:this.i=this.e;break;case 83:this.i=this.h;break;case 84:this.i=this.j;break;case 85:this.i=this.g;break;case 86:this.i=this.d(this.l());break;case 87:this.i=this.c;break;case 88:this.h=this.f;break;case 89:this.h=this.e;break;case 90:this.h=this.i;break;case 92:this.h=this.j;break;case 93:this.h=this.g;break;case 94:this.h=this.d(this.l());
break;case 95:this.h=this.c;break;case 96:this.j=this.f;break;case 97:this.j=this.e;break;case 98:this.j=this.i;break;case 99:this.j=this.h;break;case 101:this.j=this.g;break;case 102:this.j=this.d(this.l());break;case 103:this.j=this.c;break;case 104:this.g=this.f;break;case 105:this.g=this.e;break;case 106:this.g=this.i;break;case 107:this.g=this.h;break;case 108:this.g=this.j;break;case 110:this.g=this.d(this.l());break;case 111:this.g=this.c;break;case 112:this.k(this.l(),this.f);break;case 113:this.k(this.l(),
this.e);break;case 114:this.k(this.l(),this.i);break;case 115:this.k(this.l(),this.h);break;case 116:this.k(this.l(),this.j);break;case 117:this.k(this.l(),this.g);break;case 118:this.Ua=h;this.b--;break;case 119:this.k(this.l(),this.c);break;case 120:this.c=this.f;break;case 121:this.c=this.e;break;case 122:this.c=this.i;break;case 123:this.c=this.h;break;case 124:this.c=this.j;break;case 125:this.c=this.g;break;case 126:this.c=this.d(this.l());break;case 128:this.L(this.f);break;case 129:this.L(this.e);
break;case 130:this.L(this.i);break;case 131:this.L(this.h);break;case 132:this.L(this.j);break;case 133:this.L(this.g);break;case 134:this.L(this.d(this.l()));break;case 135:this.L(this.c);break;case 136:this.N(this.f);break;case 137:this.N(this.e);break;case 138:this.N(this.i);break;case 139:this.N(this.h);break;case 140:this.N(this.j);break;case 141:this.N(this.g);break;case 142:this.N(this.d(this.l()));break;case 143:this.N(this.c);break;case 144:this.K(this.f);break;case 145:this.K(this.e);break;
case 146:this.K(this.i);break;case 147:this.K(this.h);break;case 148:this.K(this.j);break;case 149:this.K(this.g);break;case 150:this.K(this.d(this.l()));break;case 151:this.K(this.c);break;case 152:this.P(this.f);break;case 153:this.P(this.e);break;case 154:this.P(this.i);break;case 155:this.P(this.h);break;case 156:this.P(this.j);break;case 157:this.P(this.g);break;case 158:this.P(this.d(this.l()));break;case 159:this.P(this.c);break;case 160:this.a=this.n[this.c&=this.f]|16;break;case 161:this.a=
this.n[this.c&=this.e]|16;break;case 162:this.a=this.n[this.c&=this.i]|16;break;case 163:this.a=this.n[this.c&=this.h]|16;break;case 164:this.a=this.n[this.c&=this.j]|16;break;case 165:this.a=this.n[this.c&=this.g]|16;break;case 166:this.a=this.n[this.c&=this.d(this.l())]|16;break;case 167:this.a=this.n[this.c]|16;break;case 168:this.a=this.n[this.c^=this.f];break;case 169:this.a=this.n[this.c^=this.e];break;case 170:this.a=this.n[this.c^=this.i];break;case 171:this.a=this.n[this.c^=this.h];break;
case 172:this.a=this.n[this.c^=this.j];break;case 173:this.a=this.n[this.c^=this.g];break;case 174:this.a=this.n[this.c^=this.d(this.l())];break;case 175:this.a=this.n[this.c=0];break;case 176:this.a=this.n[this.c|=this.f];break;case 177:this.a=this.n[this.c|=this.e];break;case 178:this.a=this.n[this.c|=this.i];break;case 179:this.a=this.n[this.c|=this.h];break;case 180:this.a=this.n[this.c|=this.j];break;case 181:this.a=this.n[this.c|=this.g];break;case 182:this.a=this.n[this.c|=this.d(this.l())];
break;case 183:this.a=this.n[this.c];break;case 184:this.J(this.f);break;case 185:this.J(this.e);break;case 186:this.J(this.i);break;case 187:this.J(this.h);break;case 188:this.J(this.j);break;case 189:this.J(this.g);break;case 190:this.J(this.d(this.l()));break;case 191:this.J(this.c);break;case 192:this.Da(0==(this.a&64));break;case 193:this.yd(this.w(this.o));this.o+=2;break;case 194:this.Aa(0==(this.a&64));break;case 195:this.b=this.w(this.b);break;case 196:this.call(0==(this.a&64));break;case 197:this.push(this.f,
this.e);break;case 198:this.L(this.d(this.b++));break;case 199:this.push(this.b);this.b=0;break;case 200:this.Da(0!=(this.a&64));break;case 201:this.b=this.w(this.o);this.o+=2;break;case 202:this.Aa(0!=(this.a&64));break;case 203:this.Oc(this.d(this.b++));break;case 204:this.call(0!=(this.a&64));break;case 205:this.push(this.b+2);this.b=this.w(this.b);break;case 206:this.N(this.d(this.b++));break;case 207:this.push(this.b);this.b=8;break;case 208:this.Da(0==(this.a&1));break;case 209:this.zd(this.w(this.o));
this.o+=2;break;case 210:this.Aa(0==(this.a&1));break;case 211:this.port.V(this.d(this.b++),this.c);break;case 212:this.call(0==(this.a&1));break;case 213:this.push(this.i,this.h);break;case 214:this.K(this.d(this.b++));break;case 215:this.push(this.b);this.b=16;break;case 216:this.Da(0!=(this.a&1));break;case 217:this.Zc();this.$c();this.ad();break;case 218:this.Aa(0!=(this.a&1));break;case 219:this.c=this.port.Y(this.d(this.b++));break;case 220:this.call(0!=(this.a&1));break;case 221:this.Qc(this.d(this.b++));
break;case 222:this.P(this.d(this.b++));break;case 223:this.push(this.b);this.b=24;break;case 224:this.Da(0==(this.a&4));break;case 225:this.ob(this.w(this.o));this.o+=2;break;case 226:this.Aa(0==(this.a&4));break;case 227:c=this.j;this.j=this.d(this.o+1);this.k(this.o+1,c);c=this.g;this.g=this.d(this.o);this.k(this.o,c);break;case 228:this.call(0==(this.a&4));break;case 229:this.push(this.j,this.g);break;case 230:this.a=this.n[this.c&=this.d(this.b++)]|16;break;case 231:this.push(this.b);this.b=
32;break;case 232:this.Da(0!=(this.a&4));break;case 233:this.b=this.l();break;case 234:this.Aa(0!=(this.a&4));break;case 235:c=this.i;this.i=this.j;this.j=c;c=this.h;this.h=this.g;this.g=c;break;case 236:this.call(0!=(this.a&4));break;case 237:this.Pc(this.d(this.b));break;case 238:this.a=this.n[this.c^=this.d(this.b++)];break;case 239:this.push(this.b);this.b=40;break;case 240:this.Da(0==(this.a&128));break;case 241:this.a=this.d(this.o++);this.c=this.d(this.o++);break;case 242:this.Aa(0==(this.a&
128));break;case 243:this.va=this.wa=n;this.ab=h;break;case 244:this.call(0==(this.a&128));break;case 245:this.push(this.c,this.a);break;case 246:this.a=this.n[this.c|=this.d(this.b++)];break;case 247:this.push(this.b);this.b=48;break;case 248:this.Da(0!=(this.a&128));break;case 249:this.o=this.l();break;case 250:this.Aa(0!=(this.a&128));break;case 251:this.va=this.wa=this.ab=h;break;case 252:this.call(0!=(this.a&128));break;case 253:this.Rc(this.d(this.b++));break;case 254:this.J(this.d(this.b++));
break;case 255:this.push(this.b),this.b=56}}},qd:function(){this.wa=this.va;this.va=n;this.Ua&&(this.b++,this.Ua=n);this.push(this.b);this.b=102;this.q-=11},od:function(){this.va&&!this.ab&&((this.Ua&&(this.b++,this.Ua=n),this.xa=this.va=this.wa=n,this.push(this.b),0==this.hb)?(this.b=0==this.ib||255==this.ib?56:this.ib,this.q-=13):1==this.hb?(this.b=56,this.q-=13):(this.b=this.w((this.Cb<<8)+this.ib),this.q-=19))},Aa:function(a){this.b=a?this.w(this.b):this.b+2},kb:function(a){a?(a=this.p()+1,this.b+=
128>a?a:a-256,this.q-=5):this.b++},call:function(a){a?(this.push(this.b+2),this.b=this.w(this.b),this.q-=7):this.b+=2},Da:function(a){a&&(this.b=this.w(this.o),this.o+=2,this.q-=6)},push:function(a,b){"undefined"===typeof b?(this.k(--this.o,a>>8),this.k(--this.o,a&255)):(this.k(--this.o,a),this.k(--this.o,b))},ac:function(a){this.k(a,this.Z(this.d(a)))},Vb:function(a){this.k(a,this.I(this.d(a)))},Cc:function(){0!=(this.a&1)?(this.a&=-2,this.a|=16):(this.a|=1,this.a&=-17);this.a&=-3},Hc:function(){var a=
this.Mb[this.c|(this.a&1)<<8|(this.a&2)<<8|(this.a&16)<<6];this.c=a&255;this.a=this.a&2|a>>8},Oc:function(a){this.q-=C[a];switch(a){case 0:this.f=this.la(this.f);break;case 1:this.e=this.la(this.e);break;case 2:this.i=this.la(this.i);break;case 3:this.h=this.la(this.h);break;case 4:this.j=this.la(this.j);break;case 5:this.g=this.la(this.g);break;case 6:this.k(this.l(),this.la(this.d(this.l())));break;case 7:this.c=this.la(this.c);break;case 8:this.f=this.na(this.f);break;case 9:this.e=this.na(this.e);
break;case 10:this.i=this.na(this.i);break;case 11:this.h=this.na(this.h);break;case 12:this.j=this.na(this.j);break;case 13:this.g=this.na(this.g);break;case 14:this.k(this.l(),this.na(this.d(this.l())));break;case 15:this.c=this.na(this.c);break;case 16:this.f=this.ca(this.f);break;case 17:this.e=this.ca(this.e);break;case 18:this.i=this.ca(this.i);break;case 19:this.h=this.ca(this.h);break;case 20:this.j=this.ca(this.j);break;case 21:this.g=this.ca(this.g);break;case 22:this.k(this.l(),this.ca(this.d(this.l())));
break;case 23:this.c=this.ca(this.c);break;case 24:this.f=this.ma(this.f);break;case 25:this.e=this.ma(this.e);break;case 26:this.i=this.ma(this.i);break;case 27:this.h=this.ma(this.h);break;case 28:this.j=this.ma(this.j);break;case 29:this.g=this.ma(this.g);break;case 30:this.k(this.l(),this.ma(this.d(this.l())));break;case 31:this.c=this.ma(this.c);break;case 32:this.f=this.oa(this.f);break;case 33:this.e=this.oa(this.e);break;case 34:this.i=this.oa(this.i);break;case 35:this.h=this.oa(this.h);
break;case 36:this.j=this.oa(this.j);break;case 37:this.g=this.oa(this.g);break;case 38:this.k(this.l(),this.oa(this.d(this.l())));break;case 39:this.c=this.oa(this.c);break;case 40:this.f=this.qa(this.f);break;case 41:this.e=this.qa(this.e);break;case 42:this.i=this.qa(this.i);break;case 43:this.h=this.qa(this.h);break;case 44:this.j=this.qa(this.j);break;case 45:this.g=this.qa(this.g);break;case 46:this.k(this.l(),this.qa(this.d(this.l())));break;case 47:this.c=this.qa(this.c);break;case 48:this.f=
this.pa(this.f);break;case 49:this.e=this.pa(this.e);break;case 50:this.i=this.pa(this.i);break;case 51:this.h=this.pa(this.h);break;case 52:this.j=this.pa(this.j);break;case 53:this.g=this.pa(this.g);break;case 54:this.k(this.l(),this.pa(this.d(this.l())));break;case 55:this.c=this.pa(this.c);break;case 56:this.f=this.Ga(this.f);break;case 57:this.e=this.Ga(this.e);break;case 58:this.i=this.Ga(this.i);break;case 59:this.h=this.Ga(this.h);break;case 60:this.j=this.Ga(this.j);break;case 61:this.g=
this.ca(this.g);break;case 62:this.k(this.l(),this.Ga(this.d(this.l())));break;case 63:this.c=this.Ga(this.c);break;case 64:this.m(this.f&1);break;case 65:this.m(this.e&1);break;case 66:this.m(this.i&1);break;case 67:this.m(this.h&1);break;case 68:this.m(this.j&1);break;case 69:this.m(this.g&1);break;case 70:this.m(this.d(this.l())&1);break;case 71:this.m(this.c&1);break;case 72:this.m(this.f&2);break;case 73:this.m(this.e&2);break;case 74:this.m(this.i&2);break;case 75:this.m(this.h&2);break;case 76:this.m(this.j&
2);break;case 77:this.m(this.g&2);break;case 78:this.m(this.d(this.l())&2);break;case 79:this.m(this.c&2);break;case 80:this.m(this.f&4);break;case 81:this.m(this.e&4);break;case 82:this.m(this.i&4);break;case 83:this.m(this.h&4);break;case 84:this.m(this.j&4);break;case 85:this.m(this.g&4);break;case 86:this.m(this.d(this.l())&4);break;case 87:this.m(this.c&4);break;case 88:this.m(this.f&8);break;case 89:this.m(this.e&8);break;case 90:this.m(this.i&8);break;case 91:this.m(this.h&8);break;case 92:this.m(this.j&
8);break;case 93:this.m(this.g&8);break;case 94:this.m(this.d(this.l())&8);break;case 95:this.m(this.c&8);break;case 96:this.m(this.f&16);break;case 97:this.m(this.e&16);break;case 98:this.m(this.i&16);break;case 99:this.m(this.h&16);break;case 100:this.m(this.j&16);break;case 101:this.m(this.g&16);break;case 102:this.m(this.d(this.l())&16);break;case 103:this.m(this.c&16);break;case 104:this.m(this.f&32);break;case 105:this.m(this.e&32);break;case 106:this.m(this.i&32);break;case 107:this.m(this.h&
32);break;case 108:this.m(this.j&32);break;case 109:this.m(this.g&32);break;case 110:this.m(this.d(this.l())&32);break;case 111:this.m(this.c&32);break;case 112:this.m(this.f&64);break;case 113:this.m(this.e&64);break;case 114:this.m(this.i&64);break;case 115:this.m(this.h&64);break;case 116:this.m(this.j&64);break;case 117:this.m(this.g&64);break;case 118:this.m(this.d(this.l())&64);break;case 119:this.m(this.c&64);break;case 120:this.m(this.f&128);break;case 121:this.m(this.e&128);break;case 122:this.m(this.i&
128);break;case 123:this.m(this.h&128);break;case 124:this.m(this.j&128);break;case 125:this.m(this.g&128);break;case 126:this.m(this.d(this.l())&128);break;case 127:this.m(this.c&128);break;case 128:this.f&=-2;break;case 129:this.e&=-2;break;case 130:this.i&=-2;break;case 131:this.h&=-2;break;case 132:this.j&=-2;break;case 133:this.g&=-2;break;case 134:this.k(this.l(),this.d(this.l())&-2);break;case 135:this.c&=-2;break;case 136:this.f&=-3;break;case 137:this.e&=-3;break;case 138:this.i&=-3;break;
case 139:this.h&=-3;break;case 140:this.j&=-3;break;case 141:this.g&=-3;break;case 142:this.k(this.l(),this.d(this.l())&-3);break;case 143:this.c&=-3;break;case 144:this.f&=-5;break;case 145:this.e&=-5;break;case 146:this.i&=-5;break;case 147:this.h&=-5;break;case 148:this.j&=-5;break;case 149:this.g&=-5;break;case 150:this.k(this.l(),this.d(this.l())&-5);break;case 151:this.c&=-5;break;case 152:this.f&=-9;break;case 153:this.e&=-9;break;case 154:this.i&=-9;break;case 155:this.h&=-9;break;case 156:this.j&=
-9;break;case 157:this.g&=-9;break;case 158:this.k(this.l(),this.d(this.l())&-9);break;case 159:this.c&=-9;break;case 160:this.f&=-17;break;case 161:this.e&=-17;break;case 162:this.i&=-17;break;case 163:this.h&=-17;break;case 164:this.j&=-17;break;case 165:this.g&=-17;break;case 166:this.k(this.l(),this.d(this.l())&-17);break;case 167:this.c&=-17;break;case 168:this.f&=-33;break;case 169:this.e&=-33;break;case 170:this.i&=-33;break;case 171:this.h&=-33;break;case 172:this.j&=-33;break;case 173:this.g&=
-33;break;case 174:this.k(this.l(),this.d(this.l())&-33);break;case 175:this.c&=-33;break;case 176:this.f&=-65;break;case 177:this.e&=-65;break;case 178:this.i&=-65;break;case 179:this.h&=-65;break;case 180:this.j&=-65;break;case 181:this.g&=-65;break;case 182:this.k(this.l(),this.d(this.l())&-65);break;case 183:this.c&=-65;break;case 184:this.f&=-129;break;case 185:this.e&=-129;break;case 186:this.i&=-129;break;case 187:this.h&=-129;break;case 188:this.j&=-129;break;case 189:this.g&=-129;break;case 190:this.k(this.l(),
this.d(this.l())&-129);break;case 191:this.c&=-129;break;case 192:this.f|=1;break;case 193:this.e|=1;break;case 194:this.i|=1;break;case 195:this.h|=1;break;case 196:this.j|=1;break;case 197:this.g|=1;break;case 198:this.k(this.l(),this.d(this.l())|1);break;case 199:this.c|=1;break;case 200:this.f|=2;break;case 201:this.e|=2;break;case 202:this.i|=2;break;case 203:this.h|=2;break;case 204:this.j|=2;break;case 205:this.g|=2;break;case 206:this.k(this.l(),this.d(this.l())|2);break;case 207:this.c|=
2;break;case 208:this.f|=4;break;case 209:this.e|=4;break;case 210:this.i|=4;break;case 211:this.h|=4;break;case 212:this.j|=4;break;case 213:this.g|=4;break;case 214:this.k(this.l(),this.d(this.l())|4);break;case 215:this.c|=4;break;case 216:this.f|=8;break;case 217:this.e|=8;break;case 218:this.i|=8;break;case 219:this.h|=8;break;case 220:this.j|=8;break;case 221:this.g|=8;break;case 222:this.k(this.l(),this.d(this.l())|8);break;case 223:this.c|=8;break;case 224:this.f|=16;break;case 225:this.e|=
16;break;case 226:this.i|=16;break;case 227:this.h|=16;break;case 228:this.j|=16;break;case 229:this.g|=16;break;case 230:this.k(this.l(),this.d(this.l())|16);break;case 231:this.c|=16;break;case 232:this.f|=32;break;case 233:this.e|=32;break;case 234:this.i|=32;break;case 235:this.h|=32;break;case 236:this.j|=32;break;case 237:this.g|=32;break;case 238:this.k(this.l(),this.d(this.l())|32);break;case 239:this.c|=32;break;case 240:this.f|=64;break;case 241:this.e|=64;break;case 242:this.i|=64;break;
case 243:this.h|=64;break;case 244:this.j|=64;break;case 245:this.g|=64;break;case 246:this.k(this.l(),this.d(this.l())|64);break;case 247:this.c|=64;break;case 248:this.f|=128;break;case 249:this.e|=128;break;case 250:this.i|=128;break;case 251:this.h|=128;break;case 252:this.j|=128;break;case 253:this.g|=128;break;case 254:this.k(this.l(),this.d(this.l())|128);break;case 255:this.c|=128}},la:function(a){var b=(a&128)>>7,a=(a<<1|a>>7)&255;this.a=b|this.n[a];return a},na:function(a){var b=a&1,a=(a>>
1|a<<7)&255;this.a=b|this.n[a];return a},ca:function(a){var b=(a&128)>>7,a=(a<<1|this.a&1)&255;this.a=b|this.n[a];return a},ma:function(a){var b=a&1,a=(a>>1|this.a<<7)&255;this.a=b|this.n[a];return a},oa:function(a){var b=(a&128)>>7,a=a<<1&255;this.a=b|this.n[a];return a},pa:function(a){var b=(a&128)>>7,a=(a<<1|1)&255;this.a=b|this.n[a];return a},qa:function(a){var b=a&1,a=a>>1|a&128;this.a=b|this.n[a];return a},Ga:function(a){var b=a&1,a=a>>1&255;this.a=b|this.n[a];return a},m:function(a){this.a=
this.a&1|this.bb[a]},Qc:function(a){this.q-=D[a];switch(a){case 9:this.Pa(this.W(this.z(),this.O()));break;case 25:this.Pa(this.W(this.z(),this.ba()));break;case 33:this.Pa(this.w(this.b));this.b+=2;break;case 34:a=this.w(this.b);this.k(a++,this.s);this.k(a,this.u);this.b+=2;break;case 35:this.md();break;case 36:this.u=this.Z(this.u);break;case 37:this.u=this.I(this.u);break;case 38:this.u=this.d(this.b++);break;case 41:this.Pa(this.W(this.z(),this.z()));break;case 42:a=this.w(this.b);this.s=this.d(a);
this.u=this.d(++a);this.b+=2;break;case 43:this.Kc();break;case 44:this.s=this.Z(this.s);break;case 45:this.s=this.I(this.s);break;case 46:this.s=this.d(this.b++);break;case 52:this.ac(this.z()+this.p());this.b++;break;case 53:this.Vb(this.z()+this.p());this.b++;break;case 54:this.k(this.z()+this.p(),this.d(++this.b));this.b++;break;case 57:this.Pa(this.W(this.z(),this.o));break;case 68:this.f=this.u;break;case 69:this.f=this.s;break;case 70:this.f=this.d(this.z()+this.p());this.b++;break;case 76:this.e=
this.u;break;case 77:this.e=this.s;break;case 78:this.e=this.d(this.z()+this.p());this.b++;break;case 84:this.i=this.u;break;case 85:this.i=this.s;break;case 86:this.i=this.d(this.z()+this.p());this.b++;break;case 92:this.h=this.u;break;case 93:this.h=this.s;break;case 94:this.h=this.d(this.z()+this.p());this.b++;break;case 96:this.u=this.f;break;case 97:this.u=this.e;break;case 98:this.u=this.i;break;case 99:this.u=this.h;break;case 100:break;case 101:this.u=this.s;break;case 102:this.j=this.d(this.z()+
this.p());this.b++;break;case 103:this.u=this.c;break;case 104:this.s=this.f;break;case 105:this.s=this.e;break;case 106:this.s=this.i;break;case 107:this.s=this.h;break;case 108:this.s=this.u;break;case 109:break;case 110:this.g=this.d(this.z()+this.p());this.b++;break;case 111:this.s=this.c;break;case 112:this.k(this.z()+this.p(),this.f);this.b++;break;case 113:this.k(this.z()+this.p(),this.e);this.b++;break;case 114:this.k(this.z()+this.p(),this.i);this.b++;break;case 115:this.k(this.z()+this.p(),
this.h);this.b++;break;case 116:this.k(this.z()+this.p(),this.j);this.b++;break;case 117:this.k(this.z()+this.p(),this.g);this.b++;break;case 119:this.k(this.z()+this.p(),this.c);this.b++;break;case 124:this.c=this.u;break;case 125:this.c=this.s;break;case 126:this.c=this.d(this.z()+this.p());this.b++;break;case 132:this.L(this.u);break;case 133:this.L(this.s);break;case 134:this.L(this.d(this.z()+this.p()));this.b++;break;case 140:this.N(this.u);break;case 141:this.N(this.s);break;case 142:this.N(this.d(this.z()+
this.p()));this.b++;break;case 148:this.K(this.u);break;case 149:this.K(this.s);break;case 150:this.K(this.d(this.z()+this.p()));this.b++;break;case 156:this.P(this.u);break;case 157:this.P(this.s);break;case 158:this.P(this.d(this.z()+this.p()));this.b++;break;case 164:this.a=this.n[this.c&=this.u]|16;break;case 165:this.a=this.n[this.c&=this.s]|16;break;case 166:this.a=this.n[this.c&=this.d(this.z()+this.p())]|16;this.b++;break;case 172:this.a=this.n[this.c^=this.u];break;case 173:this.a=this.n[this.c^=
this.s];break;case 174:this.a=this.n[this.c^=this.d(this.z()+this.p())];this.b++;break;case 180:this.a=this.n[this.c|=this.u];break;case 181:this.a=this.n[this.c|=this.s];break;case 182:this.a=this.n[this.c|=this.d(this.z()+this.p())];this.b++;break;case 188:this.J(this.u);break;case 189:this.J(this.s);break;case 190:this.J(this.d(this.z()+this.p()));this.b++;break;case 203:this.nc(this.z());break;case 225:this.Pa(this.w(this.o));this.o+=2;break;case 227:a=this.z();this.Pa(this.w(this.o));this.k(this.o,
a&255);this.k(this.o+1,a>>8);break;case 229:this.push(this.u,this.s);break;case 233:this.b=this.z();break;case 249:this.o=this.z();break;default:this.b--}},Rc:function(a){this.q-=D[a];switch(a){case 9:this.Qa(this.W(this.A(),this.O()));break;case 25:this.Qa(this.W(this.A(),this.ba()));break;case 33:this.Qa(this.w(this.b));this.b+=2;break;case 34:a=this.w(this.b);this.k(a++,this.t);this.k(a,this.v);this.b+=2;break;case 35:this.nd();break;case 36:this.v=this.Z(this.v);break;case 37:this.v=this.I(this.v);
break;case 38:this.v=this.d(this.b++);break;case 41:this.Qa(this.W(this.A(),this.A()));break;case 42:a=this.w(this.b);this.t=this.d(a);this.v=this.d(++a);this.b+=2;break;case 43:this.Lc();break;case 44:this.t=this.Z(this.t);break;case 45:this.t=this.I(this.t);break;case 46:this.t=this.d(this.b++);break;case 52:this.ac(this.A()+this.p());this.b++;break;case 53:this.Vb(this.A()+this.p());this.b++;break;case 54:this.k(this.A()+this.p(),this.d(++this.b));this.b++;break;case 57:this.Qa(this.W(this.A(),
this.o));break;case 68:this.f=this.v;break;case 69:this.f=this.t;break;case 70:this.f=this.d(this.A()+this.p());this.b++;break;case 76:this.e=this.v;break;case 77:this.e=this.t;break;case 78:this.e=this.d(this.A()+this.p());this.b++;break;case 84:this.i=this.v;break;case 85:this.i=this.t;break;case 86:this.i=this.d(this.A()+this.p());this.b++;break;case 92:this.h=this.v;break;case 93:this.h=this.t;break;case 94:this.h=this.d(this.A()+this.p());this.b++;break;case 96:this.v=this.f;break;case 97:this.v=
this.e;break;case 98:this.v=this.i;break;case 99:this.v=this.h;break;case 100:break;case 101:this.v=this.t;break;case 102:this.j=this.d(this.A()+this.p());this.b++;break;case 103:this.v=this.c;break;case 104:this.t=this.f;break;case 105:this.t=this.e;break;case 106:this.t=this.i;break;case 107:this.t=this.h;break;case 108:this.t=this.v;break;case 109:break;case 110:this.g=this.d(this.A()+this.p());this.b++;break;case 111:this.t=this.c;break;case 112:this.k(this.A()+this.p(),this.f);this.b++;break;
case 113:this.k(this.A()+this.p(),this.e);this.b++;break;case 114:this.k(this.A()+this.p(),this.i);this.b++;break;case 115:this.k(this.A()+this.p(),this.h);this.b++;break;case 116:this.k(this.A()+this.p(),this.j);this.b++;break;case 117:this.k(this.A()+this.p(),this.g);this.b++;break;case 119:this.k(this.A()+this.p(),this.c);this.b++;break;case 124:this.c=this.v;break;case 125:this.c=this.t;break;case 126:this.c=this.d(this.A()+this.p());this.b++;break;case 132:this.L(this.v);break;case 133:this.L(this.t);
break;case 134:this.L(this.d(this.A()+this.p()));this.b++;break;case 140:this.N(this.v);break;case 141:this.N(this.t);break;case 142:this.N(this.d(this.A()+this.p()));this.b++;break;case 148:this.K(this.v);break;case 149:this.K(this.t);break;case 150:this.K(this.d(this.A()+this.p()));this.b++;break;case 156:this.P(this.v);break;case 157:this.P(this.t);break;case 158:this.P(this.d(this.A()+this.p()));this.b++;break;case 164:this.a=this.n[this.c&=this.v]|16;break;case 165:this.a=this.n[this.c&=this.t]|
16;break;case 166:this.a=this.n[this.c&=this.d(this.A()+this.p())]|16;this.b++;break;case 172:this.a=this.n[this.c^=this.v];break;case 173:this.a=this.n[this.c^=this.t];break;case 174:this.a=this.n[this.c^=this.d(this.A()+this.p())];this.b++;break;case 180:this.a=this.n[this.c|=this.v];break;case 181:this.a=this.n[this.c|=this.t];break;case 182:this.a=this.n[this.c|=this.d(this.A()+this.p())];this.b++;break;case 188:this.J(this.v);break;case 189:this.J(this.t);break;case 190:this.J(this.d(this.A()+
this.p()));this.b++;break;case 203:this.nc(this.A());break;case 225:this.Qa(this.w(this.o));this.o+=2;break;case 227:a=this.A();this.Qa(this.w(this.o));this.k(this.o,a&255);this.k(this.o+1,a>>8);break;case 229:this.push(this.v,this.t);break;case 233:this.b=this.A();break;case 249:this.o=this.A();break;default:this.b--}},nc:function(a){var a=a+this.p()&65535,b=this.d(++this.b);this.q-=F[b];switch(b){case 6:this.k(a,this.la(this.d(a)));break;case 14:this.k(a,this.na(this.d(a)));break;case 22:this.k(a,
this.ca(this.d(a)));break;case 30:this.k(a,this.ma(this.d(a)));break;case 38:this.k(a,this.oa(this.d(a)));break;case 46:this.k(a,this.qa(this.d(a)));break;case 54:this.k(a,this.pa(this.d(a)));break;case 62:this.k(a,this.Ga(this.d(a)));break;case 70:this.m(this.d(a)&1);break;case 78:this.m(this.d(a)&2);break;case 86:this.m(this.d(a)&4);break;case 94:this.m(this.d(a)&8);break;case 102:this.m(this.d(a)&16);break;case 110:this.m(this.d(a)&32);break;case 118:this.m(this.d(a)&64);break;case 126:this.m(this.d(a)&
128);break;case 134:this.k(a,this.d(a)&-2);break;case 142:this.k(a,this.d(a)&-3);break;case 150:this.k(a,this.d(a)&-5);break;case 158:this.k(a,this.d(a)&-9);break;case 166:this.k(a,this.d(a)&-17);break;case 174:this.k(a,this.d(a)&-33);break;case 182:this.k(a,this.d(a)&-65);break;case 190:this.k(a,this.d(a)&-129);break;case 198:this.k(a,this.d(a)|1);break;case 206:this.k(a,this.d(a)|2);break;case 214:this.k(a,this.d(a)|4);break;case 222:this.k(a,this.d(a)|8);break;case 230:this.k(a,this.d(a)|16);break;
case 238:this.k(a,this.d(a)|32);break;case 246:this.k(a,this.d(a)|64);break;case 254:this.k(a,this.d(a)|128)}this.b++},Pc:function(a){this.q-=G[a];switch(a){case 64:this.f=this.port.Y(this.e);this.a=this.a&1|this.n[this.f];this.b++;break;case 65:this.port.V(this.e,this.f);this.b++;break;case 66:this.Jb(this.O());this.b++;break;case 67:a=this.w(this.b+1);this.k(a++,this.e);this.k(a,this.f);this.b+=3;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:a=this.c;this.c=0;this.K(a);
this.b++;break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:this.b=this.w(this.o);this.o+=2;this.va=this.wa;break;case 70:case 78:case 102:case 110:this.hb=0;this.b++;break;case 71:this.Cb=this.c;this.b++;break;case 72:this.e=this.port.Y(this.e);this.a=this.a&1|this.n[this.e];this.b++;break;case 73:this.port.V(this.e,this.e);this.b++;break;case 74:this.ub(this.O());this.b++;break;case 75:a=this.w(this.b+1);this.e=this.d(a++);this.f=this.d(a);this.b+=3;break;case 79:this.b++;
break;case 80:this.i=this.port.Y(this.e);this.a=this.a&1|this.n[this.i];this.b++;break;case 81:this.port.V(this.e,this.i);this.b++;break;case 82:this.Jb(this.ba());this.b++;break;case 83:a=this.w(this.b+1);this.k(a++,this.h);this.k(a,this.i);this.b+=3;break;case 86:case 118:this.hb=1;this.b++;break;case 87:this.c=this.Cb;this.a=this.a&1|this.tb[this.c]|(this.wa?4:0);this.b++;break;case 88:this.h=this.port.Y(this.e);this.a=this.a&1|this.n[this.h];this.b++;break;case 89:this.port.V(this.e,this.h);this.b++;
break;case 90:this.ub(this.ba());this.b++;break;case 91:a=this.w(this.b+1);this.h=this.d(a++);this.i=this.d(a);this.b+=3;break;case 95:this.c=Math.round(255*Math.random());this.a=this.a&1|this.tb[this.c]|(this.wa?4:0);this.b++;break;case 96:this.j=this.port.Y(this.e);this.a=this.a&1|this.n[this.j];this.b++;break;case 97:this.port.V(this.e,this.j);this.b++;break;case 98:this.Jb(this.l());this.b++;break;case 99:a=this.w(this.b+1);this.k(a++,this.g);this.k(a,this.j);this.b+=3;break;case 103:var a=this.l(),
b=this.d(a);this.k(a,b>>4|(this.c&15)<<4);this.c=this.c&240|b&15;this.a=this.a&1|this.n[this.c];this.b++;break;case 104:this.g=this.port.Y(this.e);this.a=this.a&1|this.n[this.g];this.b++;break;case 105:this.port.V(this.e,this.g);this.b++;break;case 106:this.ub(this.l());this.b++;break;case 107:a=this.w(this.b+1);this.g=this.d(a++);this.j=this.d(a);this.b+=3;break;case 111:a=this.l();b=this.d(a);this.k(a,(b&15)<<4|this.c&15);this.c=this.c&240|b>>4;this.a=this.a&1|this.n[this.c];this.b++;break;case 113:this.port.V(this.e,
0);this.b++;break;case 114:this.Jb(this.o);this.b++;break;case 115:a=this.w(this.b+1);this.k(a++,this.o&255);this.k(a,this.o>>8);this.b+=3;break;case 120:this.c=this.port.Y(this.e);this.a=this.a&1|this.n[this.c];this.b++;break;case 121:this.port.V(this.e,this.c);this.b++;break;case 122:this.ub(this.o);this.b++;break;case 123:this.o=this.w(this.w(this.b+1));this.b+=3;break;case 160:this.k(this.ba(),this.d(this.l()));this.$b();this.ia();this.ea();this.a=this.a&193|(0!=this.O()?4:0);this.b++;break;case 161:a=
this.a&1|2;this.J(this.d(this.l()));this.ia();this.ea();a|=0==this.O()?0:4;this.a=this.a&248|a;this.b++;break;case 162:a=this.port.Y(this.e);this.k(this.l(),a);this.f=this.I(this.f);this.ia();this.a=128==(a&128)?this.a|2:this.a&-3;this.b++;break;case 163:a=this.d(this.l());this.port.V(this.e,a);this.ia();this.f=this.I(this.f);255<this.g+a?(this.a|=1,this.a|=16):(this.a&=-2,this.a&=-17);this.a=128==(a&128)?this.a|2:this.a&-3;this.b++;break;case 168:this.k(this.ba(),this.d(this.l()));this.Ub();this.fa();
this.ea();this.a=this.a&193|(0!=this.O()?4:0);this.b++;break;case 169:a=this.a&1|2;this.J(this.d(this.l()));this.fa();this.ea();a|=0==this.O()?0:4;this.a=this.a&248|a;this.b++;break;case 170:a=this.port.Y(this.e);this.k(this.l(),a);this.f=this.I(this.f);this.fa();this.a=0!=(a&128)?this.a|2:this.a&-3;this.b++;break;case 171:a=this.d(this.l());this.port.V(this.e,a);this.fa();this.f=this.I(this.f);255<this.g+a?(this.a|=1,this.a|=16):(this.a&=-2,this.a&=-17);this.a=128==(a&128)?this.a|2:this.a&-3;this.b++;
break;case 176:this.k(this.ba(),this.d(this.l()));this.$b();this.ia();this.ea();0!=this.O()?(this.a|=4,this.q-=5,this.b--):(this.a&=-5,this.b++);this.a&=-3;this.a&=-17;break;case 177:a=this.a&1|2;this.J(this.d(this.l()));this.ia();this.ea();a|=0==this.O()?0:4;0!=(a&4)&&0==(this.a&64)?(this.q-=5,this.b--):this.b++;this.a=this.a&248|a;break;case 178:a=this.port.Y(this.e);this.k(this.l(),a);this.f=this.I(this.f);this.ia();0!=this.f?(this.q-=5,this.b--):this.b++;this.a=128==(a&128)?this.a|2:this.a&-3;
break;case 179:a=this.d(this.l());this.port.V(this.e,a);this.f=this.I(this.f);this.ia();0!=this.f?(this.q-=5,this.b--):this.b++;255<this.g+a?(this.a|=1,this.a|=16):(this.a&=-2,this.a&=-17);this.a=0!=(a&128)?this.a|2:this.a&-3;break;case 184:this.k(this.ba(),this.d(this.l()));this.Ub();this.fa();this.ea();0!=this.O()?(this.a|=4,this.q-=5,this.b--):(this.a&=-5,this.b++);this.a&=-3;this.a&=-17;break;case 185:a=this.a&1|2;this.J(this.d(this.l()));this.fa();this.ea();a|=0==this.O()?0:4;0!=(a&4)&&0==(this.a&
64)?(this.q-=5,this.b--):this.b++;this.a=this.a&248|a;break;case 186:a=this.port.Y(this.e);this.k(this.l(),a);this.f=this.I(this.f);this.fa();0!=this.f?(this.q-=5,this.b--):this.b++;this.a=0!=(a&128)?this.a|2:this.a&-3;break;case 187:a=this.d(this.l());this.port.V(this.e,a);this.f=this.I(this.f);this.fa();0!=this.f?(this.q-=5,this.b--):this.b++;255<this.g+a?(this.a|=1,this.a|=16):(this.a&=-2,this.a&=-17);this.a=0!=(a&128)?this.a|2:this.a&-3;break;default:this.b++}},ed:function(){this.Mb=Array(2048);
for(var a=256;0!=a--;)for(var b=0;1>=b;b++)for(var c=0;1>=c;c++)for(var e=0;1>=e;e++)this.Mb[b<<8|e<<9|c<<10|a]=this.hd(a,b|e<<1|c<<4);this.c=this.a=0},hd:function(a,b){this.c=a;this.a=b;var c=this.c,e=0,d=b&1,f=d;if(0!=(b&16)||9<(c&15))e|=6;if(1==d||159<c||143<c&&9<(c&15))e|=96,f=1;153<c&&(f=1);0!=(b&2)?this.K(e):this.L(e);b=this.a&254|f;b=this.rc(this.c)?b&251|4:b&251;return this.c|b<<8},L:function(a){a=this.c+a&255;this.a=this.G[this.c<<8|a];this.c=a},N:function(a){var b=this.a&1,a=this.c+a+b&
255;this.a=this.G[b<<16|this.c<<8|a];this.c=a},K:function(a){a=this.c-a&255;this.a=this.F[this.c<<8|a];this.c=a},P:function(a){var b=this.a&1,a=this.c-a-b&255;this.a=this.F[b<<16|this.c<<8|a];this.c=a},J:function(a){this.a=this.F[this.c<<8|this.c-a&255]},Fc:function(){this.c^=255;this.a|=18},wd:function(){var a=this.c&1;this.c=(this.c>>1|(this.a&1)<<7)&255;this.a=this.a&236|a},ud:function(){var a=this.c>>7;this.c=(this.c<<1|this.a&1)&255;this.a=this.a&236|a},vd:function(){var a=this.c>>7;this.c=this.c<<
1&255|a;this.a=this.a&236|a},xd:function(){var a=this.c&1;this.c=this.c>>1|a<<7;this.a=this.a&236|a},O:function(){return this.f<<8|this.e},ba:function(){return this.i<<8|this.h},l:function(){return this.j<<8|this.g},z:function(){return this.u<<8|this.s},A:function(){return this.v<<8|this.t},yd:function(a){this.f=a>>8;this.e=a&255},zd:function(a){this.i=a>>8;this.h=a&255},ob:function(a){this.j=a>>8;this.g=a&255},Pa:function(a){this.u=a>>8;this.s=a&255},Qa:function(a){this.v=a>>8;this.t=a&255},ld:function(){this.e=
this.e+1&255;0==this.e&&(this.f=this.f+1&255)},$b:function(){this.h=this.h+1&255;0==this.h&&(this.i=this.i+1&255)},ia:function(){this.g=this.g+1&255;0==this.g&&(this.j=this.j+1&255)},md:function(){this.s=this.s+1&255;0==this.s&&(this.u=this.u+1&255)},nd:function(){this.t=this.t+1&255;0==this.t&&(this.v=this.v+1&255)},ea:function(){this.e=this.e-1&255;255==this.e&&(this.f=this.f-1&255)},Ub:function(){this.h=this.h-1&255;255==this.h&&(this.i=this.i-1&255)},fa:function(){this.g=this.g-1&255;255==this.g&&
(this.j=this.j-1&255)},Kc:function(){this.s=this.s-1&255;255==this.s&&(this.u=this.u-1&255)},Lc:function(){this.t=this.t-1&255;255==this.t&&(this.v=this.v-1&255)},Z:function(a){a=a+1&255;this.a=this.a&1|this.Ia[a];return a},I:function(a){a=a-1&255;this.a=this.a&1|this.Ha[a];return a},Yc:function(){var a=this.c;this.c=this.Ob;this.Ob=a;a=this.a;this.a=this.Xb;this.Xb=a},Zc:function(){var a=this.f;this.f=this.Pb;this.Pb=a;a=this.e;this.e=this.Rb;this.Rb=a},$c:function(){var a=this.i;this.i=this.Tb;
this.Tb=a;a=this.h;this.h=this.Wb;this.Wb=a},ad:function(){var a=this.j;this.j=this.Yb;this.Yb=a;a=this.g;this.g=this.bc;this.bc=a},W:function(a,b){var c=a+b;this.a=this.a&196|(a^c^b)>>8&16|c>>16&1;return c&65535},ub:function(a){var b=this.j<<8|this.g,c=b+a+(this.a&1);this.a=(b^c^a)>>8&16|c>>16&1|c>>8&128|(0!=(c&65535)?0:64)|((a^b^32768)&(a^c)&32768)>>13;this.j=c>>8&255;this.g=c&255},Jb:function(a){var b=this.j<<8|this.g,c=b-a-(this.a&1);this.a=(b^c^a)>>8&16|2|c>>16&1|c>>8&128|(0!=(c&65535)?0:64)|
((a^b)&(b^c)&32768)>>13;this.j=c>>8&255;this.g=c&255},fd:function(){this.tb=Array(256);this.n=Array(256);this.Ia=Array(256);this.Ha=Array(256);this.bb=Array(256);for(var a=0;256>a;a++){var b=0!=(a&128)?128:0,c=0==a?64:0,e=a&32,d=a&8,f=this.rc(a)?4:0;this.tb[a]=b|c|e|d;this.n[a]=b|c|e|d|f;this.Ia[a]=b|c|e|d;this.Ia[a]|=128==a?4:0;this.Ia[a]|=0==(a&15)?16:0;this.Ha[a]=b|c|e|d|2;this.Ha[a]|=127==a?4:0;this.Ha[a]|=15==(a&15)?16:0;this.bb[a]=0!=a?a&128:68;this.bb[a]|=e|d|16}this.G=Array(131072);this.F=
Array(131072);a=0;b=65536;c=0;e=65536;for(d=0;256>d;d++)for(f=0;256>f;f++){var g=f-d;this.G[a]=0!=f?0!=(f&128)?128:0:64;this.G[a]|=f&40;(f&15)<(d&15)&&(this.G[a]|=16);f<d&&(this.G[a]|=1);0!=((g^d^128)&(g^f)&128)&&(this.G[a]|=4);a++;g=f-d-1;this.G[b]=0!=f?0!=(f&128)?128:0:64;this.G[b]|=f&40;(f&15)<=(d&15)&&(this.G[b]|=16);f<=d&&(this.G[b]|=1);0!=((g^d^128)&(g^f)&128)&&(this.G[b]|=4);b++;g=d-f;this.F[c]=0!=f?0!=(f&128)?130:2:66;this.F[c]|=f&40;(f&15)>(d&15)&&(this.F[c]|=16);f>d&&(this.F[c]|=1);0!=((g^
d)&(d^f)&128)&&(this.F[c]|=4);c++;g=d-f-1;this.F[e]=0!=f?0!=(f&128)?130:2:66;this.F[e]|=f&40;(f&15)>=(d&15)&&(this.F[e]|=16);f>=d&&(this.F[e]|=1);0!=((g^d)&(d^f)&128)&&(this.F[e]|=4);e++}},rc:function(a){for(var b=h,c=0;8>c;c++)0!=(a&1<<c)&&(b=!b);return b},Ab:function(){return Array(1024)},gd:function(){for(var a=0;65>a;a++)this.U[a]=Array(1024),this.Na[a]=Array(1024);for(a=0;8>a;a++)this.fc[a]=Array(1024);this.Kb==i&&(this.Kb=Array(32));this.U[64]=this.Ab();this.Na[64]=this.Ab();this.Oa=2},vc:function(a){a!=
i&&(this.Ea=a);this.Ka[0]=0;this.Ka[1]=0;this.Ka[2]=1;this.Ka[3]=0;this.Ea!=i?(this.Oa=this.Ea.length/16,this.Ad()):this.Oa=0},Ad:function(){for(var a=0;48>a;a++)this.U[a]=z(this.Ea[a&31]),this.Na[a]=this.Ab();for(a=48;64>a;a++)this.U[a]=this.fc[a&7],this.Na[a]=this.fc[a&7]},k:function(a,b){this.Na[a>>10][a&1023]=b;65532<=a&&this.page(a&3,b)},d:function(a){return this.U[a>>10][a&1023]&255},p:function(){return this.U[this.b>>10][this.b&1023]},w:function(a){return this.U[a>>10][a&1023]&255|(this.U[++a>>
10][a&1023]&255)<<8},page:function(a,b){this.Ka[a]=b;switch(a){case 0:if(0!=(b&8))for(var c=(b&4)<<2,e=32;48>e;e++)this.U[e]=z(this.Kb[c]),this.Na[e]=z(this.Kb[c]),c++;else{c=this.Ka[3]%this.Oa<<4;for(e=32;48>e;e++)this.U[e]=z(this.Ea[c++]),this.Na[e]=this.Ab()}break;case 1:c=(b%this.Oa<<4)+1;for(e=1;16>e;e++)this.U[e]=z(this.Ea[c++]);break;case 2:c=b%this.Oa<<4;for(e=16;32>e;e++)this.U[e]=z(this.Ea[c++]);break;case 3:if(0==(this.Ka[0]&8)){c=b%this.Oa<<4;for(e=32;48>e;e++)this.U[e]=z(this.Ea[c++])}}}};function u(a){this.r=a;this.Ta=this.B=this.C=0}
u.prototype={reset:function(){this.Ta=this.B=this.C=255;this.Gb=n},keydown:function(a){switch(a.keyCode){case 38:this.C&=-2;break;case 40:this.C&=-3;break;case 37:this.C&=-5;break;case 39:this.C&=-9;break;case 88:this.C&=-17;break;case 90:this.C&=-33;break;case 13:this.r.La?this.r.Gb=h:this.Ta&=-129;break;case 104:this.B&=-2;break;case 98:this.B&=-3;break;case 100:this.B&=-5;break;case 102:this.B&=-9;break;case 103:this.B&=-17;break;case 105:this.B&=-33;break;case 97:this.B&=-65;break;default:return}a.preventDefault()},
keyup:function(a){switch(a.keyCode){case 38:this.C|=1;break;case 40:this.C|=2;break;case 37:this.C|=4;break;case 39:this.C|=8;break;case 88:this.C|=16;break;case 90:this.C|=32;break;case 13:this.r.La||(this.Ta|=128);break;case 104:this.B|=1;break;case 98:this.B|=2;break;case 100:this.B|=4;break;case 102:this.B|=8;break;case 103:this.B|=16;break;case 105:this.B|=32;break;case 97:this.B|=64;break;default:return}a.preventDefault()}};var H=Number.MIN_VALUE,I=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function w(a){this.r=a;this.sa=this.mc=0;this.S=Array(8);this.$=0;this.M=Array(4);this.ha=Array(4);this.Sa=Array(3);this.Ya=16;this.Ca=32768;this.Za=Array(4)}
w.prototype={Db:function(a,b){this.mc=(a<<8)/16/b;this.$=this.sa=0;this.Ya=16;this.Ca=32768;for(var c=0;4>c;c++)this.S[c<<1]=1,this.S[(c<<1)+1]=15,this.M[c]=0,this.ha[c]=1,3!=c&&(this.Sa[c]=H)},write:function(a){0!=(a&128)?(this.$=a>>4&7,this.S[this.$]=this.S[this.$]&1008|a&15):this.S[this.$]=0==this.$||2==this.$||4==this.$?this.S[this.$]&15|(a&63)<<4:a&15;switch(this.$){case 0:case 2:case 4:0==this.S[this.$]&&(this.S[this.$]=1);break;case 6:this.Ya=16<<(this.S[6]&3),this.Ca=32768}},update:function(a,
b,c){var e,d;for(e=0;e<c;e++){for(d=0;3>d;d++)this.Za[d]=this.Sa[d]!=H?I[this.S[(d<<1)+1]]*this.Sa[d]>>8:I[this.S[(d<<1)+1]]*this.ha[d];this.Za[3]=I[this.S[7]]*(this.Ca&1)<<1;d=this.Za[0]+this.Za[1]+this.Za[2]+this.Za[3];127<d?d=127:-128>d&&(d=-128);a[b+e]=d;this.sa+=this.mc;var f=this.sa>>8,g=f<<8;this.sa-=g;this.M[0]-=f;this.M[1]-=f;this.M[2]-=f;this.M[3]=128==this.Ya?this.M[2]:this.M[3]-f;for(d=0;3>d;d++){var k=this.M[d];if(0>=k){var j=this.S[d<<1];6<j?(this.Sa[d]=(g-this.sa+512*k<<8)*this.ha[d]/
(g+this.sa),this.ha[d]=-this.ha[d]):(this.ha[d]=1,this.Sa[d]=H);this.M[d]+=j*(f/j+1)}else this.Sa[d]=H}0>=this.M[3]&&(this.ha[3]=-this.ha[3],128!=this.Ya&&(this.M[3]+=this.Ya*(f/this.Ya+1)),1==this.ha[3]&&(this.Ca=this.Ca>>1|(0!=(this.S[6]&4)?0!=(this.Ca&9)&&0!=(this.Ca&9^9)?1:0:this.Ca&1)<<15))}return a}};function v(a){this.r=a;this.kc=0;this.R=Array(16384);this.aa=Array(32);for(a=0;32>a;a++)this.aa[a]=0;this.D=Array(16);this.status=0;this.Ja=n;this.fb=this.Va=this.Hb=this.lb=this.location=this.ta=0;this.cb=Array(256);this.Fa=Array(256);this.jc=this.Qb=0;this.display=Array(49152);this.Fb=[];this.sb=[];this.Nb=[];this.da=this.Zb=this.Bb=0;this.ya=n;this.Wa=Array(192);for(a=0;192>a;a++)this.Wa[a]=Array(25);this.Lb=Array(512);this.jb=Array(512);this.Ma=this.Xa=0;this.Gc()}
v.prototype={reset:function(){var a;this.dd();this.Ja=h;for(a=this.lb=this.status=this.fb=this.location=0;16>a;a++)this.D[a]=0;this.D[2]=14;this.D[5]=126;this.jc=0;this.r.T.xa=n;this.ya=h;this.Xa=512;this.Ma=-1;for(a=0;16384>a;a++)this.R[a]=0;for(a=0;49152>a;a++)this.display[a]=0},pc:function(){this.Qb=(this.D[2]&14)<<10;this.Xa=0;this.Ma=511;for(var a=0,b=this.jb.length;a<b;a++)this.jb[a]=h;this.da=(this.D[5]&-130)<<7;this.ya=h},jd:function(){if(0==this.kc){if(218<this.Va)return this.Va-6}else if(242<
this.Va)return this.Va-57;return this.Va},Dc:function(){this.Ja=h;var a=this.status;this.status=0;this.r.T.xa=n;return a},Ec:function(a){if(this.Ja)this.Ja=n,this.ta=a,this.location=this.location&16128|a;else if(this.Ja=h,this.lb=a>>6&3,this.location=this.ta|a<<8,0==this.lb)this.Hb=this.R[this.location++&16383]&255;else if(2==this.lb){a&=15;switch(a){case 0:0!=(this.status&4)&&(this.r.T.xa=0!=(this.ta&16));break;case 1:0!=(this.status&128)&&0!=(this.ta&32)&&(this.r.T.xa=h);(this.ta&3)!=(this.D[a]&
3)&&(this.ya=h);break;case 2:this.Qb=(this.ta&14)<<10;break;case 5:var b=this.da;this.da=(this.ta&-130)<<7;b!=this.da&&(this.ya=h)}this.D[a]=this.ta}},Ic:function(){this.Ja=h;var a=this.Hb;this.Hb=this.R[this.location++&16383]&255;return a},Jc:function(a){this.Ja=h;switch(this.lb){case 0:case 1:case 2:var b=this.location&16383;if(a!=(this.R[b]&255)){if(b>=this.da&&b<this.da+64)this.ya=h;else if(b>=this.da+128&&b<this.da+256)this.ya=h;else{var c=b>>5;this.jb[c]=h;c<this.Xa&&(this.Xa=c);c>this.Ma&&
(this.Ma=c)}this.R[b]=a}break;case 3:this.r.La?this.aa[this.location&31]=this.Fb[a&63]:this.r.za&&(this.aa[(this.location&63)>>1]=0==(this.location&1)?this.sb[a]:this.aa[(this.location&63)>>1]|this.Nb[a&15])}this.Hb=a;this.location++},pd:function(a){if(192>=a){if(0==this.fb?(this.fb=this.D[10],this.status|=4):this.fb--,0!=(this.status&4)&&0!=(this.D[0]&16))this.r.T.xa=h}else if(this.fb=this.D[10],0!=(this.status&128)&&(0!=(this.D[1]&32)&&224>a)&&(this.r.T.xa=h),a==this.r.ka-1)this.jc=this.D[9]},Ed:function(){this.status|=
128},Vc:function(a){if(!this.r.za||!(24>a||168<=a)){for(var b=this.Fa.length;0!=b--;)this.Fa[b]=n;if(0!=(this.D[1]&64)){if(-1!=this.Ma&&this.Nc(),this.Uc(a),this.ya&&this.Mc(),0!=this.Wa[a][0]&&this.Wc(a),this.r.La&&0!=(this.D[0]&32)){b=this.aa[16+(this.D[7]&15)];a<<=8;if(32<16+(this.D[7]&15))debugger;if(49152<a)debugger;this.display[a++]=b;this.display[a++]=b;this.display[a++]=b;this.display[a++]=b;this.display[a++]=b;this.display[a++]=b;this.display[a++]=b;this.display[a]=b}}else this.Tc(a)}},Uc:function(a){var b=
this.D[8],c=this.jc;16>a&&0!=(this.D[0]&64)&&(b=0);var e=this.D[0]&128,d=32-(b>>3)+this.Bb,f=a+c>>3;27<f&&(f-=28);for(var c=(a+(c&7)&7)<<3,g=a<<8,k=this.Bb;k<this.Zb;k++){var j=this.Qb+((d&31)<<1)+(f<<6),l=this.R[j+1],m=(l&8)<<1,o=(k<<3)+(b&7),E=0==(l&4)?c:56-c,j=this.Lb[(this.R[j]&255)+((l&1)<<8)];if(0==(l&2))for(var q=0;8>q&&256>o;q++,o++){var s=j[q+E];this.cb[o]=0!=(l&16)&&0!=s;this.display[o+g]=this.aa[s+m]}else for(q=7;0<=q&&256>o;q--,o++)s=j[q+E],this.cb[o]=0!=(l&16)&&0!=s,this.display[o+g]=
this.aa[s+m];d++;0!=e&&23==k&&(f=a>>3,c=(a&7)<<3)}},Wc:function(a){for(var b=this.Wa[a],c=Math.min(8,b[0]),e=this.D[1]&1,d=a<<8,f=3*c;0!=c--;){var g=b[f--]|(this.D[6]&4)<<6,k=b[f--],j=b[f--]-(this.D[0]&8),l=a-k>>e;0!=(this.D[1]&2)&&(g&=-2);g=this.Lb[g+((l&8)>>3)];k=0;0>j&&(k=-j,j=0);l=k+((l&7)<<3);if(0==e)for(;8>k&&256>j;k++,j++){var m=g[l++];0!=m&&!this.cb[j]&&(this.display[j+d]=this.aa[m+16],this.Fa[j]?this.status|=32:this.Fa[j]=h)}else for(;8>k&&256>j;k++,j+=2)if(m=g[l++],0!=m&&!this.cb[j]&&(this.display[j+
d]=this.aa[m+16],this.Fa[j]?this.status|=32:this.Fa[j]=h),0!=m&&!this.cb[j+1])this.display[j+d+1]=this.aa[m+16],this.Fa[j+1]?this.status|=32:this.Fa[j+1]=h}8<=b[0]&&(this.status|=64)},Tc:function(a){var b=this.aa[16+(this.D[7]&15)],a=a<<8,c;for(c=0;256>c;c++)this.display[a++]=b},dd:function(){var a,b,c,e;if(this.r.La&&!this.Fb.length){this.Fb=Array(64);for(a=0;64>a;a++)b=a&3,c=a>>2&3,e=a>>4&3,this.Fb[a]=85*b|85*c<<8|85*e<<16}else if(this.r.za&&!this.sb.length){this.sb=Array(256);this.Nb=Array(16);
for(a=0;256>a;a++)c=a&15,e=a>>4&15,this.sb[a]=e<<12|e<<8|c<<4|c;for(a=0;16>a;a++)this.Nb[a]=a<<20}},Gc:function(){for(var a=0;512>a;a++)this.Lb[a]=Array(64)},Nc:function(){for(var a=this.Xa;a<=this.Ma;a++)if(this.jb[a]){this.jb[a]=n;for(var b=this.Lb[a],c=0,e=a<<5,d=0;8>d;d++)for(var f=this.R[e++],g=this.R[e++],k=this.R[e++],j=this.R[e++],l=128;0!=l;l>>=1){var m=0;0!=(f&l)&&(m|=1);0!=(g&l)&&(m|=2);0!=(k&l)&&(m|=4);0!=(j&l)&&(m|=8);b[c++]=m}}this.Xa=512;this.Ma=-1},Mc:function(){this.ya=n;for(var a=
0;a<this.Wa.length;a++)this.Wa[a][0]=0;a=0==(this.D[1]&2)?8:16;1==(this.D[1]&1)&&(a<<=1);for(var b=0;64>b;b++){var c=this.R[this.da+b]&255;if(208==c)break;c++;240<c&&(c-=256);for(var e=0;192>e;e++)if(e>=c&&e-c<a){var d=this.Wa[e];if(8>d[0]){var f=3*d[0]+1,g=this.da+(b<<1)+128;d[f++]=this.R[g++]&255;d[f++]=c;d[f++]=this.R[g]&255;d[0]++}}}}};function t(a){this.r=a;this.enable=p();this.updateStatus=p();this.yc=p();this.zc=p()}
"undefined"!==typeof $&&($.fn.Ac=function(a){function b(b){this.r=b;var d=this,b=$("<div></div>"),f=$('<div class="roms"></div>'),g=$('<div class="controls"></div>'),k=A(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]);this.sc=A(["hidden","mozHidden","webkitHidden","msHidden"]);this.screen=$('<canvas width=256 height=192 class="screen"></canvas>');this.eb=this.screen[0].getContext("2d");this.eb.getImageData?(this.wb=this.eb.getImageData(0,0,256,192),this.sd(),this.$a=$("<select></select>").appendTo(f),
this.$a.change(function(){d.dc();d.X.start.removeAttr("disabled")}),this.X={start:$('<input type="button" value="Stop" class="btn" disabled="disabled">').appendTo(g),wc:$('<input type="button" value="Restart" class="btn" disabled="disabled">').appendTo(g),pb:$('<input type="button" value="Enable sound" class="btn" disabled="disabled">').appendTo(g),zoom:$('<input type="button" value="Zoom in" class="btn">').appendTo(g)},k&&$('<input type="button" value="Go fullscreen" class="btn">').appendTo(g).click(function(){var a=
d.screen[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}),this.log=$('<div id="status"></div>'),this.X.start.click(function(){d.r.Eb?(d.r.stop(),d.updateStatus("Paused"),d.X.start.attr("value","Start")):(d.r.start(),d.X.start.attr("value","Stop"))}),this.X.wc.click(function(){d.r.rd()?(d.r.reset(),d.r.H.pc(),d.r.start()):$(this).attr("disabled","disabled")}),this.X.pb.click(p()),this.lc=n,this.X.zoom.click(function(){d.lc?
(d.screen.animate({width:"256px",height:"192px"},function(){$(this).removeAttr("style")}),d.X.zoom.attr("value","Zoom in")):(d.screen.animate({width:"512px",height:"384px"}),d.X.zoom.attr("value","Zoom out"));d.lc=!d.lc}),this.screen.appendTo(b),f.appendTo(b),g.appendTo(b),this.log.appendTo(b),b.appendTo($(c)),"undefined"!=typeof a&&this.Cd(a),$(document).bind("keydown",function(a){d.r.Ba.keydown(a)}).bind("keyup",function(a){d.r.Ba.keyup(a)}),d.pb=new J({swf:this.r.ec.swfPath+"dynamicaudio.swf"})):
$(c).html('<div class="alert-message error"><p><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest versions of Firefox, Google Chrome, Opera or Safari!</p></div>')}var c=this;b.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;this.log.text("")},sd:function(){this.eb.fillStyle="black";this.eb.fillRect(0,0,256,192);for(var a=3;a<=this.wb.data.length-3;a+=4)this.wb.data[a]=255},Cd:function(a){this.$a.children().remove();
$("<option>Select a ROM...</option>").appendTo(this.$a);for(var b in a)if(a.hasOwnProperty(b)){for(var c=$("<optgroup></optgroup>").attr("label",b),g=0;g<a[b].length;g++)$("<option>"+a[b][g][0]+"</option>").attr("value",a[b][g][1]).appendTo(c);this.$a.append(c)}},dc:function(){var a=this;this.updateStatus("Downloading...");$.ajax({url:escape(this.$a.val()),xhr:function(){var b=$.ajaxSettings.xhr();"undefined"!==typeof b.overrideMimeType&&b.overrideMimeType("text/plain; charset=x-user-defined");return a.xhr=
b},complete:function(b){a.r.uc(b.responseText,a.$a.val());a.r.reset();a.r.H.pc();a.r.start();a.enable()}})},enable:function(){this.X.wc.removeAttr("disabled");this.r.qb?this.X.pb.attr("value","Disable sound"):this.X.pb.attr("value","Enable sound")},updateStatus:function(a){this.log.text(a)},yc:function(a){return this.pb.Hd(a)},zc:function(a){if(!this.sc||!document[this.sc]){var b=this.wb.data,c,g,k;for(g=0;49152>=g;g++)c=a[g],k=4*g,b[k]=c&255,b[k+1]=c>>8&255,b[k+2]=c>>16&255;this.eb.putImageData(this.wb,
0,0)}}};return b});function x(a){this.r=a;this.H=a.H;this.mb=a.mb;this.Ba=a.Ba;this.oc=64;this.kd=0;this.ja=[]}
x.prototype={reset:function(){this.ja=Array(2)},V:function(a,b){if(!(this.r.za&&7>a))switch(a&193){case 1:this.ja[0]=(b&32)<<1;this.ja[1]=b&128;0==this.oc&&(this.ja[0]=~this.ja[0],this.ja[1]=~this.ja[1]);break;case 128:this.H.Jc(b);break;case 129:this.H.Ec(b);break;case 64:case 65:this.r.qb&&this.mb.write(b)}},Y:function(a){if(this.r.za&&7>a)switch(a){case 0:return this.Ba.Ta&191|this.oc;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(a&193){case 64:return this.H.jd();case 65:return this.kd;
case 128:return this.H.Ic();case 129:return this.H.Dc();case 192:return this.Ba.C;case 193:return this.Ba.B&63|this.ja[0]|this.ja[1]}return 255}};function J(a){if(this instanceof J)"function"===typeof this.Db&&this.Db.apply(this,a&&a.callee?a:arguments);else return new J(arguments)}var K=1;
J.prototype={xc:"dynamicaudio.swf",ra:i,gb:i,ga:i,Db:function(a){var b=this;b.id=K++;a&&"undefined"!==typeof a.swf&&(b.xc=a.swf);if("undefined"!==typeof Audio&&(b.ra=new Audio,b.ra.mozSetup)){b.ra.mozSetup(1,44100);return}b.ra=i;b.gb=document.createElement("div");b.gb.id="dynamicaudio-flashwrapper-"+b.id;a=b.gb.style;a.position="fixed";a.width=a.height="8px";a.bottom=a.left="0px";a.overflow="hidden";b.ga=document.createElement("div");b.ga.id="dynamicaudio-flashelement-"+b.id;b.gb.appendChild(b.ga);
document.body.appendChild(b.gb);swfobject.embedSWF(b.xc,b.ga.id,"8","8","9.0.0",i,i,{allowScriptAccess:"always"},i,function(a){b.ga=a.Id})},write:function(a){this.ra!==i?this.ra.mozWriteAudio(a):this.ga!==i&&this.ga.write(a.map(function(a){return Math.floor(32768*a/128)}).join(" "))},Hd:function(a){if(this.ra!==i){a=a.map(function(a){return a/128});a=new Float32Array(a);try{this.ra.mozWriteAudio(a)}catch(b){console.log(b,a)}}else this.ga!==i&&this.ga.write(a.join(" "))}};window.JSSMS=r;jQuery.fn.JSSMSUI=jQuery.fn.Ac;
