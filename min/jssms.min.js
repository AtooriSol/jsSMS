/*
jsSMS - A Sega Master System/Game Gear emulator in JavaScript
Copyright (C) 2012-2013 Guillaume Marty (https://github.com/gmarty)
Based on JavaGear Copyright (c) 2002-2008 Chris White

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
(function(window){'use strict';var aa=void 0,h=!0,n=!1,ba=!(!window.DataView||!window.ArrayBuffer);function ca(a){this.e={ui:fa,swfPath:"lib/"};if(a!=aa)for(var b in this.e)a[b]!=aa&&(this.e[b]=a[b]);this.G=new ia(this);this.a=new a.ui(this);this.C=new ja(this);this.c=new ka(this);this.d=new na(this);this.b=new pa(this);this.a.updateStatus("Ready to load a ROM.");this.ui=this.a}
ca.prototype={ca:n,wa:0,V:0,ja:0,da:n,T:h,aa:n,W:n,ga:[],ha:0,la:0,ea:[],ya:"",za:"",U:0,reset:function(){var a=this.C.N,b=0;0==a||this.aa?(this.ja=60,this.V=262,b=3579545):(this.ja=50,this.V=313,b=3546893);this.wa=Math.round(b/this.ja/this.V+1);this.C.N=a;if(this.W){a=this.c;a.m=(b<<8)/16/44100;a.e=0;a.c=0;a.h=16;a.f=32768;for(b=0;4>b;b++)a.b[b<<1]=1,a.b[(b<<1)+1]=15,a.a[b]=0,a.d[b]=1,3!=b&&(a.g[b]=qa);this.la=Math.round(44100/this.ja);if(0==this.ga.length||this.ga.length!=this.la)this.ga=Array(this.la);
if(0==this.ea.length||this.ea.length!=this.V){this.ea=Array(this.V);for(var e=0,b=0;b<this.V;b++)a=(this.la<<16)/this.V+e,e=a-(a>>16<<16),this.ea[b]=a>>16}}this.G.reset();this.a.reset();this.C.reset();this.d.reset();this.b.reset()},start:function(){this.ca||(this.ca=h,this.a.requestAnimationFrame(this.Ba.bind(this),this.a.screen));this.a.updateStatus("Running")},stop:function(){this.ca=n},Ba:function(){if(this.ca){var a=this.b;a.U=0;for(a.o+=a.n.wa;;){var b=a,e=0,k=0,m=b.d(b.c++);b.o-=Aa[m];switch(m){case 1:var t=
b,p=b.q(b.c++);t.g=p>>8;t.f=p&255;b.c++;break;case 2:b.e(r(b),b.a);break;case 3:var A=b;A.f=A.f+1&255;0==A.f&&(A.g=A.g+1&255);break;case 4:b.g=u(b,b.g);break;case 5:b.g=v(b,b.g);break;case 6:b.g=b.d(b.c++);break;case 7:var G=b,ha=G.a>>7;G.a=G.a<<1&255|ha;G.b=G.b&236|ha;break;case 8:var C=b,Ia=C.a;C.a=C.na;C.na=Ia;Ia=C.b;C.b=C.sa;C.sa=Ia;break;case 9:Ba(b,Ca(b,w(b),r(b)));break;case 10:b.a=b.d(r(b));break;case 11:Da(b);break;case 12:b.f=u(b,b.f);break;case 13:b.f=v(b,b.f);break;case 14:b.f=b.d(b.c++);
break;case 15:var Ta=b,Nb=Ta.a&1;Ta.a=Ta.a>>1|Nb<<7;Ta.b=Ta.b&236|Nb;break;case 16:b.g=b.g-1&255;La(b,0!=b.g);break;case 17:var Ob=b,Pb=b.q(b.c++);Ob.k=Pb>>8;Ob.i=Pb&255;b.c++;break;case 18:b.e(Ua(b),b.a);break;case 19:Ya(b);break;case 20:b.k=u(b,b.k);break;case 21:b.k=v(b,b.k);break;case 22:b.k=b.d(b.c++);break;case 23:var Ja=b,Ec=Ja.a>>7;Ja.a=(Ja.a<<1|Ja.b&1)&255;Ja.b=Ja.b&236|Ec;break;case 24:b.c+=$a(x(b)+1);break;case 25:Ba(b,Ca(b,w(b),Ua(b)));break;case 26:b.a=b.d(Ua(b));break;case 27:ab(b);
break;case 28:b.i=u(b,b.i);break;case 29:b.i=v(b,b.i);break;case 30:b.i=b.d(b.c++);break;case 31:var Ka=b,Fc=Ka.a&1;Ka.a=(Ka.a>>1|(Ka.b&1)<<7)&255;Ka.b=Ka.b&236|Fc;break;case 32:La(b,0==(b.b&64));break;case 33:Ba(b,b.q(b.c++));b.c++;break;case 34:e=b.q(b.c);b.e(e,b.j);b.e(++e,b.h);b.c+=2;break;case 35:ib(b);break;case 36:b.h=u(b,b.h);break;case 37:b.h=v(b,b.h);break;case 38:b.h=b.d(b.c++);break;case 39:var oa=b,Rb=oa.Ca[oa.a|(oa.b&1)<<8|(oa.b&2)<<8|(oa.b&16)<<6];oa.a=Rb&255;oa.b=oa.b&2|Rb>>8;break;
case 40:La(b,0!=(b.b&64));break;case 41:Ba(b,Ca(b,w(b),w(b)));break;case 42:Ba(b,b.q(b.q(b.c)));b.c+=2;break;case 43:jb(b);break;case 44:b.j=u(b,b.j);break;case 45:b.j=v(b,b.j);break;case 46:b.j=b.d(b.c++);break;case 47:var Za=b;Za.a^=255;Za.b|=18;break;case 48:La(b,0==(b.b&1));break;case 49:b.m=b.q(b.c);b.c+=2;break;case 50:b.e(b.q(b.c),b.a);b.c+=2;break;case 51:b.m++;break;case 52:kb(b,w(b));break;case 53:lb(b,w(b));break;case 54:b.e(w(b),b.d(b.c++));break;case 55:b.b|=1;b.b&=-3;b.b&=-17;break;
case 56:La(b,0!=(b.b&1));break;case 57:Ba(b,Ca(b,w(b),b.m));break;case 58:b.a=b.d(b.q(b.c));b.c+=2;break;case 59:b.m--;break;case 60:b.a=u(b,b.a);break;case 61:b.a=v(b,b.a);break;case 62:b.a=b.d(b.c++);break;case 63:var ga=b;0!=(ga.b&1)?(ga.b&=-2,ga.b|=16):(ga.b|=1,ga.b&=-17);ga.b&=-3;break;case 65:b.g=b.f;break;case 66:b.g=b.k;break;case 67:b.g=b.i;break;case 68:b.g=b.h;break;case 69:b.g=b.j;break;case 70:b.g=b.d(w(b));break;case 71:b.g=b.a;break;case 72:b.f=b.g;break;case 74:b.f=b.k;break;case 75:b.f=
b.i;break;case 76:b.f=b.h;break;case 77:b.f=b.j;break;case 78:b.f=b.d(w(b));break;case 79:b.f=b.a;break;case 80:b.k=b.g;break;case 81:b.k=b.f;break;case 83:b.k=b.i;break;case 84:b.k=b.h;break;case 85:b.k=b.j;break;case 86:b.k=b.d(w(b));break;case 87:b.k=b.a;break;case 88:b.i=b.g;break;case 89:b.i=b.f;break;case 90:b.i=b.k;break;case 92:b.i=b.h;break;case 93:b.i=b.j;break;case 94:b.i=b.d(w(b));break;case 95:b.i=b.a;break;case 96:b.h=b.g;break;case 97:b.h=b.f;break;case 98:b.h=b.k;break;case 99:b.h=
b.i;break;case 101:b.h=b.j;break;case 102:b.h=b.d(w(b));break;case 103:b.h=b.a;break;case 104:b.j=b.g;break;case 105:b.j=b.f;break;case 106:b.j=b.k;break;case 107:b.j=b.i;break;case 108:b.j=b.h;break;case 110:b.j=b.d(w(b));break;case 111:b.j=b.a;break;case 112:b.e(w(b),b.g);break;case 113:b.e(w(b),b.f);break;case 114:b.e(w(b),b.k);break;case 115:b.e(w(b),b.i);break;case 116:b.e(w(b),b.h);break;case 117:b.e(w(b),b.j);break;case 118:b.o=0;b.P=h;b.c--;break;case 119:b.e(w(b),b.a);break;case 120:b.a=
b.g;break;case 121:b.a=b.f;break;case 122:b.a=b.k;break;case 123:b.a=b.i;break;case 124:b.a=b.h;break;case 125:b.a=b.j;break;case 126:b.a=b.d(w(b));break;case 128:B(b,b.g);break;case 129:B(b,b.f);break;case 130:B(b,b.k);break;case 131:B(b,b.i);break;case 132:B(b,b.h);break;case 133:B(b,b.j);break;case 134:B(b,b.d(w(b)));break;case 135:B(b,b.a);break;case 136:D(b,b.g);break;case 137:D(b,b.f);break;case 138:D(b,b.k);break;case 139:D(b,b.i);break;case 140:D(b,b.h);break;case 141:D(b,b.j);break;case 142:D(b,
b.d(w(b)));break;case 143:D(b,b.a);break;case 144:H(b,b.g);break;case 145:H(b,b.f);break;case 146:H(b,b.k);break;case 147:H(b,b.i);break;case 148:H(b,b.h);break;case 149:H(b,b.j);break;case 150:H(b,b.d(w(b)));break;case 151:H(b,b.a);break;case 152:I(b,b.g);break;case 153:I(b,b.f);break;case 154:I(b,b.k);break;case 155:I(b,b.i);break;case 156:I(b,b.h);break;case 157:I(b,b.j);break;case 158:I(b,b.d(w(b)));break;case 159:I(b,b.a);break;case 160:b.b=b.l[b.a&=b.g]|16;break;case 161:b.b=b.l[b.a&=b.f]|16;
break;case 162:b.b=b.l[b.a&=b.k]|16;break;case 163:b.b=b.l[b.a&=b.i]|16;break;case 164:b.b=b.l[b.a&=b.h]|16;break;case 165:b.b=b.l[b.a&=b.j]|16;break;case 166:b.b=b.l[b.a&=b.d(w(b))]|16;break;case 167:b.b=b.l[b.a]|16;break;case 168:b.b=b.l[b.a^=b.g];break;case 169:b.b=b.l[b.a^=b.f];break;case 170:b.b=b.l[b.a^=b.k];break;case 171:b.b=b.l[b.a^=b.i];break;case 172:b.b=b.l[b.a^=b.h];break;case 173:b.b=b.l[b.a^=b.j];break;case 174:b.b=b.l[b.a^=b.d(w(b))];break;case 175:b.b=b.l[b.a=0];break;case 176:b.b=
b.l[b.a|=b.g];break;case 177:b.b=b.l[b.a|=b.f];break;case 178:b.b=b.l[b.a|=b.k];break;case 179:b.b=b.l[b.a|=b.i];break;case 180:b.b=b.l[b.a|=b.h];break;case 181:b.b=b.l[b.a|=b.j];break;case 182:b.b=b.l[b.a|=b.d(w(b))];break;case 183:b.b=b.l[b.a];break;case 184:J(b,b.g);break;case 185:J(b,b.f);break;case 186:J(b,b.k);break;case 187:J(b,b.i);break;case 188:J(b,b.h);break;case 189:J(b,b.j);break;case 190:J(b,b.d(w(b)));break;case 191:J(b,b.a);break;case 192:sb(b,0==(b.b&64));break;case 193:var Sb=b,
Tb=b.q(b.m);Sb.g=Tb>>8;Sb.f=Tb&255;b.m+=2;break;case 194:Fb(b,0==(b.b&64));break;case 195:b.c=b.q(b.c);break;case 196:b.call(0==(b.b&64));break;case 197:Gb(b,b.g,b.f);break;case 198:B(b,b.d(b.c++));break;case 199:Hb(b,b.c);b.c=0;break;case 200:sb(b,0!=(b.b&64));break;case 201:b.c=b.q(b.m);b.m+=2;break;case 202:Fb(b,0!=(b.b&64));break;case 203:var c=b,Ub=b.d(b.c++);c.o-=Ib[Ub];switch(Ub){case 0:c.g=K(c,c.g);break;case 1:c.f=K(c,c.f);break;case 2:c.k=K(c,c.k);break;case 3:c.i=K(c,c.i);break;case 4:c.h=
K(c,c.h);break;case 5:c.j=K(c,c.j);break;case 6:c.e(w(c),K(c,c.d(w(c))));break;case 7:c.a=K(c,c.a);break;case 8:c.g=L(c,c.g);break;case 9:c.f=L(c,c.f);break;case 10:c.k=L(c,c.k);break;case 11:c.i=L(c,c.i);break;case 12:c.h=L(c,c.h);break;case 13:c.j=L(c,c.j);break;case 14:c.e(w(c),L(c,c.d(w(c))));break;case 15:c.a=L(c,c.a);break;case 16:c.g=M(c,c.g);break;case 17:c.f=M(c,c.f);break;case 18:c.k=M(c,c.k);break;case 19:c.i=M(c,c.i);break;case 20:c.h=M(c,c.h);break;case 21:c.j=M(c,c.j);break;case 22:c.e(w(c),
M(c,c.d(w(c))));break;case 23:c.a=M(c,c.a);break;case 24:c.g=N(c,c.g);break;case 25:c.f=N(c,c.f);break;case 26:c.k=N(c,c.k);break;case 27:c.i=N(c,c.i);break;case 28:c.h=N(c,c.h);break;case 29:c.j=N(c,c.j);break;case 30:c.e(w(c),N(c,c.d(w(c))));break;case 31:c.a=N(c,c.a);break;case 32:c.g=O(c,c.g);break;case 33:c.f=O(c,c.f);break;case 34:c.k=O(c,c.k);break;case 35:c.i=O(c,c.i);break;case 36:c.h=O(c,c.h);break;case 37:c.j=O(c,c.j);break;case 38:c.e(w(c),O(c,c.d(w(c))));break;case 39:c.a=O(c,c.a);break;
case 40:c.g=P(c,c.g);break;case 41:c.f=P(c,c.f);break;case 42:c.k=P(c,c.k);break;case 43:c.i=P(c,c.i);break;case 44:c.h=P(c,c.h);break;case 45:c.j=P(c,c.j);break;case 46:c.e(w(c),P(c,c.d(w(c))));break;case 47:c.a=P(c,c.a);break;case 48:c.g=R(c,c.g);break;case 49:c.f=R(c,c.f);break;case 50:c.k=R(c,c.k);break;case 51:c.i=R(c,c.i);break;case 52:c.h=R(c,c.h);break;case 53:c.j=R(c,c.j);break;case 54:c.e(w(c),R(c,c.d(w(c))));break;case 55:c.a=R(c,c.a);break;case 56:c.g=S(c,c.g);break;case 57:c.f=S(c,c.f);
break;case 58:c.k=S(c,c.k);break;case 59:c.i=S(c,c.i);break;case 60:c.h=S(c,c.h);break;case 61:c.j=M(c,c.j);break;case 62:c.e(w(c),S(c,c.d(w(c))));break;case 63:c.a=S(c,c.a);break;case 64:T(c,c.g&1);break;case 65:T(c,c.f&1);break;case 66:T(c,c.k&1);break;case 67:T(c,c.i&1);break;case 68:T(c,c.h&1);break;case 69:T(c,c.j&1);break;case 70:T(c,c.d(w(c))&1);break;case 71:T(c,c.a&1);break;case 72:T(c,c.g&2);break;case 73:T(c,c.f&2);break;case 74:T(c,c.k&2);break;case 75:T(c,c.i&2);break;case 76:T(c,c.h&
2);break;case 77:T(c,c.j&2);break;case 78:T(c,c.d(w(c))&2);break;case 79:T(c,c.a&2);break;case 80:T(c,c.g&4);break;case 81:T(c,c.f&4);break;case 82:T(c,c.k&4);break;case 83:T(c,c.i&4);break;case 84:T(c,c.h&4);break;case 85:T(c,c.j&4);break;case 86:T(c,c.d(w(c))&4);break;case 87:T(c,c.a&4);break;case 88:T(c,c.g&8);break;case 89:T(c,c.f&8);break;case 90:T(c,c.k&8);break;case 91:T(c,c.i&8);break;case 92:T(c,c.h&8);break;case 93:T(c,c.j&8);break;case 94:T(c,c.d(w(c))&8);break;case 95:T(c,c.a&8);break;
case 96:T(c,c.g&16);break;case 97:T(c,c.f&16);break;case 98:T(c,c.k&16);break;case 99:T(c,c.i&16);break;case 100:T(c,c.h&16);break;case 101:T(c,c.j&16);break;case 102:T(c,c.d(w(c))&16);break;case 103:T(c,c.a&16);break;case 104:T(c,c.g&32);break;case 105:T(c,c.f&32);break;case 106:T(c,c.k&32);break;case 107:T(c,c.i&32);break;case 108:T(c,c.h&32);break;case 109:T(c,c.j&32);break;case 110:T(c,c.d(w(c))&32);break;case 111:T(c,c.a&32);break;case 112:T(c,c.g&64);break;case 113:T(c,c.f&64);break;case 114:T(c,
c.k&64);break;case 115:T(c,c.i&64);break;case 116:T(c,c.h&64);break;case 117:T(c,c.j&64);break;case 118:T(c,c.d(w(c))&64);break;case 119:T(c,c.a&64);break;case 120:T(c,c.g&128);break;case 121:T(c,c.f&128);break;case 122:T(c,c.k&128);break;case 123:T(c,c.i&128);break;case 124:T(c,c.h&128);break;case 125:T(c,c.j&128);break;case 126:T(c,c.d(w(c))&128);break;case 127:T(c,c.a&128);break;case 128:c.g&=-2;break;case 129:c.f&=-2;break;case 130:c.k&=-2;break;case 131:c.i&=-2;break;case 132:c.h&=-2;break;case 133:c.j&=
-2;break;case 134:c.e(w(c),c.d(w(c))&-2);break;case 135:c.a&=-2;break;case 136:c.g&=-3;break;case 137:c.f&=-3;break;case 138:c.k&=-3;break;case 139:c.i&=-3;break;case 140:c.h&=-3;break;case 141:c.j&=-3;break;case 142:c.e(w(c),c.d(w(c))&-3);break;case 143:c.a&=-3;break;case 144:c.g&=-5;break;case 145:c.f&=-5;break;case 146:c.k&=-5;break;case 147:c.i&=-5;break;case 148:c.h&=-5;break;case 149:c.j&=-5;break;case 150:c.e(w(c),c.d(w(c))&-5);break;case 151:c.a&=-5;break;case 152:c.g&=-9;break;case 153:c.f&=
-9;break;case 154:c.k&=-9;break;case 155:c.i&=-9;break;case 156:c.h&=-9;break;case 157:c.j&=-9;break;case 158:c.e(w(c),c.d(w(c))&-9);break;case 159:c.a&=-9;break;case 160:c.g&=-17;break;case 161:c.f&=-17;break;case 162:c.k&=-17;break;case 163:c.i&=-17;break;case 164:c.h&=-17;break;case 165:c.j&=-17;break;case 166:c.e(w(c),c.d(w(c))&-17);break;case 167:c.a&=-17;break;case 168:c.g&=-33;break;case 169:c.f&=-33;break;case 170:c.k&=-33;break;case 171:c.i&=-33;break;case 172:c.h&=-33;break;case 173:c.j&=
-33;break;case 174:c.e(w(c),c.d(w(c))&-33);break;case 175:c.a&=-33;break;case 176:c.g&=-65;break;case 177:c.f&=-65;break;case 178:c.k&=-65;break;case 179:c.i&=-65;break;case 180:c.h&=-65;break;case 181:c.j&=-65;break;case 182:c.e(w(c),c.d(w(c))&-65);break;case 183:c.a&=-65;break;case 184:c.g&=-129;break;case 185:c.f&=-129;break;case 186:c.k&=-129;break;case 187:c.i&=-129;break;case 188:c.h&=-129;break;case 189:c.j&=-129;break;case 190:c.e(w(c),c.d(w(c))&-129);break;case 191:c.a&=-129;break;case 192:c.g|=
1;break;case 193:c.f|=1;break;case 194:c.k|=1;break;case 195:c.i|=1;break;case 196:c.h|=1;break;case 197:c.j|=1;break;case 198:c.e(w(c),c.d(w(c))|1);break;case 199:c.a|=1;break;case 200:c.g|=2;break;case 201:c.f|=2;break;case 202:c.k|=2;break;case 203:c.i|=2;break;case 204:c.h|=2;break;case 205:c.j|=2;break;case 206:c.e(w(c),c.d(w(c))|2);break;case 207:c.a|=2;break;case 208:c.g|=4;break;case 209:c.f|=4;break;case 210:c.k|=4;break;case 211:c.i|=4;break;case 212:c.h|=4;break;case 213:c.j|=4;break;case 214:c.e(w(c),
c.d(w(c))|4);break;case 215:c.a|=4;break;case 216:c.g|=8;break;case 217:c.f|=8;break;case 218:c.k|=8;break;case 219:c.i|=8;break;case 220:c.h|=8;break;case 221:c.j|=8;break;case 222:c.e(w(c),c.d(w(c))|8);break;case 223:c.a|=8;break;case 224:c.g|=16;break;case 225:c.f|=16;break;case 226:c.k|=16;break;case 227:c.i|=16;break;case 228:c.h|=16;break;case 229:c.j|=16;break;case 230:c.e(w(c),c.d(w(c))|16);break;case 231:c.a|=16;break;case 232:c.g|=32;break;case 233:c.f|=32;break;case 234:c.k|=32;break;case 235:c.i|=
32;break;case 236:c.h|=32;break;case 237:c.j|=32;break;case 238:c.e(w(c),c.d(w(c))|32);break;case 239:c.a|=32;break;case 240:c.g|=64;break;case 241:c.f|=64;break;case 242:c.k|=64;break;case 243:c.i|=64;break;case 244:c.h|=64;break;case 245:c.j|=64;break;case 246:c.e(w(c),c.d(w(c))|64);break;case 247:c.a|=64;break;case 248:c.g|=128;break;case 249:c.f|=128;break;case 250:c.k|=128;break;case 251:c.i|=128;break;case 252:c.h|=128;break;case 253:c.j|=128;break;case 254:c.e(w(c),c.d(w(c))|128);break;case 255:c.a|=
128}break;case 204:b.call(0!=(b.b&64));break;case 205:Hb(b,b.c+2);b.c=b.q(b.c);break;case 206:D(b,b.d(b.c++));break;case 207:Hb(b,b.c);b.c=8;break;case 208:sb(b,0==(b.b&1));break;case 209:var Vb=b,Wb=b.q(b.m);Vb.k=Wb>>8;Vb.i=Wb&255;b.m+=2;break;case 210:Fb(b,0==(b.b&1));break;case 211:U(b.v,b.d(b.c++),b.a);break;case 212:b.call(0==(b.b&1));break;case 213:Gb(b,b.k,b.i);break;case 214:H(b,b.d(b.c++));break;case 215:Hb(b,b.c);b.c=16;break;case 216:sb(b,0!=(b.b&1));break;case 217:var ra=b,mb=ra.g;ra.g=
ra.oa;ra.oa=mb;mb=ra.f;ra.f=ra.pa;ra.pa=mb;var sa=b,nb=sa.k;sa.k=sa.qa;sa.qa=nb;nb=sa.i;sa.i=sa.ra;sa.ra=nb;var ta=b,ob=ta.h;ta.h=ta.ta;ta.ta=ob;ob=ta.j;ta.j=ta.ua;ta.ua=ob;break;case 218:Fb(b,0!=(b.b&1));break;case 219:b.a=Jb(b.v,b.d(b.c++));break;case 220:b.call(0!=(b.b&1));break;case 221:var f=b,Xb=b.d(b.c++),Ma=0,pb=0;f.o-=Kb[Xb];switch(Xb){case 9:Lb(f,Ca(f,Y(f),r(f)));break;case 25:Lb(f,Ca(f,Y(f),Ua(f)));break;case 33:Lb(f,f.q(f.c));f.c+=2;break;case 34:Ma=f.q(f.c);f.e(Ma++,f.r);f.e(Ma,f.t);
f.c+=2;break;case 35:f.r=f.r+1&255;0==f.r&&(f.t=f.t+1&255);break;case 36:f.t=u(f,f.t);break;case 37:f.t=v(f,f.t);break;case 38:f.t=f.d(f.c++);break;case 41:Lb(f,Ca(f,Y(f),Y(f)));break;case 42:Ma=f.q(f.c);f.r=f.d(Ma);f.t=f.d(++Ma);f.c+=2;break;case 43:f.r=f.r-1&255;255==f.r&&(f.t=f.t-1&255);break;case 44:f.r=u(f,f.r);break;case 45:f.r=v(f,f.r);break;case 46:f.r=f.d(f.c++);break;case 52:kb(f,Y(f)+x(f));f.c++;break;case 53:lb(f,Y(f)+x(f));f.c++;break;case 54:f.e(Y(f)+x(f),f.d(++f.c));f.c++;break;case 57:Lb(f,
Ca(f,Y(f),f.m));break;case 68:f.g=f.t;break;case 69:f.g=f.r;break;case 70:f.g=f.d(Y(f)+x(f));f.c++;break;case 76:f.f=f.t;break;case 77:f.f=f.r;break;case 78:f.f=f.d(Y(f)+x(f));f.c++;break;case 84:f.k=f.t;break;case 85:f.k=f.r;break;case 86:f.k=f.d(Y(f)+x(f));f.c++;break;case 92:f.i=f.t;break;case 93:f.i=f.r;break;case 94:f.i=f.d(Y(f)+x(f));f.c++;break;case 96:f.t=f.g;break;case 97:f.t=f.f;break;case 98:f.t=f.k;break;case 99:f.t=f.i;break;case 100:break;case 101:f.t=f.r;break;case 102:f.h=f.d(Y(f)+
x(f));f.c++;break;case 103:f.t=f.a;break;case 104:f.r=f.g;break;case 105:f.r=f.f;break;case 106:f.r=f.k;break;case 107:f.r=f.i;break;case 108:f.r=f.t;break;case 109:break;case 110:f.j=f.d(Y(f)+x(f));f.c++;break;case 111:f.r=f.a;break;case 112:f.e(Y(f)+x(f),f.g);f.c++;break;case 113:f.e(Y(f)+x(f),f.f);f.c++;break;case 114:f.e(Y(f)+x(f),f.k);f.c++;break;case 115:f.e(Y(f)+x(f),f.i);f.c++;break;case 116:f.e(Y(f)+x(f),f.h);f.c++;break;case 117:f.e(Y(f)+x(f),f.j);f.c++;break;case 119:f.e(Y(f)+x(f),f.a);
f.c++;break;case 124:f.a=f.t;break;case 125:f.a=f.r;break;case 126:f.a=f.d(Y(f)+x(f));f.c++;break;case 132:B(f,f.t);break;case 133:B(f,f.r);break;case 134:B(f,f.d(Y(f)+x(f)));f.c++;break;case 140:D(f,f.t);break;case 141:D(f,f.r);break;case 142:D(f,f.d(Y(f)+x(f)));f.c++;break;case 148:H(f,f.t);break;case 149:H(f,f.r);break;case 150:H(f,f.d(Y(f)+x(f)));f.c++;break;case 156:I(f,f.t);break;case 157:I(f,f.r);break;case 158:I(f,f.d(Y(f)+x(f)));f.c++;break;case 164:f.b=f.l[f.a&=f.t]|16;break;case 165:f.b=
f.l[f.a&=f.r]|16;break;case 166:f.b=f.l[f.a&=f.d(Y(f)+x(f))]|16;f.c++;break;case 172:f.b=f.l[f.a^=f.t];break;case 173:f.b=f.l[f.a^=f.r];break;case 174:f.b=f.l[f.a^=f.d(Y(f)+x(f))];f.c++;break;case 180:f.b=f.l[f.a|=f.t];break;case 181:f.b=f.l[f.a|=f.r];break;case 182:f.b=f.l[f.a|=f.d(Y(f)+x(f))];f.c++;break;case 188:J(f,f.t);break;case 189:J(f,f.r);break;case 190:J(f,f.d(Y(f)+x(f)));f.c++;break;case 203:Mb(f,Y(f));break;case 225:Lb(f,f.q(f.m));f.m+=2;break;case 227:pb=Y(f);Lb(f,f.q(f.m));f.e(f.m,pb&
255);f.e(f.m+1,pb>>8);break;case 229:Gb(f,f.t,f.r);break;case 233:f.c=Y(f);break;case 249:f.m=Y(f);break;default:f.c--}break;case 222:I(b,b.d(b.c++));break;case 223:Hb(b,b.c);b.c=24;break;case 224:sb(b,0==(b.b&4));break;case 225:Ba(b,b.q(b.m));b.m+=2;break;case 226:Fb(b,0==(b.b&4));break;case 227:k=b.h;b.h=b.d(b.m+1);b.e(b.m+1,k);k=b.j;b.j=b.d(b.m);b.e(b.m,k);break;case 228:b.call(0==(b.b&4));break;case 229:Gb(b,b.h,b.j);break;case 230:b.b=b.l[b.a&=b.d(b.c++)]|16;break;case 231:Hb(b,b.c);b.c=32;break;
case 232:sb(b,0!=(b.b&4));break;case 233:b.c=w(b);break;case 234:Fb(b,0!=(b.b&4));break;case 235:k=b.k;b.k=b.h;b.h=k;k=b.i;b.i=b.j;b.j=k;break;case 236:b.call(0!=(b.b&4));break;case 237:var d=b,$b=x(b),s=0,F=0;d.o-=Qb[$b];switch($b){case 64:d.g=Jb(d.v,d.f);d.b=d.b&1|d.l[d.g];d.c++;break;case 65:U(d.v,d.f,d.g);d.c++;break;case 66:Yb(d,r(d));d.c++;break;case 67:F=d.q(d.c+1);d.e(F++,d.f);d.e(F,d.g);d.c+=3;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:s=d.a;d.a=0;H(d,s);d.c++;
break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:d.c=d.q(d.m);d.m+=2;d.I=d.J;break;case 70:case 78:case 102:case 110:d.Q=0;d.c++;break;case 71:d.Y=d.a;d.c++;break;case 72:d.f=Jb(d.v,d.f);d.b=d.b&1|d.l[d.f];d.c++;break;case 73:U(d.v,d.f,d.f);d.c++;break;case 74:Zb(d,r(d));d.c++;break;case 75:var ac=d,bc=d.q(d.q(d.c+1));ac.g=bc>>8;ac.f=bc&255;d.c+=3;break;case 79:d.c++;break;case 80:d.k=Jb(d.v,d.f);d.b=d.b&1|d.l[d.k];d.c++;break;case 81:U(d.v,d.f,d.k);d.c++;break;case 82:Yb(d,
Ua(d));d.c++;break;case 83:F=d.q(d.c+1);d.e(F++,d.i);d.e(F,d.k);d.c+=3;break;case 86:case 118:d.Q=1;d.c++;break;case 87:d.a=d.Y;d.b=d.b&1|d.ma[d.a]|(d.J?4:0);d.c++;break;case 88:d.i=Jb(d.v,d.f);d.b=d.b&1|d.l[d.i];d.c++;break;case 89:U(d.v,d.f,d.i);d.c++;break;case 90:Zb(d,Ua(d));d.c++;break;case 91:var cc=d,dc=d.q(d.q(d.c+1));cc.k=dc>>8;cc.i=dc&255;d.c+=3;break;case 95:d.a=Math.round(255*Math.random());d.b=d.b&1|d.ma[d.a]|(d.J?4:0);d.c++;break;case 96:d.h=Jb(d.v,d.f);d.b=d.b&1|d.l[d.h];d.c++;break;
case 97:U(d.v,d.f,d.h);d.c++;break;case 98:Yb(d,w(d));d.c++;break;case 99:F=d.q(d.c+1);d.e(F++,d.j);d.e(F,d.h);d.c+=3;break;case 103:F=w(d);s=d.d(F);d.e(F,s>>4|(d.a&15)<<4);d.a=d.a&240|s&15;d.b=d.b&1|d.l[d.a];d.c++;break;case 104:d.j=Jb(d.v,d.f);d.b=d.b&1|d.l[d.j];d.c++;break;case 105:U(d.v,d.f,d.j);d.c++;break;case 106:Zb(d,w(d));d.c++;break;case 107:Ba(d,d.q(d.q(d.c+1)));d.c+=3;break;case 111:F=w(d);s=d.d(F);d.e(F,(s&15)<<4|d.a&15);d.a=d.a&240|s>>4;d.b=d.b&1|d.l[d.a];d.c++;break;case 113:U(d.v,
d.f,0);d.c++;break;case 114:Yb(d,d.m);d.c++;break;case 115:F=d.q(d.c+1);d.e(F++,d.m&255);d.e(F,d.m>>8);d.c+=3;break;case 120:d.a=Jb(d.v,d.f);d.b=d.b&1|d.l[d.a];d.c++;break;case 121:U(d.v,d.f,d.a);d.c++;break;case 122:Zb(d,d.m);d.c++;break;case 123:d.m=d.q(d.q(d.c+1));d.c+=3;break;case 160:d.e(Ua(d),d.d(w(d)));Ya(d);ib(d);Da(d);d.b=d.b&193|(0!=r(d)?4:0);d.c++;break;case 161:s=d.b&1|2;J(d,d.d(w(d)));ib(d);Da(d);s|=0==r(d)?0:4;d.b=d.b&248|s;d.c++;break;case 162:s=Jb(d.v,d.f);d.e(w(d),s);d.g=v(d,d.g);
ib(d);d.b=128==(s&128)?d.b|2:d.b&-3;d.c++;break;case 163:s=d.d(w(d));U(d.v,d.f,s);ib(d);d.g=v(d,d.g);255<d.j+s?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=128==(s&128)?d.b|2:d.b&-3;d.c++;break;case 168:d.e(Ua(d),d.d(w(d)));ab(d);jb(d);Da(d);d.b=d.b&193|(0!=r(d)?4:0);d.c++;break;case 169:s=d.b&1|2;J(d,d.d(w(d)));jb(d);Da(d);s|=0==r(d)?0:4;d.b=d.b&248|s;d.c++;break;case 170:s=Jb(d.v,d.f);d.e(w(d),s);d.g=v(d,d.g);jb(d);d.b=0!=(s&128)?d.b|2:d.b&-3;d.c++;break;case 171:s=d.d(w(d));U(d.v,d.f,s);jb(d);d.g=v(d,
d.g);255<d.j+s?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=128==(s&128)?d.b|2:d.b&-3;d.c++;break;case 176:d.e(Ua(d),d.d(w(d)));Ya(d);ib(d);Da(d);0!=r(d)?(d.b|=4,d.o-=5,d.c--):(d.b&=-5,d.c++);d.b&=-3;d.b&=-17;break;case 177:s=d.b&1|2;J(d,d.d(w(d)));ib(d);Da(d);s|=0==r(d)?0:4;0!=(s&4)&&0==(d.b&64)?(d.o-=5,d.c--):d.c++;d.b=d.b&248|s;break;case 178:s=Jb(d.v,d.f);d.e(w(d),s);d.g=v(d,d.g);ib(d);0!=d.g?(d.o-=5,d.c--):d.c++;d.b=128==(s&128)?d.b|2:d.b&-3;break;case 179:s=d.d(w(d));U(d.v,d.f,s);d.g=v(d,d.g);ib(d);
0!=d.g?(d.o-=5,d.c--):d.c++;255<d.j+s?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=0!=(s&128)?d.b|2:d.b&-3;break;case 184:d.e(Ua(d),d.d(w(d)));ab(d);jb(d);Da(d);0!=r(d)?(d.b|=4,d.o-=5,d.c--):(d.b&=-5,d.c++);d.b&=-3;d.b&=-17;break;case 185:s=d.b&1|2;J(d,d.d(w(d)));jb(d);Da(d);s|=0==r(d)?0:4;0!=(s&4)&&0==(d.b&64)?(d.o-=5,d.c--):d.c++;d.b=d.b&248|s;break;case 186:s=Jb(d.v,d.f);d.e(w(d),s);d.g=v(d,d.g);jb(d);0!=d.g?(d.o-=5,d.c--):d.c++;d.b=0!=(s&128)?d.b|2:d.b&-3;break;case 187:s=d.d(w(d));U(d.v,d.f,s);d.g=
v(d,d.g);jb(d);0!=d.g?(d.o-=5,d.c--):d.c++;255<d.j+s?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=0!=(s&128)?d.b|2:d.b&-3;break;default:d.c++}break;case 238:b.b=b.l[b.a^=b.d(b.c++)];break;case 239:Hb(b,b.c);b.c=40;break;case 240:sb(b,0==(b.b&128));break;case 241:b.b=b.d(b.m++);b.a=b.d(b.m++);break;case 242:Fb(b,0==(b.b&128));break;case 243:b.I=b.J=n;break;case 244:b.call(0==(b.b&128));break;case 245:Gb(b,b.a,b.b);break;case 246:b.b=b.l[b.a|=b.d(b.c++)];break;case 247:Hb(b,b.c);b.c=48;break;case 248:sb(b,
0!=(b.b&128));break;case 249:b.m=w(b);break;case 250:Fb(b,0!=(b.b&128));break;case 251:b.I=b.J=h;break;case 252:b.call(0!=(b.b&128));break;case 253:var g=b,ec=b.d(b.c++),Na=aa,qb=aa;g.o-=Kb[ec];switch(ec){case 9:zc(g,Ca(g,Z(g),r(g)));break;case 25:zc(g,Ca(g,Z(g),Ua(g)));break;case 33:zc(g,g.q(g.c));g.c+=2;break;case 34:Na=g.q(g.c);g.e(Na++,g.s);g.e(Na,g.u);g.c+=2;break;case 35:g.s=g.s+1&255;0==g.s&&(g.u=g.u+1&255);break;case 36:g.u=u(g,g.u);break;case 37:g.u=v(g,g.u);break;case 38:g.u=g.d(g.c++);
break;case 41:zc(g,Ca(g,Z(g),Z(g)));break;case 42:Na=g.q(g.c);g.s=g.d(Na);g.u=g.d(++Na);g.c+=2;break;case 43:g.s=g.s-1&255;255==g.s&&(g.u=g.u-1&255);break;case 44:g.s=u(g,g.s);break;case 45:g.s=v(g,g.s);break;case 46:g.s=g.d(g.c++);break;case 52:kb(g,Z(g)+x(g));g.c++;break;case 53:lb(g,Z(g)+x(g));g.c++;break;case 54:g.e(Z(g)+x(g),g.d(++g.c));g.c++;break;case 57:zc(g,Ca(g,Z(g),g.m));break;case 68:g.g=g.u;break;case 69:g.g=g.s;break;case 70:g.g=g.d(Z(g)+x(g));g.c++;break;case 76:g.f=g.u;break;case 77:g.f=
g.s;break;case 78:g.f=g.d(Z(g)+x(g));g.c++;break;case 84:g.k=g.u;break;case 85:g.k=g.s;break;case 86:g.k=g.d(Z(g)+x(g));g.c++;break;case 92:g.i=g.u;break;case 93:g.i=g.s;break;case 94:g.i=g.d(Z(g)+x(g));g.c++;break;case 96:g.u=g.g;break;case 97:g.u=g.f;break;case 98:g.u=g.k;break;case 99:g.u=g.i;break;case 100:break;case 101:g.u=g.s;break;case 102:g.h=g.d(Z(g)+x(g));g.c++;break;case 103:g.u=g.a;break;case 104:g.s=g.g;break;case 105:g.s=g.f;break;case 106:g.s=g.k;break;case 107:g.s=g.i;break;case 108:g.s=
g.u;break;case 109:break;case 110:g.j=g.d(Z(g)+x(g));g.c++;break;case 111:g.s=g.a;break;case 112:g.e(Z(g)+x(g),g.g);g.c++;break;case 113:g.e(Z(g)+x(g),g.f);g.c++;break;case 114:g.e(Z(g)+x(g),g.k);g.c++;break;case 115:g.e(Z(g)+x(g),g.i);g.c++;break;case 116:g.e(Z(g)+x(g),g.h);g.c++;break;case 117:g.e(Z(g)+x(g),g.j);g.c++;break;case 119:g.e(Z(g)+x(g),g.a);g.c++;break;case 124:g.a=g.u;break;case 125:g.a=g.s;break;case 126:g.a=g.d(Z(g)+x(g));g.c++;break;case 132:B(g,g.u);break;case 133:B(g,g.s);break;
case 134:B(g,g.d(Z(g)+x(g)));g.c++;break;case 140:D(g,g.u);break;case 141:D(g,g.s);break;case 142:D(g,g.d(Z(g)+x(g)));g.c++;break;case 148:H(g,g.u);break;case 149:H(g,g.s);break;case 150:H(g,g.d(Z(g)+x(g)));g.c++;break;case 156:I(g,g.u);break;case 157:I(g,g.s);break;case 158:I(g,g.d(Z(g)+x(g)));g.c++;break;case 164:g.b=g.l[g.a&=g.u]|16;break;case 165:g.b=g.l[g.a&=g.s]|16;break;case 166:g.b=g.l[g.a&=g.d(Z(g)+x(g))]|16;g.c++;break;case 172:g.b=g.l[g.a^=g.u];break;case 173:g.b=g.l[g.a^=g.s];break;case 174:g.b=
g.l[g.a^=g.d(Z(g)+x(g))];g.c++;break;case 180:g.b=g.l[g.a|=g.u];break;case 181:g.b=g.l[g.a|=g.s];break;case 182:g.b=g.l[g.a|=g.d(Z(g)+x(g))];g.c++;break;case 188:J(g,g.u);break;case 189:J(g,g.s);break;case 190:J(g,g.d(Z(g)+x(g)));g.c++;break;case 203:Mb(g,Z(g));break;case 225:zc(g,g.q(g.m));g.m+=2;break;case 227:qb=Z(g);zc(g,g.q(g.m));g.e(g.m,qb&255);g.e(g.m+1,qb>>8);break;case 229:Gb(g,g.u,g.s);break;case 233:g.c=Z(g);break;case 249:g.m=Z(g);break;default:g.c--}break;case 254:J(b,b.d(b.c++));break;
case 255:Hb(b,b.c),b.c=56}var bb;if(bb=0>=a.o){var E=a;if(E.n.W){var Ea=E.n,fc=E.U;0==fc&&(Ea.ha=0);for(var gc=Ea.ea[fc],q=Ea.c,Ic=Ea.ha,hc=[],rb=0,z=0;rb<gc;rb++){for(z=0;3>z;z++)q.l[z]=q.g[z]!=qa?Ac[q.b[(z<<1)+1]]*q.g[z]>>8:Ac[q.b[(z<<1)+1]]*q.d[z];q.l[3]=Ac[q.b[7]]*(q.f&1)<<1;var Va=q.l[0]+q.l[1]+q.l[2]+q.l[3];127<Va?Va=127:-128>Va&&(Va=-128);hc[Ic+rb]=Va;q.e+=q.m;var Fa=q.e>>8,tb=Fa<<8;q.e-=tb;q.a[0]-=Fa;q.a[1]-=Fa;q.a[2]-=Fa;q.a[3]=128==q.h?q.a[2]:q.a[3]-Fa;for(z=0;3>z;z++){var ic=q.a[z];if(0>=
ic){var ub=q.b[z<<1];6<ub?(q.g[z]=(tb-q.e+512*ic<<8)*q.d[z]/(tb+q.e),q.d[z]=-q.d[z]):(q.d[z]=1,q.g[z]=qa);q.a[z]+=ub*(Fa/ub+1)}else q.g[z]=qa}if(0>=q.a[3]&&(q.d[3]=-q.d[3],128!=q.h&&(q.a[3]+=q.h*(Fa/q.h+1)),1==q.d[3])){var jc=0,jc=0!=(q.b[6]&4)?0!=(q.f&9)&&0!=(q.f&9^9)?1:0:q.f&1;q.f=q.f>>1|jc<<15}}Ea.ga=hc;Ea.ha+=gc}E.C.q=E.U;if(192>E.U){var l=E.C,V=E.U,Oa=0,cb=0,db=0;if(!l.n.aa||!(24>V||168<=V))if(0!=(l.c[1]&64)){if(-1!=l.o){for(var Pa=l.s;Pa<=l.o;Pa++)if(l.v[Pa]){l.v[Pa]=n;for(var Jc=l.I[Pa],Kc=
0,eb=Pa<<5,kc=0;8>kc;kc++)for(var Lc=l.d[eb++],Mc=l.d[eb++],Nc=l.d[eb++],Oc=l.d[eb++],Ga=128;0!=Ga;Ga>>=1){var la=0;0!=(Lc&Ga)&&(la|=1);0!=(Mc&Ga)&&(la|=2);0!=(Nc&Ga)&&(la|=4);0!=(Oc&Ga)&&(la|=8);Jc[Kc++]=la}}l.s=512;l.o=-1}var ua=0,Qa=0,va=0,wa=0,vb=l.c[8],lc=l.c[9];16>V&&0!=(l.c[0]&64)&&(vb=0);var Pc=l.c[0]&128,mc=32-(vb>>3)+l.A,Wa=V+lc>>3;27<Wa&&(Wa-=28);for(var wb=(V+(lc&7)&7)<<3,nc=V<<8,fb=l.A;fb<l.L;fb++){var oc=l.J+((mc&31)<<1)+(Wa<<6),Ra=l.d[oc+1],pc=(Ra&8)<<1,xa=(fb<<3)+(vb&7),qc=0==(Ra&
4)?wb:56-wb,rc=l.I[(l.d[oc]&255)+((Ra&1)<<8)];if(0==(Ra&2))for(ua=0;8>ua&&256>xa;ua++,xa++)Qa=rc[ua+qc],va=4*(xa+nc),wa=3*(Qa+pc),l.t[xa]=0!=(Ra&16)&&0!=Qa,l.b[va]=l.a[wa],l.b[va+1]=l.a[wa+1],l.b[va+2]=l.a[wa+2];else for(ua=7;0<=ua&&256>xa;ua--,xa++)Qa=rc[ua+qc],va=4*(xa+nc),wa=3*(Qa+pc),l.t[xa]=0!=(Ra&16)&&0!=Qa,l.b[va]=l.a[wa],l.b[va+1]=l.a[wa+1],l.b[va+2]=l.a[wa+2];mc++;0!=Pc&&23==fb&&(Wa=V>>3,wb=(V&7)<<3)}if(l.h){l.h=n;for(var xb=0;xb<l.r.length;xb++)l.r[xb][0]=0;var yb=0==(l.c[1]&2)?8:16;1==
(l.c[1]&1)&&(yb<<=1);for(var gb=0;64>gb;gb++){var ya=l.d[l.g+gb]&255;if(208==ya)break;ya++;240<ya&&(ya-=256);for(var hb=ya;192>hb;hb++)if(hb-ya<yb){var Ha=l.r[hb];if(!Ha||8<=Ha[0])break;var zb=3*Ha[0]+1,sc=l.g+(gb<<1)+128;Ha[zb++]=l.d[sc++]&255;Ha[zb++]=ya;Ha[zb++]=l.d[sc]&255;Ha[0]++}}}if(0!=l.r[V][0]){for(var za=0,da=0,ea=0,tc=0,Xa=l.r[V],uc=Math.min(8,Xa[0]),vc=l.c[1]&1,Ab=V<<8,Bb=3*uc;tc<uc;tc++){var Cb=Xa[Bb--]|(l.c[6]&4)<<6,Qc=Xa[Bb--],W=Xa[Bb--]-(l.c[0]&8),wc=V-Qc>>vc;0!=(l.c[1]&2)&&(Cb&=-2);
var xc=l.I[Cb+((wc&8)>>3)],Sa=0;0>W&&(Sa=-W,W=0);var yc=Sa+((wc&7)<<3);if(0==vc)for(;8>Sa&&256>W;Sa++,W++)za=xc[yc++],0!=za&&!l.t[W]&&(da=4*(W+Ab),ea=3*(za+16),l.b[da]=l.a[ea],l.b[da+1]=l.a[ea+1],l.b[da+2]=l.a[ea+2]);else for(;8>Sa&&256>W;Sa++,W+=2)za=xc[yc++],0!=za&&!l.t[W]&&(da=4*(W+Ab),ea=3*(za+16),l.b[da]=l.a[ea],l.b[da+1]=l.a[ea+1],l.b[da+2]=l.a[ea+2]),0!=za&&!l.t[W+1]&&(da=4*(W+Ab+1),ea=3*(za+16),l.b[da]=l.a[ea],l.b[da+1]=l.a[ea+1],l.b[da+2]=l.a[ea+2])}8<=Xa[0]&&(l.e|=64)}if(l.n.T&&0!=(l.c[0]&
32)){cb=4*(V<<8);db=3*((l.c[7]&15)+16);for(Oa=0;8>Oa;Oa++)l.b[cb+Oa]=l.a[db],l.b[cb+Oa+1]=l.a[db+1],l.b[cb+Oa+2]=l.a[db+2]}}else for(var ma=V<<8,Rc=4*(ma+1024),Db=3*((l.c[7]&15)+16),ma=4*ma;ma<Rc;ma+=4)l.b[ma]=l.a[Db],l.b[ma+1]=l.a[Db+1],l.b[ma+2]=l.a[Db+2]}var Q=E.C,Eb=E.U;192>=Eb?(192==Eb&&(Q.e|=128),0==Q.u?(Q.u=Q.c[10],Q.e|=4):Q.u--,0!=(Q.e&4)&&0!=(Q.c[0]&16)&&(Q.n.b.L=h)):(Q.u=Q.c[10],0!=(Q.e&128)&&(0!=(Q.c[1]&32)&&224>Eb)&&(Q.n.b.L=h));if(E.L){var y=E;y.I&&(y.P&&(y.c++,y.P=n),y.I=y.J=n,y.L=n,
Hb(y,y.c),0==y.Q?(y.c=0==y.R||255==y.R?56:y.R,y.o-=13):1==y.Q?(y.c=56,y.o-=13):(y.c=y.q((y.Y<<8)+y.R),y.o-=19))}E.U++;if(E.U>=E.n.V){var X=E;X.n.da&&(X.J=X.I,X.I=n,X.P&&(X.c++,X.P=n),Hb(X,X.c),X.c=102,X.o-=11,X.n.da=n);X.n.a.Ea();bb=h}else E.o+=E.n.wa,bb=n}if(bb)break}this.a.requestAnimationFrame(this.Ba.bind(this),this.a.screen)}},xa:function(a,b){0!=b%1024&&(a=a.substr(512),b-=512);var e,k,m=Math.round(b/16384),t=Array(m);for(e=0;e<m;e++)if(t[e]=Bc(16384),ba)for(k=0;16384>k;k++)t[e].setUint8(k,
a.charCodeAt(16384*e+k));else for(k=0;16384>k;k++)t[e][k]=a.charCodeAt(16384*e+k)&255;return t}};function Cc(a,b,e){var k,m=".gg"==e.substr(-3).toLowerCase()?2:1;k=b.length;1==m?(a.T=h,a.aa=n,a.C.A=0,a.C.L=32):2==m&&(a.aa=h,a.T=n,a.C.A=5,a.C.L=27);if(16384>=k)return n;k=a.xa(b,k);if(null==k)return n;m=a.b;k&&(m.B=k);if(m.B.length){m.S=m.B.length;m.F=m.S-1;for(k=0;3>k;k++)m.p[k]=k%m.S;m.p[3]=0}else m.S=0,m.F=0;a.ya=b;a.za=e;return h};var Bc=ba?function(a){a||(a=0);return new DataView(new ArrayBuffer(a))}:Array,Dc=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return(new Date).getTime()};function Gc(a,b){var e=n;b==aa&&(b=document);a.some(function(a){return a in b?(e=a,h):n});return e};var Aa=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],Ib=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Kb=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],Hc=[23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,
20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23],Qb=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8];
function pa(a){this.n=a;this.C=a.C;this.v=a.d;this.Q=this.m=this.c=0;this.L=this.P=this.J=this.I=n;this.o=this.sa=this.b=this.Y=this.u=this.s=this.t=this.r=this.ua=this.ta=this.j=this.h=this.ra=this.qa=this.i=this.k=this.pa=this.oa=this.f=this.g=this.na=this.a=this.R=0;this.B=[];this.K=Bc(32768);this.p=Array(4);this.S=this.F=0;this.H=Bc(8192);this.Ca=Array(2048);this.ma=Array(256);this.l=Array(256);this.N=Array(256);this.M=Array(256);this.A=Array(131072);this.z=Array(131072);this.X=Array(256);var b,
e,k,m,t,p;for(a=0;256>a;a++)b=0!=(a&128)?128:0,e=0==a?64:0,k=a&32,m=a&8,t=Sc(a)?4:0,this.ma[a]=b|e|k|m,this.l[a]=b|e|k|m|t,this.N[a]=b|e|k|m,this.N[a]|=128==a?4:0,this.N[a]|=0==(a&15)?16:0,this.M[a]=b|e|k|m|2,this.M[a]|=127==a?4:0,this.M[a]|=15==(a&15)?16:0,this.X[a]=0!=a?a&128:68,this.X[a]|=k|m|16;a=0;b=65536;e=0;k=65536;for(t=0;256>t;t++)for(p=0;256>p;p++)m=p-t,this.A[a]=0!=p?0!=(p&128)?128:0:64,this.A[a]|=p&40,(p&15)<(t&15)&&(this.A[a]|=16),p<t&&(this.A[a]|=1),0!=((m^t^128)&(m^p)&128)&&(this.A[a]|=
4),a++,m=p-t-1,this.A[b]=0!=p?0!=(p&128)?128:0:64,this.A[b]|=p&40,(p&15)<=(t&15)&&(this.A[b]|=16),p<=t&&(this.A[b]|=1),0!=((m^t^128)&(m^p)&128)&&(this.A[b]|=4),b++,m=t-p,this.z[e]=0!=p?0!=(p&128)?130:2:66,this.z[e]|=p&40,(p&15)>(t&15)&&(this.z[e]|=16),p>t&&(this.z[e]|=1),0!=((m^t)&(t^p)&128)&&(this.z[e]|=4),e++,m=t-p-1,this.z[k]=0!=p?0!=(p&128)?130:2:66,this.z[k]|=p&40,(p&15)>=(t&15)&&(this.z[k]|=16),p>=t&&(this.z[k]|=1),0!=((m^t)&(t^p)&128)&&(this.z[k]|=4),k++;for(a=256;a--;)for(b=0;1>=b;b++)for(e=
0;1>=e;e++)for(k=0;1>=k;k++){m=this.Ca;t=b<<8|k<<9|e<<10|a;p=b|k<<1|e<<4;this.a=a;this.b=p;var A=this.a,G=0,ha=p&1,C=ha;if(0!=(p&16)||9<(A&15))G|=6;if(1==ha||159<A||143<A&&9<(A&15))G|=96,C=1;153<A&&(C=1);0!=(p&2)?H(this,G):B(this,G);p=this.b&254|C;p=Sc(this.a)?p&251|4:p&251;m[t]=this.a|p<<8}this.a=this.b=0;if(ba)for(a=0;8192>a;a++)this.H.setUint8(a,0);else for(a=0;8192>a;a++)this.H[a]=0;if(ba)for(a=0;32768>a;a++)this.K.setUint8(a,0);else for(a=0;32768>a;a++)this.K[a]=0;this.S=2;for(a=0;4>a;a++)this.p[a]=
a%3}
pa.prototype={reset:function(){this.c=this.sa=this.b=this.Y=this.s=this.u=this.r=this.t=this.h=this.j=this.ta=this.ua=this.k=this.i=this.qa=this.ra=this.g=this.f=this.oa=this.pa=this.a=this.na=0;this.m=57328;this.Q=this.o=0;this.J=this.I=n;this.R=0;this.P=n},call:function(a){a?(Hb(this,this.c+2),this.c=this.q(this.c),this.o-=7):this.c+=2},e:ba?function(a,b){65535>=a&&(this.H.setInt8(a&8191,b),65532==a?this.p[3]=b:65533==a?this.p[0]=b:65534==a?this.p[1]=b:65535==a&&(this.p[2]=b))}:function(a,b){65535>=a&&
(this.H[a&8191]=b,65532==a?this.p[3]=b:65533==a?this.p[0]=b:65534==a?this.p[1]=b:65535==a&&(this.p[2]=b))},d:ba?function(a){return 1024>a?this.B[0].getUint8(a):16384>a?this.B[this.p[0]&this.F].getUint8(a):32768>a?this.B[this.p[1]&this.F].getUint8(a-16384):49152>a?8==(this.p[3]&12)?this.K.getUint8(a-32768):12==(this.p[3]&12)?this.K.getUint8(a-16384):this.B[this.p[2]&this.F].getUint8(a-32768):57344>a?this.H.getUint8(a-49152):65532>a?this.H.getUint8(a-57344):65532==a?this.p[3]:65533==a?this.p[0]:65534==
a?this.p[1]:65535==a?this.p[2]:0}:function(a){return 1024>a?this.B[0][a]:16384>a?this.B[this.p[0]&this.F][a]:32768>a?this.B[this.p[1]&this.F][a-16384]:49152>a?8==(this.p[3]&12)?this.K[a-32768]:12==(this.p[3]&12)?this.K[a-16384]:this.B[this.p[2]&this.F][a-32768]:57344>a?this.H[a-49152]:65532>a?this.H[a-57344]:65532==a?this.p[3]:65533==a?this.p[0]:65534==a?this.p[1]:65535==a?this.p[2]:0},q:ba?function(a){return 1024>a?this.B[0].getUint16(a,h):16384>a?this.B[this.p[0]&this.F].getUint16(a,h):32768>a?
this.B[this.p[1]&this.F].getUint16(a-16384,h):49152>a?8==(this.p[3]&12)?this.K[a-32768]:12==(this.p[3]&12)?this.K[a-16384]:this.B[this.p[2]&this.F].getUint16(a-32768,h):57344>a?this.H.getUint16(a-49152,h):65532>a?this.H.getUint16(a-57344,h):65532==a?this.p[3]:65533==a?this.p[0]:65534==a?this.p[1]:65535==a?this.p[2]:0}:function(a){return 1024>a?this.B[0][a]|this.B[0][++a]<<8:16384>a?this.B[this.p[0]&this.F][a]|this.B[this.p[0]&this.F][++a]<<8:32768>a?this.B[this.p[1]&this.F][a-16384]|this.B[this.p[1]&
this.F][++a-16384]<<8:49152>a?8==(this.p[3]&12)?this.K[a-32768]|this.K[++a-32768]<<8:12==(this.p[3]&12)?this.K[a-16384]|this.K[++a-16384]<<8:this.B[this.p[2]&this.F][a-32768]|this.B[this.p[2]&this.F][++a-32768]<<8:57344>a?this.H[a-49152]|this.H[++a-49152]<<8:65532>a?this.H[a-57344]|this.H[++a-57344]<<8:65532==a?this.p[3]:65533==a?this.p[0]:65534==a?this.p[1]:65535==a?this.p[2]:0}};function x(a){return a.d(a.c)}function Sc(a){var b=h,e;for(e=0;8>e;e++)0!=(a&1<<e)&&(b=!b);return b}
function Yb(a,b){var e=w(a),k=e-b-(a.b&1);a.b=(e^k^b)>>8&16|2|k>>16&1|k>>8&128|(0!=(k&65535)?0:64)|((b^e)&(e^k)&32768)>>13;a.h=k>>8&255;a.j=k&255}function Zb(a,b){var e=w(a),k=e+b+(a.b&1);a.b=(e^k^b)>>8&16|k>>16&1|k>>8&128|(0!=(k&65535)?0:64)|((b^e^32768)&(b^k)&32768)>>13;a.h=k>>8&255;a.j=k&255}function Ca(a,b,e){var k=b+e;a.b=a.b&196|(b^k^e)>>8&16|k>>16&1;return k&65535}function v(a,b){b=b-1&255;a.b=a.b&1|a.M[b];return b}function u(a,b){b=b+1&255;a.b=a.b&1|a.N[b];return b}
function jb(a){a.j=a.j-1&255;255==a.j&&(a.h=a.h-1&255)}function ab(a){a.i=a.i-1&255;255==a.i&&(a.k=a.k-1&255)}function Da(a){a.f=a.f-1&255;255==a.f&&(a.g=a.g-1&255)}function ib(a){a.j=a.j+1&255;0==a.j&&(a.h=a.h+1&255)}function Ya(a){a.i=a.i+1&255;0==a.i&&(a.k=a.k+1&255)}function zc(a,b){a.u=b>>8;a.s=b&255}function Lb(a,b){a.t=b>>8;a.r=b&255}function Ba(a,b){a.h=b>>8;a.j=b&255}function Z(a){return a.u<<8|a.s}function Y(a){return a.t<<8|a.r}function w(a){return a.h<<8|a.j}
function Ua(a){return a.k<<8|a.i}function r(a){return a.g<<8|a.f}function J(a,b){a.b=a.z[a.a<<8|a.a-b&255]}function I(a,b){var e=a.b&1,k=a.a-b-e&255;a.b=a.z[e<<16|a.a<<8|k];a.a=k}function H(a,b){var e=a.a-b&255;a.b=a.z[a.a<<8|e];a.a=e}function D(a,b){var e=a.b&1,k=a.a+b+e&255;a.b=a.A[e<<16|a.a<<8|k];a.a=k}function B(a,b){var e=a.a+b&255;a.b=a.A[a.a<<8|e];a.a=e}
function Mb(a,b){var e=b+x(a)&65535,k=a.d(++a.c);a.o-=Hc[k];switch(k){case 0:a.g=K(a,a.d(e));a.e(e,a.g);break;case 1:a.f=K(a,a.d(e));a.e(e,a.f);break;case 2:a.k=K(a,a.d(e));a.e(e,a.k);break;case 3:a.i=K(a,a.d(e));a.e(e,a.i);break;case 4:a.h=K(a,a.d(e));a.e(e,a.h);break;case 5:a.j=K(a,a.d(e));a.e(e,a.j);break;case 6:a.e(e,K(a,a.d(e)));break;case 7:a.a=K(a,a.d(e));a.e(e,a.a);break;case 8:a.g=L(a,a.d(e));a.e(e,a.g);break;case 9:a.f=L(a,a.d(e));a.e(e,a.f);break;case 10:a.k=L(a,a.d(e));a.e(e,a.k);break;
case 11:a.i=L(a,a.d(e));a.e(e,a.i);break;case 12:a.h=L(a,a.d(e));a.e(e,a.h);break;case 13:a.j=L(a,a.d(e));a.e(e,a.j);break;case 14:a.e(e,L(a,a.d(e)));break;case 15:a.a=L(a,a.d(e));a.e(e,a.a);break;case 16:a.g=M(a,a.d(e));a.e(e,a.g);break;case 17:a.f=M(a,a.d(e));a.e(e,a.f);break;case 18:a.k=M(a,a.d(e));a.e(e,a.k);break;case 19:a.i=M(a,a.d(e));a.e(e,a.i);break;case 20:a.h=M(a,a.d(e));a.e(e,a.h);break;case 21:a.j=M(a,a.d(e));a.e(e,a.j);break;case 22:a.e(e,M(a,a.d(e)));break;case 23:a.a=M(a,a.d(e));a.e(e,
a.a);break;case 24:a.g=N(a,a.d(e));a.e(e,a.g);break;case 25:a.f=N(a,a.d(e));a.e(e,a.f);break;case 26:a.k=N(a,a.d(e));a.e(e,a.k);break;case 27:a.i=N(a,a.d(e));a.e(e,a.i);break;case 28:a.h=N(a,a.d(e));a.e(e,a.h);break;case 29:a.j=N(a,a.d(e));a.e(e,a.j);break;case 30:a.e(e,N(a,a.d(e)));break;case 31:a.a=N(a,a.d(e));a.e(e,a.a);break;case 32:a.g=O(a,a.d(e));a.e(e,a.g);break;case 33:a.f=O(a,a.d(e));a.e(e,a.f);break;case 34:a.k=O(a,a.d(e));a.e(e,a.k);break;case 35:a.i=O(a,a.d(e));a.e(e,a.i);break;case 36:a.h=
O(a,a.d(e));a.e(e,a.h);break;case 37:a.j=O(a,a.d(e));a.e(e,a.j);break;case 38:a.e(e,O(a,a.d(e)));break;case 39:a.a=O(a,a.d(e));a.e(e,a.a);break;case 40:a.g=P(a,a.d(e));a.e(e,a.g);break;case 41:a.f=P(a,a.d(e));a.e(e,a.f);break;case 42:a.k=P(a,a.d(e));a.e(e,a.k);break;case 43:a.i=P(a,a.d(e));a.e(e,a.i);break;case 44:a.h=P(a,a.d(e));a.e(e,a.h);break;case 45:a.j=P(a,a.d(e));a.e(e,a.j);break;case 46:a.e(e,P(a,a.d(e)));break;case 47:a.a=P(a,a.d(e));a.e(e,a.a);break;case 48:a.g=R(a,a.d(e));a.e(e,a.g);break;
case 49:a.f=R(a,a.d(e));a.e(e,a.f);break;case 50:a.k=R(a,a.d(e));a.e(e,a.k);break;case 51:a.i=R(a,a.d(e));a.e(e,a.i);break;case 52:a.h=R(a,a.d(e));a.e(e,a.h);break;case 53:a.j=R(a,a.d(e));a.e(e,a.j);break;case 54:a.e(e,R(a,a.d(e)));break;case 55:a.a=R(a,a.d(e));a.e(e,a.a);break;case 56:a.g=S(a,a.d(e));a.e(e,a.g);break;case 57:a.f=S(a,a.d(e));a.e(e,a.f);break;case 58:a.k=S(a,a.d(e));a.e(e,a.k);break;case 59:a.i=S(a,a.d(e));a.e(e,a.i);break;case 60:a.h=S(a,a.d(e));a.e(e,a.h);break;case 61:a.j=S(a,a.d(e));
a.e(e,a.j);break;case 62:a.e(e,S(a,a.d(e)));break;case 63:a.a=S(a,a.d(e));a.e(e,a.a);break;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:T(a,a.d(e)&1);break;case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:T(a,a.d(e)&2);break;case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:T(a,a.d(e)&4);break;case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:T(a,a.d(e)&8);break;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:T(a,a.d(e)&
16);break;case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:T(a,a.d(e)&32);break;case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:T(a,a.d(e)&64);break;case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:T(a,a.d(e)&128);break;case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:a.e(e,a.d(e)&-2);break;case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:a.e(e,a.d(e)&-3);break;case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:a.e(e,
a.d(e)&-5);break;case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:a.e(e,a.d(e)&-9);break;case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:a.e(e,a.d(e)&-17);break;case 168:case 169:case 170:case 171:case 172:case 173:case 174:case 175:a.e(e,a.d(e)&-33);break;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:a.e(e,a.d(e)&-65);break;case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:a.e(e,a.d(e)&-129);break;case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:a.e(e,
a.d(e)|1);break;case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:a.e(e,a.d(e)|2);break;case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:a.e(e,a.d(e)|4);break;case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:a.e(e,a.d(e)|8);break;case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:a.e(e,a.d(e)|16);break;case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:a.e(e,a.d(e)|32);break;case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:a.e(e,
a.d(e)|64);break;case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:a.e(e,a.d(e)|128)}a.c++}function T(a,b){a.b=a.b&1|a.X[b]}function S(a,b){var e=b&1;b=b>>1&255;a.b=e|a.l[b];return b}function P(a,b){var e=b&1;b=b>>1|b&128;a.b=e|a.l[b];return b}function R(a,b){var e=(b&128)>>7;b=(b<<1|1)&255;a.b=e|a.l[b];return b}function O(a,b){var e=(b&128)>>7;b=b<<1&255;a.b=e|a.l[b];return b}function N(a,b){var e=b&1;b=(b>>1|a.b<<7)&255;a.b=e|a.l[b];return b}
function M(a,b){var e=(b&128)>>7;b=(b<<1|a.b&1)&255;a.b=e|a.l[b];return b}function L(a,b){var e=b&1;b=(b>>1|b<<7)&255;a.b=e|a.l[b];return b}function K(a,b){var e=(b&128)>>7;b=(b<<1|b>>7)&255;a.b=e|a.l[b];return b}function lb(a,b){a.e(b,v(a,a.d(b)))}function kb(a,b){a.e(b,u(a,a.d(b)))}function Gb(a,b,e){a.e(--a.m,b);a.e(--a.m,e)}function Hb(a,b){a.e(--a.m,b>>8);a.e(--a.m,b&255)}function sb(a,b){b&&(a.c=a.q(a.m),a.m+=2,a.o-=6)}function $a(a){128<=a&&(a-=256);return a}
function La(a,b){b?(a.c+=$a(x(a)+1),a.o-=5):a.c++}function Fb(a,b){b?a.c=a.q(a.c):a.c+=2};function ia(a){this.n=a;this.O=this.a=this.w=0}
ia.prototype={reset:function(){this.O=this.a=this.w=255;this.da=n},keydown:function(a){switch(a.keyCode){case 38:this.w&=-2;break;case 40:this.w&=-3;break;case 37:this.w&=-5;break;case 39:this.w&=-9;break;case 88:this.w&=-17;break;case 90:this.w&=-33;break;case 13:this.n.T?this.n.da=h:this.O&=-129;break;case 104:this.a&=-2;break;case 98:this.a&=-3;break;case 100:this.a&=-5;break;case 102:this.a&=-9;break;case 103:this.a&=-17;break;case 105:this.a&=-33;break;case 97:this.a&=-65;break;default:return}a.preventDefault()},
keyup:function(a){switch(a.keyCode){case 38:this.w|=1;break;case 40:this.w|=2;break;case 37:this.w|=4;break;case 39:this.w|=8;break;case 88:this.w|=16;break;case 90:this.w|=32;break;case 13:this.n.T||(this.O|=128);break;case 104:this.a|=1;break;case 98:this.a|=2;break;case 100:this.a|=4;break;case 102:this.a|=8;break;case 103:this.a|=16;break;case 105:this.a|=32;break;case 97:this.a|=64;break;default:return}a.preventDefault()}};var qa=Number.MIN_VALUE,Ac=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function ka(a){this.n=a;this.e=this.m=0;this.b=Array(8);this.c=0;this.a=Array(4);this.d=Array(4);this.g=Array(3);this.h=16;this.f=32768;this.l=Array(4)}ka.prototype={};function ja(a){this.n=a;var b=0;this.N=0;this.d=Array(16384);this.a=Array(96);for(b=0;96>b;b++)this.a[b]=255;this.c=Array(16);this.e=0;this.m=n;this.u=this.q=this.M=this.z=this.f=this.l=0;this.t=Array(256);this.J=0;this.b=a.a.va.data;this.Y=Array(64);this.X=Array(64);this.S=Array(64);this.R=Array(256);this.Q=Array(256);this.P=Array(16);this.g=this.L=this.A=0;this.h=n;this.r=Array(192);for(b=0;192>b;b++)this.r[b]=Array(25);this.I=Array(512);this.v=Array(512);for(a=this.o=this.s=0;512>a;a++)this.I[a]=
Array(64);var e,k;for(a=0;64>a;a++)b=a&3,e=a>>2&3,k=a>>4&3,this.Y[a]=85*b&255,this.X[a]=85*e&255,this.S[a]=85*k&255;for(a=0;256>a;a++)e=a&15,k=a>>4&15,this.R[a]=(e<<4|e)&255,this.Q[a]=(k<<4|k)&255;for(a=0;16>a;a++)this.P[a]=(a<<4|a)&255}
ja.prototype={reset:function(){var a;this.m=h;for(a=this.z=this.e=this.u=this.f=0;16>a;a++)this.c[a]=0;this.c[2]=14;this.c[5]=126;this.n.b.L=n;this.h=h;this.s=512;this.o=-1;for(a=0;16384>a;a++)this.d[a]=0;for(a=0;196608>a;a+=4)this.b[a]=0,this.b[a+1]=0,this.b[a+2]=0,this.b[a+3]=255}};function Tc(a){a.J=(a.c[2]&14)<<10;a.s=0;a.o=511;for(var b=0,e=a.v.length;b<e;b++)a.v[b]=h;a.g=(a.c[5]&-130)<<7;a.h=h};function fa(a){this.n=a;this.enable=function(){};this.updateStatus=function(){};this.Ea=function(){}}
window.$&&($.fn.JSSMSUI=function(a){function b(b){this.n=b;if("[object OperaMini]"==Object.prototype.toString.call(window.operamini))$(e).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser can\'t run this emulator. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>');else{var m=this;b=$("<div></div>");var t=$('<div id="screen"></div>'),p=$('<div class="gamepad"><div class="direction"><div class="up"></div><div class="right"></div><div class="left"></div><div class="down"></div></div><div class="buttons"><div class="start"></div><div class="fire1"></div><div class="fire2"></div></div></div>'),A=
$('<div id="controls"></div>'),G=Gc(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]),ha=Gc(["requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"],window),C;if(ha)this.requestAnimationFrame=window[ha].bind(window);else{var Ia=0;this.requestAnimationFrame=function(b){var a=Dc(),e=Math.max(0,16-(a-Ia));window.setTimeout(function(){b(a+e)},e);Ia=a+e}}this.screen=$("<canvas width=256 height=192></canvas>");this.ia=this.screen[0].getContext("2d");
if(this.ia.getImageData){this.va=this.ia.getImageData(0,0,256,192);this.ka={Ia:{i:$(".up",p),Z:1},Ha:{i:$(".right",p),Z:8},k:{i:$(".down",p),Z:2},j:{i:$(".left",p),Z:4},1:{i:$(".fire1",p),Z:16},2:{i:$(".fire2",p),Z:32}};ha=$(".start",p);this.Da=$('<div id="romSelector"></div>');this.ba=$("<select></select>").change(function(){m.xa()});this.D=Object.create(null);this.D.start=$('<input type="button" value="Start" class="btn btn-primary" disabled="disabled">').click(function(){m.n.ca?(m.n.stop(),m.updateStatus("Paused"),
m.D.start.attr("value","Start")):(m.n.start(),m.D.start.attr("value","Pause"))});this.D.reset=$('<input type="button" value="Reset" class="btn" disabled="disabled">').click(function(){""!=m.n.ya&&""!=m.n.za&&Cc(m.n,m.n.ya,m.n.za)?(m.n.reset(),Tc(m.n.C),m.n.start()):$(this).attr("disabled","disabled")});this.n.W&&(this.D.fa=$('<input type="button" value="Enable sound" class="btn" disabled="disabled">').click(function(){m.n.W?(m.n.W=n,m.D.fa.attr("value","Enable sound")):(m.n.W=h,m.D.fa.attr("value",
"Disable sound"))}));G?this.D.Ga=$('<input type="button" value="Go fullscreen" class="btn">').click(function(){var a=t[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}):(this.Aa=n,this.D.zoom=$('<input type="button" value="Zoom in" class="btn hidden-phone">').click(function(){m.Aa?(m.screen.animate({width:"256px",height:"192px"},function(){$(this).removeAttr("style")}),m.D.zoom.attr("value","Zoom in")):
(m.screen.animate({width:"512px",height:"384px"}),m.D.zoom.attr("value","Zoom out"));m.Aa=!m.Aa}));for(C in this.D)this.D[C].appendTo(A);this.log=$('<div id="status"></div>');this.screen.appendTo(t);p.appendTo(t);t.appendTo(b);this.Da.appendTo(b);A.appendTo(b);this.log.appendTo(b);b.appendTo($(e));a!=aa&&this.Fa(a);$(document).bind("keydown",function(a){m.n.G.keydown(a)}).bind("keyup",function(a){m.n.G.keyup(a)});for(C in this.ka)this.ka[C].i.on("mousedown touchstart",function(a){return function(b){m.n.G.w&=
~a;b.preventDefault()}}(this.ka[C].Z)).on("mouseup touchend",function(a){return function(b){m.n.G.w|=a;b.preventDefault()}}(this.ka[C].Z));ha.on("mousedown touchstart",function(a){m.n.T?m.n.da=h:m.n.G.O&=-129;a.preventDefault()}).on("mouseup touchend",function(a){m.n.T||(m.n.G.O|=128);a.preventDefault()})}else $(e).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>')}}
var e=this;b.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;this.log.empty()},Fa:function(a){var b,e,p,A,G=0;this.ba.children().remove();$("<option>Select a ROM...</option>").appendTo(this.ba);for(b in a){if(a.hasOwnProperty(b)){e=$("<optgroup></optgroup>").attr("label",b);p=a[b].length;for(A=0;A<p;A++)$("<option>"+a[b][A][0]+"</option>").attr("value",a[b][A][1]).appendTo(e);e.appendTo(this.ba)}G++}G&&this.ba.appendTo(this.Da)},xa:function(){var a=this;this.updateStatus("Downloading...");
$.ajax({url:escape(this.ba.val()),xhr:function(){var b=$.ajaxSettings.xhr();b.overrideMimeType!=aa&&b.overrideMimeType("text/plain; charset=x-user-defined");return a.xhr=b},complete:function(b,e){var p;"error"==e?a.updateStatus("The selected rom could not be loaded."):(p=b.responseText,a.n.stop(),Cc(a.n,p,a.ba.val()),a.n.reset(),Tc(a.n.C),a.enable())}})},enable:function(){this.D.start.removeAttr("disabled");this.D.start.attr("value","Start");this.D.reset.removeAttr("disabled");this.n.W&&(this.D.fa?
this.D.fa.attr("value","Disable sound"):this.D.fa.attr("value","Enable sound"))},updateStatus:function(a){this.log.text(a)},Ea:function(){var a=Gc(["hidden","mozHidden","webkitHidden","msHidden"]);return a?function(){document[a]||this.ia.putImageData(this.va,0,0)}:function(){this.ia.putImageData(this.va,0,0)}}()};return b});function na(a){this.n=a;this.C=a.C;this.b=a.c;this.G=a.G;this.a=[]}na.prototype={reset:function(){this.a=Array(2)}};
function Jb(a,b){if(a.n.aa&&7>b)switch(b){case 0:return a.G.O&191|64;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(b&193){case 64:var e;a:{e=a.C;if(0==e.N){if(218<e.q){e=e.q-6;break a}}else if(242<e.q){e=e.q-57;break a}e=e.q}return e;case 65:return 0;case 128:e=a.C;e.m=h;var k=e.M;e.M=e.d[e.f++&16383]&255;return k;case 129:return e=a.C,e.m=h,k=e.e,e.e=0,e.n.b.L=n,k;case 192:return a.G.w;case 193:return a.G.a&63|a.a[0]|a.a[1]}return 255}
function U(a,b,e){if(!(a.n.aa&&7>b))switch(b&193){case 1:a.a[0]=(e&32)<<1;a.a[1]=e&128;break;case 128:a=a.C;b=0;a.m=h;switch(a.z){case 0:case 1:case 2:b=a.f&16383;if(e!=(a.d[b]&255)){if(b>=a.g&&b<a.g+64)a.h=h;else if(b>=a.g+128&&b<a.g+256)a.h=h;else{var k=b>>5;a.v[k]=h;k<a.s&&(a.s=k);k>a.o&&(a.o=k)}a.d[b]=e}break;case 3:a.n.T?(b=3*(a.f&31),a.a[b]=a.Y[e],a.a[b+1]=a.X[e],a.a[b+2]=a.S[e]):(b=3*((a.f&63)>>1),0==(a.f&1)?(a.a[b]=a.R[e],a.a[b+1]=a.Q[e]):a.a[b+2]=a.P[e])}a.f++;break;case 129:a=a.C;if(a.m)a.m=
n,a.l=e,a.f=a.f&16128|e;else if(a.m=h,a.z=e>>6&3,a.f=a.l|e<<8,0==a.z)a.M=a.d[a.f++&16383]&255;else if(2==a.z){e&=15;switch(e){case 1:0!=(a.e&128)&&0!=(a.l&32)&&(a.n.b.L=h);(a.l&3)!=(a.c[e]&3)&&(a.h=h);break;case 2:a.J=(a.l&14)<<10;break;case 5:b=a.g,a.g=(a.l&-130)<<7,b!=a.g&&(a.h=h)}a.c[e]=a.l}break;case 64:case 65:if(a.n.W)switch(a=a.b,0!=(e&128)?(a.c=e>>4&7,a.b[a.c]=a.b[a.c]&1008|e&15):a.b[a.c]=0==a.c||2==a.c||4==a.c?a.b[a.c]&15|(e&63)<<4:e&15,a.c){case 0:case 2:case 4:0==a.b[a.c]&&(a.b[a.c]=1);
break;case 6:a.h=16<<(a.b[6]&3),a.f=32768}}};window.JSSMS=ca;})(window);
