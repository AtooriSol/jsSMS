/*
jsSMS - A Sega Master System/GameGear emulator in JavaScript
Copyright (C) 2012 Guillaume Marty (https://github.com/gmarty)
Based on JavaGear Copyright (c) 2002-2008 Chris White

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
(function(){'use strict';var ba=void 0,k=!0,m=!1,ca=!(!window.DataView||!window.ArrayBuffer);function da(c){this.f={ui:ea,swfPath:"lib/"};if(c!=ba)for(var g in this.f)c[g]!=ba&&(this.f[g]=c[g]);this.J=new fa(this);this.b=new c.ui(this);this.z=new ga(this);this.c=new ha(this);this.d=new ia(this);this.a=new ja(this);this.b.updateStatus("Ready to load a ROM.")}
da.prototype={V:m,za:0,L:0,Aa:0,ca:0,ea:0,fa:m,N:k,I:m,P:k,aa:[],ba:0,ga:0,W:[],da:0,ta:"",ua:"",reset:function(){var c=this.z.G,g=0;0==c||this.I?(this.ca=60,this.L=262,g=3579545):1==c&&(this.ca=50,this.L=313,g=3546893);this.za=Math.round(g/this.ca/this.L+1);this.z.G=c;if(this.P){c=this.c;c.j=(g<<8)/16/44100;c.e=0;c.c=0;c.h=16;c.f=32768;for(g=0;4>g;g++)c.b[g<<1]=1,c.b[(g<<1)+1]=15,c.a[g]=0,c.d[g]=1,3!=g&&(c.g[g]=ka);this.ga=Math.round(44100/this.ca);if(0==this.aa.length||this.aa.length!=this.ga)this.aa=
Array(this.ga);if(0==this.W.length||this.W.length!=this.L){this.W=Array(this.L);for(var a=0,g=0;g<this.L;g++)c=(this.ga<<16)/this.L+a,a=c-(c>>16<<16),this.W[g]=c>>16}}this.ea=this.Aa;this.J.reset();this.b.reset();this.z.reset();this.d.reset();this.a.reset();ma(this.a)},start:function(){var c=this;this.V||(this.V=k);this.b.requestAnimationFrame(this.wa.bind(this),this.b.screen);this.e=pa();this.da=0;this.g=setInterval(function(){var g=pa();c.b.updateStatus("Running: "+(c.da/((g-c.e)/1E3)).toFixed(2)+
" FPS");c.da=0;c.e=g},500);this.b.updateStatus("Running")},stop:function(){clearInterval(this.g);this.V=m},wa:function(){if(this.V){var c;for(var g=0;g<this.L;g++){var a=this.a,h=0,n=0,s=0;a.n+=this.za;if(a.H){var l=a;l.F&&(l.S&&(l.b++,l.S=m),l.F=l.C=m,l.H=m,q(l,l.b),0==l.T?(l.b=0==l.U||255==l.U?56:l.U,l.n-=13):1==l.T?(l.b=56,l.n-=13):(l.b=l.t((l.Z<<8)+l.U),l.n-=19))}for(;0<a.n;)switch(n=a.d(a.b++),a.n-=qa[n],n){case 1:a.e=a.d(a.b++);a.f=a.d(a.b++);break;case 2:a.k(t(a),a.c);break;case 3:var B=a;
B.e=B.e+1&255;0==B.e&&(B.f=B.f+1&255);break;case 4:a.f=u(a,a.f);break;case 5:a.f=v(a,a.f);break;case 6:a.f=a.d(a.b++);break;case 7:var F=a,na=F.c>>7;F.c=F.c<<1&255|na;F.a=F.a&236|na;break;case 8:var R=a,nb=R.c;R.c=R.ia;R.ia=nb;nb=R.a;R.a=R.na;R.na=nb;break;case 9:ra(a,w(a,C(a),t(a)));break;case 10:a.c=a.d(t(a));break;case 11:Ba(a);break;case 12:a.e=u(a,a.e);break;case 13:a.e=v(a,a.e);break;case 14:a.e=a.d(a.b++);break;case 15:var Xa=a,Ub=Xa.c&1;Xa.c=Xa.c>>1|Ub<<7;Xa.a=Xa.a&236|Ub;break;case 16:a.f=
a.f-1&255;Ca(a,0!=a.f);break;case 17:a.h=a.d(a.b++);a.i=a.d(a.b++);break;case 18:a.k(E(a),a.c);break;case 19:Ha(a);break;case 20:a.i=u(a,a.i);break;case 21:a.i=v(a,a.i);break;case 22:a.i=a.d(a.b++);break;case 23:var Ja=a,Gc=Ja.c>>7;Ja.c=(Ja.c<<1|Ja.a&1)&255;Ja.a=Ja.a&236|Gc;break;case 24:a.b+=G(a)+1;break;case 25:ra(a,w(a,C(a),E(a)));break;case 26:a.c=a.d(E(a));break;case 27:Ia(a);break;case 28:a.h=u(a,a.h);break;case 29:a.h=v(a,a.h);break;case 30:a.h=a.d(a.b++);break;case 31:var Ka=a,Hc=Ka.c&1;Ka.c=
(Ka.c>>1|(Ka.a&1)<<7)&255;Ka.a=Ka.a&236|Hc;break;case 32:Ca(a,0==(a.a&64));break;case 33:a.g=a.d(a.b++);a.j=a.d(a.b++);break;case 34:h=a.t(a.b);a.k(h,a.g);a.k(++h,a.j);a.b+=2;break;case 35:La(a);break;case 36:a.j=u(a,a.j);break;case 37:a.j=v(a,a.j);break;case 38:a.j=a.d(a.b++);break;case 39:var oa=a,Vb=oa.xa[oa.c|(oa.a&1)<<8|(oa.a&2)<<8|(oa.a&16)<<6];oa.c=Vb&255;oa.a=oa.a&2|Vb>>8;break;case 40:Ca(a,0!=(a.a&64));break;case 41:ra(a,w(a,C(a),C(a)));break;case 42:h=a.t(a.b);a.g=a.d(h);a.j=a.d(h+1);a.b+=
2;break;case 43:Wa(a);break;case 44:a.g=u(a,a.g);break;case 45:a.g=v(a,a.g);break;case 46:a.g=a.d(a.b++);break;case 47:var db=a;db.c^=255;db.a|=18;break;case 48:Ca(a,0==(a.a&1));break;case 49:a.m=a.t(a.b);a.b+=2;break;case 50:a.k(a.t(a.b),a.c);a.b+=2;break;case 51:a.m++;break;case 52:Ya(a,C(a));break;case 53:cb(a,C(a));break;case 54:a.k(C(a),a.d(a.b++));break;case 55:a.a|=1;a.a&=-3;a.a&=-17;break;case 56:Ca(a,0!=(a.a&1));break;case 57:ra(a,w(a,C(a),a.m));break;case 58:a.c=a.d(a.t(a.b));a.b+=2;break;
case 59:a.m--;break;case 60:a.c=u(a,a.c);break;case 61:a.c=v(a,a.c);break;case 62:a.c=a.d(a.b++);break;case 63:var X=a;0!=(X.a&1)?(X.a&=-2,X.a|=16):(X.a|=1,X.a&=-17);X.a&=-3;break;case 65:a.f=a.e;break;case 66:a.f=a.i;break;case 67:a.f=a.h;break;case 68:a.f=a.j;break;case 69:a.f=a.g;break;case 70:a.f=a.d(C(a));break;case 71:a.f=a.c;break;case 72:a.e=a.f;break;case 74:a.e=a.i;break;case 75:a.e=a.h;break;case 76:a.e=a.j;break;case 77:a.e=a.g;break;case 78:a.e=a.d(C(a));break;case 79:a.e=a.c;break;case 80:a.i=
a.f;break;case 81:a.i=a.e;break;case 83:a.i=a.h;break;case 84:a.i=a.j;break;case 85:a.i=a.g;break;case 86:a.i=a.d(C(a));break;case 87:a.i=a.c;break;case 88:a.h=a.f;break;case 89:a.h=a.e;break;case 90:a.h=a.i;break;case 92:a.h=a.j;break;case 93:a.h=a.g;break;case 94:a.h=a.d(C(a));break;case 95:a.h=a.c;break;case 96:a.j=a.f;break;case 97:a.j=a.e;break;case 98:a.j=a.i;break;case 99:a.j=a.h;break;case 101:a.j=a.g;break;case 102:a.j=a.d(C(a));break;case 103:a.j=a.c;break;case 104:a.g=a.f;break;case 105:a.g=
a.e;break;case 106:a.g=a.i;break;case 107:a.g=a.h;break;case 108:a.g=a.j;break;case 110:a.g=a.d(C(a));break;case 111:a.g=a.c;break;case 112:a.k(C(a),a.f);break;case 113:a.k(C(a),a.e);break;case 114:a.k(C(a),a.i);break;case 115:a.k(C(a),a.h);break;case 116:a.k(C(a),a.j);break;case 117:a.k(C(a),a.g);break;case 118:a.n=0;a.S=k;a.b--;break;case 119:a.k(C(a),a.c);break;case 120:a.c=a.f;break;case 121:a.c=a.e;break;case 122:a.c=a.i;break;case 123:a.c=a.h;break;case 124:a.c=a.j;break;case 125:a.c=a.g;break;
case 126:a.c=a.d(C(a));break;case 128:H(a,a.f);break;case 129:H(a,a.e);break;case 130:H(a,a.i);break;case 131:H(a,a.h);break;case 132:H(a,a.j);break;case 133:H(a,a.g);break;case 134:H(a,a.d(C(a)));break;case 135:H(a,a.c);break;case 136:J(a,a.f);break;case 137:J(a,a.e);break;case 138:J(a,a.i);break;case 139:J(a,a.h);break;case 140:J(a,a.j);break;case 141:J(a,a.g);break;case 142:J(a,a.d(C(a)));break;case 143:J(a,a.c);break;case 144:K(a,a.f);break;case 145:K(a,a.e);break;case 146:K(a,a.i);break;case 147:K(a,
a.h);break;case 148:K(a,a.j);break;case 149:K(a,a.g);break;case 150:K(a,a.d(C(a)));break;case 151:K(a,a.c);break;case 152:L(a,a.f);break;case 153:L(a,a.e);break;case 154:L(a,a.i);break;case 155:L(a,a.h);break;case 156:L(a,a.j);break;case 157:L(a,a.g);break;case 158:L(a,a.d(C(a)));break;case 159:L(a,a.c);break;case 160:a.a=a.l[a.c&=a.f]|16;break;case 161:a.a=a.l[a.c&=a.e]|16;break;case 162:a.a=a.l[a.c&=a.i]|16;break;case 163:a.a=a.l[a.c&=a.h]|16;break;case 164:a.a=a.l[a.c&=a.j]|16;break;case 165:a.a=
a.l[a.c&=a.g]|16;break;case 166:a.a=a.l[a.c&=a.d(C(a))]|16;break;case 167:a.a=a.l[a.c]|16;break;case 168:a.a=a.l[a.c^=a.f];break;case 169:a.a=a.l[a.c^=a.e];break;case 170:a.a=a.l[a.c^=a.i];break;case 171:a.a=a.l[a.c^=a.h];break;case 172:a.a=a.l[a.c^=a.j];break;case 173:a.a=a.l[a.c^=a.g];break;case 174:a.a=a.l[a.c^=a.d(C(a))];break;case 175:a.a=a.l[a.c=0];break;case 176:a.a=a.l[a.c|=a.f];break;case 177:a.a=a.l[a.c|=a.e];break;case 178:a.a=a.l[a.c|=a.i];break;case 179:a.a=a.l[a.c|=a.h];break;case 180:a.a=
a.l[a.c|=a.j];break;case 181:a.a=a.l[a.c|=a.g];break;case 182:a.a=a.l[a.c|=a.d(C(a))];break;case 183:a.a=a.l[a.c];break;case 184:N(a,a.f);break;case 185:N(a,a.e);break;case 186:N(a,a.i);break;case 187:N(a,a.h);break;case 188:N(a,a.j);break;case 189:N(a,a.g);break;case 190:N(a,a.d(C(a)));break;case 191:N(a,a.c);break;case 192:eb(a,0==(a.a&64));break;case 193:var Wb=a,Xb=a.t(a.m);Wb.f=Xb>>8;Wb.e=Xb&255;a.m+=2;break;case 194:fb(a,0==(a.a&64));break;case 195:a.b=a.t(a.b);break;case 196:a.call(0==(a.a&
64));break;case 197:mb(a,a.f,a.e);break;case 198:H(a,a.d(a.b++));break;case 199:q(a,a.b);a.b=0;break;case 200:eb(a,0!=(a.a&64));break;case 201:a.b=a.t(a.m);a.m+=2;break;case 202:fb(a,0!=(a.a&64));break;case 203:var b=a,Yb=a.d(a.b++);b.n-=ob[Yb];switch(Yb){case 0:b.f=pb(b,b.f);break;case 1:b.e=pb(b,b.e);break;case 2:b.i=pb(b,b.i);break;case 3:b.h=pb(b,b.h);break;case 4:b.j=pb(b,b.j);break;case 5:b.g=pb(b,b.g);break;case 6:b.k(C(b),pb(b,b.d(C(b))));break;case 7:b.c=pb(b,b.c);break;case 8:b.f=qb(b,b.f);
break;case 9:b.e=qb(b,b.e);break;case 10:b.i=qb(b,b.i);break;case 11:b.h=qb(b,b.h);break;case 12:b.j=qb(b,b.j);break;case 13:b.g=qb(b,b.g);break;case 14:b.k(C(b),qb(b,b.d(C(b))));break;case 15:b.c=qb(b,b.c);break;case 16:b.f=rb(b,b.f);break;case 17:b.e=rb(b,b.e);break;case 18:b.i=rb(b,b.i);break;case 19:b.h=rb(b,b.h);break;case 20:b.j=rb(b,b.j);break;case 21:b.g=rb(b,b.g);break;case 22:b.k(C(b),rb(b,b.d(C(b))));break;case 23:b.c=rb(b,b.c);break;case 24:b.f=yb(b,b.f);break;case 25:b.e=yb(b,b.e);break;
case 26:b.i=yb(b,b.i);break;case 27:b.h=yb(b,b.h);break;case 28:b.j=yb(b,b.j);break;case 29:b.g=yb(b,b.g);break;case 30:b.k(C(b),yb(b,b.d(C(b))));break;case 31:b.c=yb(b,b.c);break;case 32:b.f=Mb(b,b.f);break;case 33:b.e=Mb(b,b.e);break;case 34:b.i=Mb(b,b.i);break;case 35:b.h=Mb(b,b.h);break;case 36:b.j=Mb(b,b.j);break;case 37:b.g=Mb(b,b.g);break;case 38:b.k(C(b),Mb(b,b.d(C(b))));break;case 39:b.c=Mb(b,b.c);break;case 40:b.f=Nb(b,b.f);break;case 41:b.e=Nb(b,b.e);break;case 42:b.i=Nb(b,b.i);break;case 43:b.h=
Nb(b,b.h);break;case 44:b.j=Nb(b,b.j);break;case 45:b.g=Nb(b,b.g);break;case 46:b.k(C(b),Nb(b,b.d(C(b))));break;case 47:b.c=Nb(b,b.c);break;case 48:b.f=Ob(b,b.f);break;case 49:b.e=Ob(b,b.e);break;case 50:b.i=Ob(b,b.i);break;case 51:b.h=Ob(b,b.h);break;case 52:b.j=Ob(b,b.j);break;case 53:b.g=Ob(b,b.g);break;case 54:b.k(C(b),Ob(b,b.d(C(b))));break;case 55:b.c=Ob(b,b.c);break;case 56:b.f=Pb(b,b.f);break;case 57:b.e=Pb(b,b.e);break;case 58:b.i=Pb(b,b.i);break;case 59:b.h=Pb(b,b.h);break;case 60:b.j=Pb(b,
b.j);break;case 61:b.g=rb(b,b.g);break;case 62:b.k(C(b),Pb(b,b.d(C(b))));break;case 63:b.c=Pb(b,b.c);break;case 64:O(b,b.f&1);break;case 65:O(b,b.e&1);break;case 66:O(b,b.i&1);break;case 67:O(b,b.h&1);break;case 68:O(b,b.j&1);break;case 69:O(b,b.g&1);break;case 70:O(b,b.d(C(b))&1);break;case 71:O(b,b.c&1);break;case 72:O(b,b.f&2);break;case 73:O(b,b.e&2);break;case 74:O(b,b.i&2);break;case 75:O(b,b.h&2);break;case 76:O(b,b.j&2);break;case 77:O(b,b.g&2);break;case 78:O(b,b.d(C(b))&2);break;case 79:O(b,
b.c&2);break;case 80:O(b,b.f&4);break;case 81:O(b,b.e&4);break;case 82:O(b,b.i&4);break;case 83:O(b,b.h&4);break;case 84:O(b,b.j&4);break;case 85:O(b,b.g&4);break;case 86:O(b,b.d(C(b))&4);break;case 87:O(b,b.c&4);break;case 88:O(b,b.f&8);break;case 89:O(b,b.e&8);break;case 90:O(b,b.i&8);break;case 91:O(b,b.h&8);break;case 92:O(b,b.j&8);break;case 93:O(b,b.g&8);break;case 94:O(b,b.d(C(b))&8);break;case 95:O(b,b.c&8);break;case 96:O(b,b.f&16);break;case 97:O(b,b.e&16);break;case 98:O(b,b.i&16);break;
case 99:O(b,b.h&16);break;case 100:O(b,b.j&16);break;case 101:O(b,b.g&16);break;case 102:O(b,b.d(C(b))&16);break;case 103:O(b,b.c&16);break;case 104:O(b,b.f&32);break;case 105:O(b,b.e&32);break;case 106:O(b,b.i&32);break;case 107:O(b,b.h&32);break;case 108:O(b,b.j&32);break;case 109:O(b,b.g&32);break;case 110:O(b,b.d(C(b))&32);break;case 111:O(b,b.c&32);break;case 112:O(b,b.f&64);break;case 113:O(b,b.e&64);break;case 114:O(b,b.i&64);break;case 115:O(b,b.h&64);break;case 116:O(b,b.j&64);break;case 117:O(b,
b.g&64);break;case 118:O(b,b.d(C(b))&64);break;case 119:O(b,b.c&64);break;case 120:O(b,b.f&128);break;case 121:O(b,b.e&128);break;case 122:O(b,b.i&128);break;case 123:O(b,b.h&128);break;case 124:O(b,b.j&128);break;case 125:O(b,b.g&128);break;case 126:O(b,b.d(C(b))&128);break;case 127:O(b,b.c&128);break;case 128:b.f&=-2;break;case 129:b.e&=-2;break;case 130:b.i&=-2;break;case 131:b.h&=-2;break;case 132:b.j&=-2;break;case 133:b.g&=-2;break;case 134:b.k(C(b),b.d(C(b))&-2);break;case 135:b.c&=-2;break;
case 136:b.f&=-3;break;case 137:b.e&=-3;break;case 138:b.i&=-3;break;case 139:b.h&=-3;break;case 140:b.j&=-3;break;case 141:b.g&=-3;break;case 142:b.k(C(b),b.d(C(b))&-3);break;case 143:b.c&=-3;break;case 144:b.f&=-5;break;case 145:b.e&=-5;break;case 146:b.i&=-5;break;case 147:b.h&=-5;break;case 148:b.j&=-5;break;case 149:b.g&=-5;break;case 150:b.k(C(b),b.d(C(b))&-5);break;case 151:b.c&=-5;break;case 152:b.f&=-9;break;case 153:b.e&=-9;break;case 154:b.i&=-9;break;case 155:b.h&=-9;break;case 156:b.j&=
-9;break;case 157:b.g&=-9;break;case 158:b.k(C(b),b.d(C(b))&-9);break;case 159:b.c&=-9;break;case 160:b.f&=-17;break;case 161:b.e&=-17;break;case 162:b.i&=-17;break;case 163:b.h&=-17;break;case 164:b.j&=-17;break;case 165:b.g&=-17;break;case 166:b.k(C(b),b.d(C(b))&-17);break;case 167:b.c&=-17;break;case 168:b.f&=-33;break;case 169:b.e&=-33;break;case 170:b.i&=-33;break;case 171:b.h&=-33;break;case 172:b.j&=-33;break;case 173:b.g&=-33;break;case 174:b.k(C(b),b.d(C(b))&-33);break;case 175:b.c&=-33;
break;case 176:b.f&=-65;break;case 177:b.e&=-65;break;case 178:b.i&=-65;break;case 179:b.h&=-65;break;case 180:b.j&=-65;break;case 181:b.g&=-65;break;case 182:b.k(C(b),b.d(C(b))&-65);break;case 183:b.c&=-65;break;case 184:b.f&=-129;break;case 185:b.e&=-129;break;case 186:b.i&=-129;break;case 187:b.h&=-129;break;case 188:b.j&=-129;break;case 189:b.g&=-129;break;case 190:b.k(C(b),b.d(C(b))&-129);break;case 191:b.c&=-129;break;case 192:b.f|=1;break;case 193:b.e|=1;break;case 194:b.i|=1;break;case 195:b.h|=
1;break;case 196:b.j|=1;break;case 197:b.g|=1;break;case 198:b.k(C(b),b.d(C(b))|1);break;case 199:b.c|=1;break;case 200:b.f|=2;break;case 201:b.e|=2;break;case 202:b.i|=2;break;case 203:b.h|=2;break;case 204:b.j|=2;break;case 205:b.g|=2;break;case 206:b.k(C(b),b.d(C(b))|2);break;case 207:b.c|=2;break;case 208:b.f|=4;break;case 209:b.e|=4;break;case 210:b.i|=4;break;case 211:b.h|=4;break;case 212:b.j|=4;break;case 213:b.g|=4;break;case 214:b.k(C(b),b.d(C(b))|4);break;case 215:b.c|=4;break;case 216:b.f|=
8;break;case 217:b.e|=8;break;case 218:b.i|=8;break;case 219:b.h|=8;break;case 220:b.j|=8;break;case 221:b.g|=8;break;case 222:b.k(C(b),b.d(C(b))|8);break;case 223:b.c|=8;break;case 224:b.f|=16;break;case 225:b.e|=16;break;case 226:b.i|=16;break;case 227:b.h|=16;break;case 228:b.j|=16;break;case 229:b.g|=16;break;case 230:b.k(C(b),b.d(C(b))|16);break;case 231:b.c|=16;break;case 232:b.f|=32;break;case 233:b.e|=32;break;case 234:b.i|=32;break;case 235:b.h|=32;break;case 236:b.j|=32;break;case 237:b.g|=
32;break;case 238:b.k(C(b),b.d(C(b))|32);break;case 239:b.c|=32;break;case 240:b.f|=64;break;case 241:b.e|=64;break;case 242:b.i|=64;break;case 243:b.h|=64;break;case 244:b.j|=64;break;case 245:b.g|=64;break;case 246:b.k(C(b),b.d(C(b))|64);break;case 247:b.c|=64;break;case 248:b.f|=128;break;case 249:b.e|=128;break;case 250:b.i|=128;break;case 251:b.h|=128;break;case 252:b.j|=128;break;case 253:b.g|=128;break;case 254:b.k(C(b),b.d(C(b))|128);break;case 255:b.c|=128}break;case 204:a.call(0!=(a.a&64));
break;case 205:q(a,a.b+2);a.b=a.t(a.b);break;case 206:J(a,a.d(a.b++));break;case 207:q(a,a.b);a.b=8;break;case 208:eb(a,0==(a.a&1));break;case 209:var Zb=a,$b=a.t(a.m);Zb.i=$b>>8;Zb.h=$b&255;a.m+=2;break;case 210:fb(a,0==(a.a&1));break;case 211:P(a.u,a.d(a.b++),a.c);break;case 212:a.call(0==(a.a&1));break;case 213:mb(a,a.i,a.h);break;case 214:K(a,a.d(a.b++));break;case 215:q(a,a.b);a.b=16;break;case 216:eb(a,0!=(a.a&1));break;case 217:var sa=a,sb=sa.f;sa.f=sa.ja;sa.ja=sb;sb=sa.e;sa.e=sa.ka;sa.ka=
sb;var ta=a,tb=ta.i;ta.i=ta.la;ta.la=tb;tb=ta.h;ta.h=ta.ma;ta.ma=tb;var ua=a,ub=ua.j;ua.j=ua.oa;ua.oa=ub;ub=ua.g;ua.g=ua.pa;ua.pa=ub;break;case 218:fb(a,0!=(a.a&1));break;case 219:a.c=Q(a.u,a.d(a.b++));break;case 220:a.call(0!=(a.a&1));break;case 221:var e=a,ac=a.d(a.b++),Ma=0,vb=0;e.n-=Qb[ac];switch(ac){case 9:Rb(e,w(e,S(e),t(e)));break;case 25:Rb(e,w(e,S(e),E(e)));break;case 33:Rb(e,e.t(e.b));e.b+=2;break;case 34:Ma=e.t(e.b);e.k(Ma++,e.p);e.k(Ma,e.r);e.b+=2;break;case 35:e.p=e.p+1&255;0==e.p&&(e.r=
e.r+1&255);break;case 36:e.r=u(e,e.r);break;case 37:e.r=v(e,e.r);break;case 38:e.r=e.d(e.b++);break;case 41:Rb(e,w(e,S(e),S(e)));break;case 42:Ma=e.t(e.b);e.p=e.d(Ma);e.r=e.d(++Ma);e.b+=2;break;case 43:e.p=e.p-1&255;255==e.p&&(e.r=e.r-1&255);break;case 44:e.p=u(e,e.p);break;case 45:e.p=v(e,e.p);break;case 46:e.p=e.d(e.b++);break;case 52:Ya(e,S(e)+G(e));e.b++;break;case 53:cb(e,S(e)+G(e));e.b++;break;case 54:e.k(S(e)+G(e),e.d(++e.b));e.b++;break;case 57:Rb(e,w(e,S(e),e.m));break;case 68:e.f=e.r;break;
case 69:e.f=e.p;break;case 70:e.f=e.d(S(e)+G(e));e.b++;break;case 76:e.e=e.r;break;case 77:e.e=e.p;break;case 78:e.e=e.d(S(e)+G(e));e.b++;break;case 84:e.i=e.r;break;case 85:e.i=e.p;break;case 86:e.i=e.d(S(e)+G(e));e.b++;break;case 92:e.h=e.r;break;case 93:e.h=e.p;break;case 94:e.h=e.d(S(e)+G(e));e.b++;break;case 96:e.r=e.f;break;case 97:e.r=e.e;break;case 98:e.r=e.i;break;case 99:e.r=e.h;break;case 100:break;case 101:e.r=e.p;break;case 102:e.j=e.d(S(e)+G(e));e.b++;break;case 103:e.r=e.c;break;case 104:e.p=
e.f;break;case 105:e.p=e.e;break;case 106:e.p=e.i;break;case 107:e.p=e.h;break;case 108:e.p=e.r;break;case 109:break;case 110:e.g=e.d(S(e)+G(e));e.b++;break;case 111:e.p=e.c;break;case 112:e.k(S(e)+G(e),e.f);e.b++;break;case 113:e.k(S(e)+G(e),e.e);e.b++;break;case 114:e.k(S(e)+G(e),e.i);e.b++;break;case 115:e.k(S(e)+G(e),e.h);e.b++;break;case 116:e.k(S(e)+G(e),e.j);e.b++;break;case 117:e.k(S(e)+G(e),e.g);e.b++;break;case 119:e.k(S(e)+G(e),e.c);e.b++;break;case 124:e.c=e.r;break;case 125:e.c=e.p;break;
case 126:e.c=e.d(S(e)+G(e));e.b++;break;case 132:H(e,e.r);break;case 133:H(e,e.p);break;case 134:H(e,e.d(S(e)+G(e)));e.b++;break;case 140:J(e,e.r);break;case 141:J(e,e.p);break;case 142:J(e,e.d(S(e)+G(e)));e.b++;break;case 148:K(e,e.r);break;case 149:K(e,e.p);break;case 150:K(e,e.d(S(e)+G(e)));e.b++;break;case 156:L(e,e.r);break;case 157:L(e,e.p);break;case 158:L(e,e.d(S(e)+G(e)));e.b++;break;case 164:e.a=e.l[e.c&=e.r]|16;break;case 165:e.a=e.l[e.c&=e.p]|16;break;case 166:e.a=e.l[e.c&=e.d(S(e)+G(e))]|
16;e.b++;break;case 172:e.a=e.l[e.c^=e.r];break;case 173:e.a=e.l[e.c^=e.p];break;case 174:e.a=e.l[e.c^=e.d(S(e)+G(e))];e.b++;break;case 180:e.a=e.l[e.c|=e.r];break;case 181:e.a=e.l[e.c|=e.p];break;case 182:e.a=e.l[e.c|=e.d(S(e)+G(e))];e.b++;break;case 188:N(e,e.r);break;case 189:N(e,e.p);break;case 190:N(e,e.d(S(e)+G(e)));e.b++;break;case 203:Sb(e,S(e));break;case 225:Rb(e,e.t(e.m));e.m+=2;break;case 227:vb=S(e);Rb(e,e.t(e.m));e.k(e.m,vb&255);e.k(e.m+1,vb>>8);break;case 229:mb(e,e.r,e.p);break;case 233:e.b=
S(e);break;case 249:e.m=S(e);break;default:e.b--}break;case 222:L(a,a.d(a.b++));break;case 223:q(a,a.b);a.b=24;break;case 224:eb(a,0==(a.a&4));break;case 225:ra(a,a.t(a.m));a.m+=2;break;case 226:fb(a,0==(a.a&4));break;case 227:s=a.j;a.j=a.d(a.m+1);a.k(a.m+1,s);s=a.g;a.g=a.d(a.m);a.k(a.m,s);break;case 228:a.call(0==(a.a&4));break;case 229:mb(a,a.j,a.g);break;case 230:a.a=a.l[a.c&=a.d(a.b++)]|16;break;case 231:q(a,a.b);a.b=32;break;case 232:eb(a,0!=(a.a&4));break;case 233:a.b=C(a);break;case 234:fb(a,
0!=(a.a&4));break;case 235:s=a.i;a.i=a.j;a.j=s;s=a.h;a.h=a.g;a.g=s;break;case 236:a.call(0!=(a.a&4));break;case 237:var d=a,dc=a.d(a.b),r=0,y=0,Na=0;d.n-=Tb[dc];switch(dc){case 64:d.f=Q(d.u,d.e);d.a=d.a&1|d.l[d.f];d.b++;break;case 65:P(d.u,d.e,d.f);d.b++;break;case 66:bc(d,t(d));d.b++;break;case 67:y=d.t(d.b+1);d.k(y++,d.e);d.k(y,d.f);d.b+=3;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:r=d.c;d.c=0;K(d,r);d.b++;break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:d.b=
d.t(d.m);d.m+=2;d.F=d.C;break;case 70:case 78:case 102:case 110:d.T=0;d.b++;break;case 71:d.Z=d.c;d.b++;break;case 72:d.e=Q(d.u,d.e);d.a=d.a&1|d.l[d.e];d.b++;break;case 73:P(d.u,d.e,d.e);d.b++;break;case 74:cc(d,t(d));d.b++;break;case 75:y=d.t(d.b+1);d.e=d.d(y++);d.f=d.d(y);d.b+=3;break;case 79:d.b++;break;case 80:d.i=Q(d.u,d.e);d.a=d.a&1|d.l[d.i];d.b++;break;case 81:P(d.u,d.e,d.i);d.b++;break;case 82:bc(d,E(d));d.b++;break;case 83:y=d.t(d.b+1);d.k(y++,d.h);d.k(y,d.i);d.b+=3;break;case 86:case 118:d.T=
1;d.b++;break;case 87:d.c=d.Z;d.a=d.a&1|d.ha[d.c]|(d.C?4:0);d.b++;break;case 88:d.h=Q(d.u,d.e);d.a=d.a&1|d.l[d.h];d.b++;break;case 89:P(d.u,d.e,d.h);d.b++;break;case 90:cc(d,E(d));d.b++;break;case 91:y=d.t(d.b+1);d.h=d.d(y++);d.i=d.d(y);d.b+=3;break;case 95:d.c=Math.round(255*Math.random());d.a=d.a&1|d.ha[d.c]|(d.C?4:0);d.b++;break;case 96:d.j=Q(d.u,d.e);d.a=d.a&1|d.l[d.j];d.b++;break;case 97:P(d.u,d.e,d.j);d.b++;break;case 98:bc(d,C(d));d.b++;break;case 99:y=d.t(d.b+1);d.k(y++,d.g);d.k(y,d.j);d.b+=
3;break;case 103:y=C(d);Na=d.d(y);d.k(y,Na>>4|(d.c&15)<<4);d.c=d.c&240|Na&15;d.a=d.a&1|d.l[d.c];d.b++;break;case 104:d.g=Q(d.u,d.e);d.a=d.a&1|d.l[d.g];d.b++;break;case 105:P(d.u,d.e,d.g);d.b++;break;case 106:cc(d,C(d));d.b++;break;case 107:y=d.t(d.b+1);d.g=d.d(y++);d.j=d.d(y);d.b+=3;break;case 111:y=C(d);Na=d.d(y);d.k(y,(Na&15)<<4|d.c&15);d.c=d.c&240|Na>>4;d.a=d.a&1|d.l[d.c];d.b++;break;case 113:P(d.u,d.e,0);d.b++;break;case 114:bc(d,d.m);d.b++;break;case 115:y=d.t(d.b+1);d.k(y++,d.m&255);d.k(y,d.m>>
8);d.b+=3;break;case 120:d.c=Q(d.u,d.e);d.a=d.a&1|d.l[d.c];d.b++;break;case 121:P(d.u,d.e,d.c);d.b++;break;case 122:cc(d,d.m);d.b++;break;case 123:d.m=d.t(d.t(d.b+1));d.b+=3;break;case 160:d.k(E(d),d.d(C(d)));Ha(d);La(d);Ba(d);d.a=d.a&193|(0!=t(d)?4:0);d.b++;break;case 161:r=d.a&1|2;N(d,d.d(C(d)));La(d);Ba(d);r|=0==t(d)?0:4;d.a=d.a&248|r;d.b++;break;case 162:r=Q(d.u,d.e);d.k(C(d),r);d.f=v(d,d.f);La(d);d.a=128==(r&128)?d.a|2:d.a&-3;d.b++;break;case 163:r=d.d(C(d));P(d.u,d.e,r);La(d);d.f=v(d,d.f);255<
d.g+r?(d.a|=1,d.a|=16):(d.a&=-2,d.a&=-17);d.a=128==(r&128)?d.a|2:d.a&-3;d.b++;break;case 168:d.k(E(d),d.d(C(d)));Ia(d);Wa(d);Ba(d);d.a=d.a&193|(0!=t(d)?4:0);d.b++;break;case 169:r=d.a&1|2;N(d,d.d(C(d)));Wa(d);Ba(d);r|=0==t(d)?0:4;d.a=d.a&248|r;d.b++;break;case 170:r=Q(d.u,d.e);d.k(C(d),r);d.f=v(d,d.f);Wa(d);d.a=0!=(r&128)?d.a|2:d.a&-3;d.b++;break;case 171:r=d.d(C(d));P(d.u,d.e,r);Wa(d);d.f=v(d,d.f);255<d.g+r?(d.a|=1,d.a|=16):(d.a&=-2,d.a&=-17);d.a=128==(r&128)?d.a|2:d.a&-3;d.b++;break;case 176:d.k(E(d),
d.d(C(d)));Ha(d);La(d);Ba(d);0!=t(d)?(d.a|=4,d.n-=5,d.b--):(d.a&=-5,d.b++);d.a&=-3;d.a&=-17;break;case 177:r=d.a&1|2;N(d,d.d(C(d)));La(d);Ba(d);r|=0==t(d)?0:4;0!=(r&4)&&0==(d.a&64)?(d.n-=5,d.b--):d.b++;d.a=d.a&248|r;break;case 178:r=Q(d.u,d.e);d.k(C(d),r);d.f=v(d,d.f);La(d);0!=d.f?(d.n-=5,d.b--):d.b++;d.a=128==(r&128)?d.a|2:d.a&-3;break;case 179:r=d.d(C(d));P(d.u,d.e,r);d.f=v(d,d.f);La(d);0!=d.f?(d.n-=5,d.b--):d.b++;255<d.g+r?(d.a|=1,d.a|=16):(d.a&=-2,d.a&=-17);d.a=0!=(r&128)?d.a|2:d.a&-3;break;case 184:d.k(E(d),
d.d(C(d)));Ia(d);Wa(d);Ba(d);0!=t(d)?(d.a|=4,d.n-=5,d.b--):(d.a&=-5,d.b++);d.a&=-3;d.a&=-17;break;case 185:r=d.a&1|2;N(d,d.d(C(d)));Wa(d);Ba(d);r|=0==t(d)?0:4;0!=(r&4)&&0==(d.a&64)?(d.n-=5,d.b--):d.b++;d.a=d.a&248|r;break;case 186:r=Q(d.u,d.e);d.k(C(d),r);d.f=v(d,d.f);Wa(d);0!=d.f?(d.n-=5,d.b--):d.b++;d.a=0!=(r&128)?d.a|2:d.a&-3;break;case 187:r=d.d(C(d));P(d.u,d.e,r);d.f=v(d,d.f);Wa(d);0!=d.f?(d.n-=5,d.b--):d.b++;255<d.g+r?(d.a|=1,d.a|=16):(d.a&=-2,d.a&=-17);d.a=0!=(r&128)?d.a|2:d.a&-3;break;default:d.b++}break;
case 238:a.a=a.l[a.c^=a.d(a.b++)];break;case 239:q(a,a.b);a.b=40;break;case 240:eb(a,0==(a.a&128));break;case 241:a.a=a.d(a.m++);a.c=a.d(a.m++);break;case 242:fb(a,0==(a.a&128));break;case 243:a.F=a.C=m;break;case 244:a.call(0==(a.a&128));break;case 245:mb(a,a.c,a.a);break;case 246:a.a=a.l[a.c|=a.d(a.b++)];break;case 247:q(a,a.b);a.b=48;break;case 248:eb(a,0!=(a.a&128));break;case 249:a.m=C(a);break;case 250:fb(a,0!=(a.a&128));break;case 251:a.F=a.C=k;break;case 252:a.call(0!=(a.a&128));break;case 253:var f=
a,ec=a.d(a.b++),Oa=ba,wb=ba;f.n-=Qb[ec];switch(ec){case 9:Bc(f,w(f,T(f),t(f)));break;case 25:Bc(f,w(f,T(f),E(f)));break;case 33:Bc(f,f.t(f.b));f.b+=2;break;case 34:Oa=f.t(f.b);f.k(Oa++,f.q);f.k(Oa,f.s);f.b+=2;break;case 35:f.q=f.q+1&255;0==f.q&&(f.s=f.s+1&255);break;case 36:f.s=u(f,f.s);break;case 37:f.s=v(f,f.s);break;case 38:f.s=f.d(f.b++);break;case 41:Bc(f,w(f,T(f),T(f)));break;case 42:Oa=f.t(f.b);f.q=f.d(Oa);f.s=f.d(++Oa);f.b+=2;break;case 43:f.q=f.q-1&255;255==f.q&&(f.s=f.s-1&255);break;case 44:f.q=
u(f,f.q);break;case 45:f.q=v(f,f.q);break;case 46:f.q=f.d(f.b++);break;case 52:Ya(f,T(f)+G(f));f.b++;break;case 53:cb(f,T(f)+G(f));f.b++;break;case 54:f.k(T(f)+G(f),f.d(++f.b));f.b++;break;case 57:Bc(f,w(f,T(f),f.m));break;case 68:f.f=f.s;break;case 69:f.f=f.q;break;case 70:f.f=f.d(T(f)+G(f));f.b++;break;case 76:f.e=f.s;break;case 77:f.e=f.q;break;case 78:f.e=f.d(T(f)+G(f));f.b++;break;case 84:f.i=f.s;break;case 85:f.i=f.q;break;case 86:f.i=f.d(T(f)+G(f));f.b++;break;case 92:f.h=f.s;break;case 93:f.h=
f.q;break;case 94:f.h=f.d(T(f)+G(f));f.b++;break;case 96:f.s=f.f;break;case 97:f.s=f.e;break;case 98:f.s=f.i;break;case 99:f.s=f.h;break;case 100:break;case 101:f.s=f.q;break;case 102:f.j=f.d(T(f)+G(f));f.b++;break;case 103:f.s=f.c;break;case 104:f.q=f.f;break;case 105:f.q=f.e;break;case 106:f.q=f.i;break;case 107:f.q=f.h;break;case 108:f.q=f.s;break;case 109:break;case 110:f.g=f.d(T(f)+G(f));f.b++;break;case 111:f.q=f.c;break;case 112:f.k(T(f)+G(f),f.f);f.b++;break;case 113:f.k(T(f)+G(f),f.e);f.b++;
break;case 114:f.k(T(f)+G(f),f.i);f.b++;break;case 115:f.k(T(f)+G(f),f.h);f.b++;break;case 116:f.k(T(f)+G(f),f.j);f.b++;break;case 117:f.k(T(f)+G(f),f.g);f.b++;break;case 119:f.k(T(f)+G(f),f.c);f.b++;break;case 124:f.c=f.s;break;case 125:f.c=f.q;break;case 126:f.c=f.d(T(f)+G(f));f.b++;break;case 132:H(f,f.s);break;case 133:H(f,f.q);break;case 134:H(f,f.d(T(f)+G(f)));f.b++;break;case 140:J(f,f.s);break;case 141:J(f,f.q);break;case 142:J(f,f.d(T(f)+G(f)));f.b++;break;case 148:K(f,f.s);break;case 149:K(f,
f.q);break;case 150:K(f,f.d(T(f)+G(f)));f.b++;break;case 156:L(f,f.s);break;case 157:L(f,f.q);break;case 158:L(f,f.d(T(f)+G(f)));f.b++;break;case 164:f.a=f.l[f.c&=f.s]|16;break;case 165:f.a=f.l[f.c&=f.q]|16;break;case 166:f.a=f.l[f.c&=f.d(T(f)+G(f))]|16;f.b++;break;case 172:f.a=f.l[f.c^=f.s];break;case 173:f.a=f.l[f.c^=f.q];break;case 174:f.a=f.l[f.c^=f.d(T(f)+G(f))];f.b++;break;case 180:f.a=f.l[f.c|=f.s];break;case 181:f.a=f.l[f.c|=f.q];break;case 182:f.a=f.l[f.c|=f.d(T(f)+G(f))];f.b++;break;case 188:N(f,
f.s);break;case 189:N(f,f.q);break;case 190:N(f,f.d(T(f)+G(f)));f.b++;break;case 203:Sb(f,T(f));break;case 225:Bc(f,f.t(f.m));f.m+=2;break;case 227:wb=T(f);Bc(f,f.t(f.m));f.k(f.m,wb&255);f.k(f.m+1,wb>>8);break;case 229:mb(f,f.s,f.q);break;case 233:f.b=T(f);break;case 249:f.m=T(f);break;default:f.b--}break;case 254:N(a,a.d(a.b++));break;case 255:q(a,a.b),a.b=56}if(this.P){var fc=g;0==fc&&(this.ba=0);for(var gc=this.W[fc],p=this.c,Kc=this.ba,Lc=gc,hc=[],xb=0,A=0;xb<Lc;xb++){for(A=0;3>A;A++)p.i[A]=p.g[A]!=
ka?Cc[p.b[(A<<1)+1]]*p.g[A]>>8:Cc[p.b[(A<<1)+1]]*p.d[A];p.i[3]=Cc[p.b[7]]*(p.f&1)<<1;var Za=p.i[0]+p.i[1]+p.i[2]+p.i[3];127<Za?Za=127:-128>Za&&(Za=-128);hc[Kc+xb]=Za;p.e+=p.j;var Da=p.e>>8,zb=Da<<8;p.e-=zb;p.a[0]-=Da;p.a[1]-=Da;p.a[2]-=Da;p.a[3]=128==p.h?p.a[2]:p.a[3]-Da;for(A=0;3>A;A++){var ic=p.a[A];if(0>=ic){var Ab=p.b[A<<1];6<Ab?(p.g[A]=(zb-p.e+512*ic<<8)*p.d[A]/(zb+p.e),p.d[A]=-p.d[A]):(p.d[A]=1,p.g[A]=ka);p.a[A]+=Ab*(Da/Ab+1)}else p.g[A]=ka}if(0>=p.a[3]&&(p.d[3]=-p.d[3],128!=p.h&&(p.a[3]+=p.h*
(Da/p.h+1)),1==p.d[3])){var jc=0,jc=0!=(p.b[6]&4)?0!=(p.f&9)&&0!=(p.f&9^9)?1:0:p.f&1;p.f=p.f>>1|jc<<15}}this.aa=hc;this.ba+=gc}this.z.l=g;if(0==this.ea&&192>g){var D=this.z,Ea=g,Pa=0,gb=0,hb=0;if(!D.o.I||!(24>Ea||168<=Ea))if(0!=(D.c[1]&64)){if(-1!=D.k){for(var Y=D,Qa=Y.n;Qa<=Y.k;Qa++)if(Y.s[Qa]){Y.s[Qa]=m;for(var Mc=Y.w[Qa],Nc=0,ib=Qa<<5,kc=0;8>kc;kc++)for(var Oc=Y.d[ib++],Pc=Y.d[ib++],Qc=Y.d[ib++],Rc=Y.d[ib++],Fa=128;0!=Fa;Fa>>=1){var la=0;0!=(Oc&Fa)&&(la|=1);0!=(Pc&Fa)&&(la|=2);0!=(Qc&Fa)&&(la|=
4);0!=(Rc&Fa)&&(la|=8);Mc[Nc++]=la}}Y.n=512;Y.k=-1}var z=D,Ra=Ea,va=0,Sa=0,wa=0,xa=0,Bb=z.c[8],lc=z.c[9];16>Ra&&0!=(z.c[0]&64)&&(Bb=0);var Sc=z.c[0]&128,mc=32-(Bb>>3)+z.u,$a=Ra+lc>>3;27<$a&&($a-=28);for(var Cb=(Ra+(lc&7)&7)<<3,nc=Ra<<8,jb=z.u;jb<z.C;jb++){var oc=z.F+((mc&31)<<1)+($a<<6),Ta=z.d[oc+1],pc=(Ta&8)<<1,ya=(jb<<3)+(Bb&7),qc=0==(Ta&4)?Cb:56-Cb,rc=z.w[(z.d[oc]&255)+((Ta&1)<<8)];if(0==(Ta&2))for(va=0;8>va&&256>ya;va++,ya++)Sa=rc[va+qc],wa=4*(ya+nc),xa=3*(Sa+pc),z.p[ya]=0!=(Ta&16)&&0!=Sa,z.b[wa]=
z.a[xa],z.b[wa+1]=z.a[xa+1],z.b[wa+2]=z.a[xa+2];else for(va=7;0<=va&&256>ya;va--,ya++)Sa=rc[va+qc],wa=4*(ya+nc),xa=3*(Sa+pc),z.p[ya]=0!=(Ta&16)&&0!=Sa,z.b[wa]=z.a[xa],z.b[wa+1]=z.a[xa+1],z.b[wa+2]=z.a[xa+2];mc++;0!=Sc&&23==jb&&($a=Ra>>3,Cb=(Ra&7)<<3)}if(D.h){var Z=D;Z.h=m;for(var Db=0;Db<Z.m.length;Db++)Z.m[Db][0]=0;var Eb=0==(Z.c[1]&2)?8:16;1==(Z.c[1]&1)&&(Eb<<=1);for(var kb=0;64>kb;kb++){var za=Z.d[Z.g+kb]&255;if(208==za)break;za++;240<za&&(za-=256);for(var ab=0;192>ab;ab++)if(ab>=za&&ab-za<Eb){var Ua=
Z.m[ab];if(8>Ua[0]){var Fb=3*Ua[0]+1,sc=Z.g+(kb<<1)+128;Ua[Fb++]=Z.d[sc++]&255;Ua[Fb++]=za;Ua[Fb++]=Z.d[sc]&255;Ua[0]++}}}}if(0!=D.m[Ea][0]){for(var x=D,Gb=Ea,Aa=0,U=0,V=0,bb=x.m[Gb],tc=Math.min(8,bb[0]),uc=x.c[1]&1,Hb=Gb<<8,Ib=3*tc,Tc=tc;Tc--;){var Jb=bb[Ib--]|(x.c[6]&4)<<6,Uc=bb[Ib--],M=bb[Ib--]-(x.c[0]&8),vc=Gb-Uc>>uc;0!=(x.c[1]&2)&&(Jb&=-2);var wc=x.w[Jb+((vc&8)>>3)],Va=0;0>M&&(Va=-M,M=0);var xc=Va+((vc&7)<<3);if(0==uc)for(;8>Va&&256>M;Va++,M++)Aa=wc[xc++],0!=Aa&&!x.p[M]&&(U=4*(M+Hb),V=3*(Aa+
16),x.b[U]=x.a[V],x.b[U+1]=x.a[V+1],x.b[U+2]=x.a[V+2]);else for(;8>Va&&256>M;Va++,M+=2)Aa=wc[xc++],0!=Aa&&!x.p[M]&&(U=4*(M+Hb),V=3*(Aa+16),x.b[U]=x.a[V],x.b[U+1]=x.a[V+1],x.b[U+2]=x.a[V+2]),0!=Aa&&!x.p[M+1]&&(U=4*(M+Hb+1),V=3*(Aa+16),x.b[U]=x.a[V],x.b[U+1]=x.a[V+1],x.b[U+2]=x.a[V+2])}8<=bb[0]&&(x.e|=64)}if(D.o.N&&0!=(D.c[0]&32)){var yc=Ea<<8;if(32<16+(D.c[7]&15))debugger;if(49152<yc)debugger;gb=4*yc;hb=3*(16+(D.c[7]&15));for(Pa=0;8>Pa;Pa++)D.b[gb+Pa]=D.a[hb],D.b[gb+Pa+1]=D.a[hb],D.b[gb+Pa+2]=D.a[hb]}}else for(var Ga=
D,zc=Ea<<8,lb=0,Kb=3*(16+(Ga.c[7]&15)),Ac=0;1024>Ac;Ac++)lb=4*zc,Ga.b[lb]=Ga.a[Kb],Ga.b[lb+1]=Ga.a[Kb+1],Ga.b[lb+2]=Ga.a[Kb+2],zc++}var I=this.z,Lb=g;192>=Lb?(192==Lb&&(I.e|=128),0==I.q?(I.q=I.c[10],I.e|=4):I.q--,0!=(I.e&4)&&0!=(I.c[0]&16)&&(I.o.a.H=k)):(I.q=I.c[10],0!=(I.e&128)&&(0!=(I.c[1]&32)&&224>Lb)&&(I.o.a.H=k))}if(this.fa){var aa=this.a;aa.C=aa.F;aa.F=m;aa.S&&(aa.b++,aa.S=m);q(aa,aa.b);aa.b=102;aa.n-=11;this.fa=m}0==this.ea--?(this.ea=this.Aa,c=k):c=m;c&&this.b.Da(this.z.b,[]);this.da++;this.b.requestAnimationFrame(this.wa.bind(this),
this.b.screen)}},sa:function(c,g){0!=g%1024&&(c=c.substr(512),g-=512);var a,h,n=Math.round(g/1024),s=Array(n);for(a=0;a<n;a++)if(s[a]=W(1024),ca)for(h=0;1024>h;h++)s[a].setUint8(h,c.charCodeAt(1024*a+h));else for(h=0;1024>h;h++)s[a][h]=c.charCodeAt(1024*a+h)&255;return s}};
function Dc(c,g,a){var h;h=".gg"==a.substr(-3).toLowerCase()?2:1;var n=g.length;1==h?(c.N=k,c.I=m,c.z.u=0,c.z.C=32):2==h&&(c.I=k,c.N=m,c.z.u=5,c.z.C=27);if(1024>=n)return m;h=c.sa(g,n);if(null==h)return m;ma(c.a,h);c.ta=g;c.ua=a;return k};var W=ca?function(c){c||(c=0);return new DataView(new ArrayBuffer(c))}:Array,Ec=ca?function(c){if(!c)return W();var g,a;g=c.byteLength;for(a=new W(g);g--;)a.setInt8(g,c.getInt8(g));return a}:function(c){if(!c)return W();var g,a;g=c.length;for(a=new W(g);g--;)c[g]!=ba&&(a[g]=c[g]);return a},Fc=ca?function(c,g,a){c.K[g>>10].setInt8(g&1023,a);65532<=g&&c.page(g&3,a)}:function(c,g,a){c.K[g>>10][g&1023]=a;65532<=g&&c.page(g&3,a)},Ic=ca?function(c,g){return c[g>>10].getUint8(g&1023)}:function(c,g){return c[g>>
10][g&1023]&255},Jc=ca?function(c,g){return 1023>(g&1023)?c[g>>10].getUint16(g&1023,k):c[g>>10].getUint8(g&1023)|c[++g>>10].getUint8(g&1023)<<8}:function(c,g){return c[g>>10][g&1023]&255|(c[++g>>10][g&1023]&255)<<8},pa=Date.now||function(){return(new Date).getTime()};function Vc(c,g){var a=m;g==ba&&(g=document);c.some(function(c){return c in g?(a=c,k):m});return a};var qa=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],ob=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Qb=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],Wc=[0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,20,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,
0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0,0,0,0,0,0,0,23,0],Tb=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,
8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];
function ja(c){this.o=c;this.u=c.d;this.T=this.m=this.b=0;this.H=this.S=this.C=this.F=m;this.n=this.na=this.a=this.Z=this.s=this.q=this.r=this.p=this.pa=this.oa=this.g=this.j=this.ma=this.la=this.h=this.i=this.ka=this.ja=this.e=this.f=this.ia=this.c=this.U=0;this.D=[];this.qa=Array(8);this.$=null;this.G=Array(4);this.M=0;this.K=Array(65);this.B=Array(65);this.xa=Array(2048);this.ha=Array(256);this.l=Array(256);this.R=Array(256);this.Q=Array(256);this.w=Array(131072);this.v=Array(131072);this.Y=Array(256);
var g,a,h,n,s,l;for(c=0;256>c;c++)g=0!=(c&128)?128:0,a=0==c?64:0,h=c&32,n=c&8,s=Xc(c)?4:0,this.ha[c]=g|a|h|n,this.l[c]=g|a|h|n|s,this.R[c]=g|a|h|n,this.R[c]|=128==c?4:0,this.R[c]|=0==(c&15)?16:0,this.Q[c]=g|a|h|n|2,this.Q[c]|=127==c?4:0,this.Q[c]|=15==(c&15)?16:0,this.Y[c]=0!=c?c&128:68,this.Y[c]|=h|n|16;c=0;g=65536;a=0;h=65536;for(s=0;256>s;s++)for(l=0;256>l;l++)n=l-s,this.w[c]=0!=l?0!=(l&128)?128:0:64,this.w[c]|=l&40,(l&15)<(s&15)&&(this.w[c]|=16),l<s&&(this.w[c]|=1),0!=((n^s^128)&(n^l)&128)&&(this.w[c]|=
4),c++,n=l-s-1,this.w[g]=0!=l?0!=(l&128)?128:0:64,this.w[g]|=l&40,(l&15)<=(s&15)&&(this.w[g]|=16),l<=s&&(this.w[g]|=1),0!=((n^s^128)&(n^l)&128)&&(this.w[g]|=4),g++,n=s-l,this.v[a]=0!=l?0!=(l&128)?130:2:66,this.v[a]|=l&40,(l&15)>(s&15)&&(this.v[a]|=16),l>s&&(this.v[a]|=1),0!=((n^s)&(s^l)&128)&&(this.v[a]|=4),a++,n=s-l-1,this.v[h]=0!=l?0!=(l&128)?130:2:66,this.v[h]|=l&40,(l&15)>=(s&15)&&(this.v[h]|=16),l>=s&&(this.v[h]|=1),0!=((n^s)&(s^l)&128)&&(this.v[h]|=4),h++;for(c=256;c--;)for(g=0;1>=g;g++)for(a=
0;1>=a;a++)for(h=0;1>=h;h++){n=this.xa;s=g<<8|h<<9|a<<10|c;l=g|h<<1|a<<4;this.c=c;this.a=l;var B=this.c,F=0,na=l&1,R=na;if(0!=(l&16)||9<(B&15))F|=6;if(1==na||159<B||143<B&&9<(B&15))F|=96,R=1;153<B&&(R=1);0!=(l&2)?K(this,F):H(this,F);l=this.a&254|R;l=Xc(this.c)?l&251|4:l&251;n[s]=this.c|l<<8}for(c=this.c=this.a=0;65>c;c++)this.B[c]=W(1024),this.K[c]=W(1024);for(c=0;8>c;c++)this.qa[c]=W(1024);null==this.$&&(this.$=W(32));this.B[64]=W(1024);this.K[64]=W(1024);this.M=2;this.k=Fc.bind(this,this);this.d=
Ic.bind(this,this.B);this.t=Jc.bind(this,this.B)}
ja.prototype={reset:function(){this.b=this.na=this.a=this.Z=this.q=this.s=this.p=this.r=this.j=this.g=this.oa=this.pa=this.i=this.h=this.la=this.ma=this.f=this.e=this.ja=this.ka=this.c=this.ia=0;this.m=57328;this.T=this.n=0;this.C=this.F=m;this.U=0;this.S=m},call:function(c){c?(q(this,this.b+2),this.b=this.t(this.b),this.n-=7):this.b+=2},page:function(c,g){var a,h;this.G[c]=g;switch(c){case 0:if(0!=(g&8)){a=(g&4)<<2;for(h=32;48>h;h++)this.B[h]=Ec(this.$[a]),this.K[h]=Ec(this.$[a]),a++}else{a=this.G[3]%
this.M<<4;for(h=32;48>h;h++)this.B[h]=Ec(this.D[a++]),this.K[h]=W(1024)}break;case 1:a=(g%this.M<<4)+1;for(h=1;16>h;h++)this.B[h]=Ec(this.D[a++]);break;case 2:a=g%this.M<<4;for(h=16;32>h;h++)this.B[h]=Ec(this.D[a++]);break;case 3:if(0==(this.G[0]&8)){a=g%this.M<<4;for(h=32;48>h;h++)this.B[h]=Ec(this.D[a++])}}}};function G(c){return c.d(c.b)}
function ma(c,g){g&&(c.D=g);c.G[0]=0;c.G[1]=0;c.G[2]=1;c.G[3]=0;if(c.D.length){c.M=c.D.length/16;for(var a=0;48>a;a++)c.B[a]=Ec(c.D[a&31]),c.K[a]=W(1024);for(a=48;64>a;a++)c.B[a]=c.qa[a&7],c.K[a]=c.qa[a&7]}else c.M=0}function Xc(c){var g=k,a;for(a=0;8>a;a++)0!=(c&1<<a)&&(g=!g);return g}function bc(c,g){var a=c.j<<8|c.g,h=a-g-(c.a&1);c.a=(a^h^g)>>8&16|2|h>>16&1|h>>8&128|(0!=(h&65535)?0:64)|((g^a)&(a^h)&32768)>>13;c.j=h>>8&255;c.g=h&255}
function cc(c,g){var a=c.j<<8|c.g,h=a+g+(c.a&1);c.a=(a^h^g)>>8&16|h>>16&1|h>>8&128|(0!=(h&65535)?0:64)|((g^a^32768)&(g^h)&32768)>>13;c.j=h>>8&255;c.g=h&255}function w(c,g,a){var h=g+a;c.a=c.a&196|(g^h^a)>>8&16|h>>16&1;return h&65535}function v(c,g){g=g-1&255;c.a=c.a&1|c.Q[g];return g}function u(c,g){g=g+1&255;c.a=c.a&1|c.R[g];return g}function Wa(c){c.g=c.g-1&255;255==c.g&&(c.j=c.j-1&255)}function Ia(c){c.h=c.h-1&255;255==c.h&&(c.i=c.i-1&255)}
function Ba(c){c.e=c.e-1&255;255==c.e&&(c.f=c.f-1&255)}function La(c){c.g=c.g+1&255;0==c.g&&(c.j=c.j+1&255)}function Ha(c){c.h=c.h+1&255;0==c.h&&(c.i=c.i+1&255)}function Bc(c,g){c.s=g>>8;c.q=g&255}function Rb(c,g){c.r=g>>8;c.p=g&255}function ra(c,g){c.j=g>>8;c.g=g&255}function T(c){return c.s<<8|c.q}function S(c){return c.r<<8|c.p}function C(c){return c.j<<8|c.g}function E(c){return c.i<<8|c.h}function t(c){return c.f<<8|c.e}function N(c,g){c.a=c.v[c.c<<8|c.c-g&255]}
function L(c,g){var a=c.a&1,h=c.c-g-a&255;c.a=c.v[a<<16|c.c<<8|h];c.c=h}function K(c,g){var a=c.c-g&255;c.a=c.v[c.c<<8|a];c.c=a}function J(c,g){var a=c.a&1,h=c.c+g+a&255;c.a=c.w[a<<16|c.c<<8|h];c.c=h}function H(c,g){var a=c.c+g&255;c.a=c.w[c.c<<8|a];c.c=a}
function Sb(c,g){var a=g+G(c)&65535,h=c.d(++c.b);c.n-=Wc[h];switch(h){case 6:c.k(a,pb(c,c.d(a)));break;case 14:c.k(a,qb(c,c.d(a)));break;case 22:c.k(a,rb(c,c.d(a)));break;case 30:c.k(a,yb(c,c.d(a)));break;case 38:c.k(a,Mb(c,c.d(a)));break;case 46:c.k(a,Nb(c,c.d(a)));break;case 54:c.k(a,Ob(c,c.d(a)));break;case 62:c.k(a,Pb(c,c.d(a)));break;case 70:O(c,c.d(a)&1);break;case 78:O(c,c.d(a)&2);break;case 86:O(c,c.d(a)&4);break;case 94:O(c,c.d(a)&8);break;case 102:O(c,c.d(a)&16);break;case 110:O(c,c.d(a)&
32);break;case 118:O(c,c.d(a)&64);break;case 126:O(c,c.d(a)&128);break;case 134:c.k(a,c.d(a)&-2);break;case 142:c.k(a,c.d(a)&-3);break;case 150:c.k(a,c.d(a)&-5);break;case 158:c.k(a,c.d(a)&-9);break;case 166:c.k(a,c.d(a)&-17);break;case 174:c.k(a,c.d(a)&-33);break;case 182:c.k(a,c.d(a)&-65);break;case 190:c.k(a,c.d(a)&-129);break;case 198:c.k(a,c.d(a)|1);break;case 206:c.k(a,c.d(a)|2);break;case 214:c.k(a,c.d(a)|4);break;case 222:c.k(a,c.d(a)|8);break;case 230:c.k(a,c.d(a)|16);break;case 238:c.k(a,
c.d(a)|32);break;case 246:c.k(a,c.d(a)|64);break;case 254:c.k(a,c.d(a)|128)}c.b++}function O(c,g){c.a=c.a&1|c.Y[g]}function Pb(c,g){var a=g&1;g=g>>1&255;c.a=a|c.l[g];return g}function Nb(c,g){var a=g&1;g=g>>1|g&128;c.a=a|c.l[g];return g}function Ob(c,g){var a=(g&128)>>7;g=(g<<1|1)&255;c.a=a|c.l[g];return g}function Mb(c,g){var a=(g&128)>>7;g=g<<1&255;c.a=a|c.l[g];return g}function yb(c,g){var a=g&1;g=(g>>1|c.a<<7)&255;c.a=a|c.l[g];return g}
function rb(c,g){var a=(g&128)>>7;g=(g<<1|c.a&1)&255;c.a=a|c.l[g];return g}function qb(c,g){var a=g&1;g=(g>>1|g<<7)&255;c.a=a|c.l[g];return g}function pb(c,g){var a=(g&128)>>7;g=(g<<1|g>>7)&255;c.a=a|c.l[g];return g}function cb(c,g){c.k(g,v(c,c.d(g)))}function Ya(c,g){c.k(g,u(c,c.d(g)))}function mb(c,g,a){c.k(--c.m,g);c.k(--c.m,a)}function q(c,g){c.k(--c.m,g>>8);c.k(--c.m,g&255)}function eb(c,g){g&&(c.b=c.t(c.m),c.m+=2,c.n-=6)}
function Ca(c,g){if(g){var a=G(c)+1;128<=a&&(a-=256);c.b+=a;c.n-=5}else c.b++}function fb(c,g){c.b=g?c.t(c.b):c.b+2};function fa(c){this.o=c;this.c=this.a=this.b=0}
fa.prototype={reset:function(){this.c=this.a=this.b=255;this.fa=m},keydown:function(c){switch(c.keyCode){case 38:this.b&=-2;break;case 40:this.b&=-3;break;case 37:this.b&=-5;break;case 39:this.b&=-9;break;case 88:this.b&=-17;break;case 90:this.b&=-33;break;case 13:this.o.N?this.o.fa=k:this.c&=-129;break;case 104:this.a&=-2;break;case 98:this.a&=-3;break;case 100:this.a&=-5;break;case 102:this.a&=-9;break;case 103:this.a&=-17;break;case 105:this.a&=-33;break;case 97:this.a&=-65;break;default:return}c.preventDefault()},
keyup:function(c){switch(c.keyCode){case 38:this.b|=1;break;case 40:this.b|=2;break;case 37:this.b|=4;break;case 39:this.b|=8;break;case 88:this.b|=16;break;case 90:this.b|=32;break;case 13:this.o.N||(this.c|=128);break;case 104:this.a|=1;break;case 98:this.a|=2;break;case 100:this.a|=4;break;case 102:this.a|=8;break;case 103:this.a|=16;break;case 105:this.a|=32;break;case 97:this.a|=64;break;default:return}c.preventDefault()}};var ka=Number.MIN_VALUE,Cc=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function ha(c){this.o=c;this.e=this.j=0;this.b=Array(8);this.c=0;this.a=Array(4);this.d=Array(4);this.g=Array(3);this.h=16;this.f=32768;this.i=Array(4)}ha.prototype={};function ga(c){this.o=c;var g;this.G=0;this.d=Array(16384);this.a=Array(96);for(g=0;96>g;g++)this.a[g]=255;this.c=Array(16);this.e=0;this.j=m;this.q=this.l=this.D=this.t=this.f=this.i=0;this.p=Array(256);this.F=0;this.b=c.b.ya.data;this.v=Array(64);this.B=Array(256);this.H=Array(16);this.r=m;this.g=this.C=this.u=0;this.h=m;this.m=Array(192);for(g=0;192>g;g++)this.m[g]=Array(25);this.w=Array(512);this.s=Array(512);for(c=this.k=this.n=0;512>c;c++)this.w[c]=Array(64)}
ga.prototype={reset:function(){var c;this.r=m;var g,a,h;if(this.o.N&&!this.r)for(c=0;64>c;c++)g=c&3,a=c>>2&3,h=c>>4&3,this.v[c]=85*g|85*a<<8|85*h<<16,this.r=k;else if(this.o.I&&!this.r){for(c=0;256>c;c++)a=c&15,h=c>>4&15,this.B[c]=h<<12|h<<8|a<<4|a;for(c=0;16>c;c++)this.H[c]=c<<20;this.r=k}this.j=k;for(c=this.t=this.e=this.q=this.f=0;16>c;c++)this.c[c]=0;this.c[2]=14;this.c[5]=126;this.o.a.H=m;this.h=k;this.n=512;this.k=-1;for(c=0;16384>c;c++)this.d[c]=0;for(c=0;196608>c;c+=4)this.b[c]=0,this.b[c+
1]=0,this.b[c+2]=0,this.b[c+3]=255}};function Yc(c){c.F=(c.c[2]&14)<<10;c.n=0;c.k=511;for(var g=0,a=c.s.length;g<a;g++)c.s[g]=k;c.g=(c.c[5]&-130)<<7;c.h=k};function ea(c){this.o=c;this.enable=function(){};this.updateStatus=function(){};this.Da=function(){}}
"undefined"!=typeof $&&($.fn.Ea=function(c){function g(g){this.o=g;if("[object OperaMini]"==Object.prototype.toString.call(window.operamini))$(a).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser can\'t run this emulator. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>');else{var n=this;g=$("<div></div>");var s=$('<div class="controls"></div>'),l=Vc(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]),B=Vc(["requestAnimationFrame",
"msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","oRequestAnimationFrame"],window),F;if(B)this.requestAnimationFrame=window[B].bind(window);else{var na=0;this.requestAnimationFrame=function(a){var c=pa(),g=Math.max(0,16-(c-na));window.setTimeout(function(){a(c+g)},g);na=c+g}}this.Ba=Vc(["hidden","mozHidden","webkitHidden","msHidden"]);this.screen=$('<canvas width=256 height=192 class="screen"></canvas>');this.ra=this.screen[0].getContext("2d");if(this.ra.getImageData){this.ya=
this.ra.getImageData(0,0,256,192);this.Ca=$("<div></div>");this.O=$("<select></select>");this.O.change(function(){n.sa()});this.A=Object.create(null);this.A.start=$('<input type="button" value="Start" class="btn btn-primary" disabled="disabled">').click(function(){n.o.V?(n.o.stop(),n.updateStatus("Paused"),n.A.start.attr("value","Start")):(n.o.start(),n.A.start.attr("value","Pause"))});this.A.reset=$('<input type="button" value="Reset" class="btn" disabled="disabled">').click(function(){""!=n.o.ta&&
""!=n.o.ua&&Dc(n.o,n.o.ta,n.o.ua)?(n.o.reset(),Yc(n.o.z),n.o.start()):$(this).attr("disabled","disabled")});this.o.P&&(this.A.X=$('<input type="button" value="Enable sound" class="btn" disabled="disabled">').click(function(){n.o.P?(n.o.P=m,n.A.X.attr("value","Enable sound")):(n.o.P=k,n.A.X.attr("value","Disable sound"))}));l?this.A.Ga=$('<input type="button" value="Go fullscreen" class="btn">').click(function(){var a=n.screen[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():
a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}):(this.va=m,this.A.zoom=$('<input type="button" value="Zoom in" class="btn hidden-phone">').click(function(){n.va?(n.screen.animate({width:"256px",height:"192px"},function(){$(this).removeAttr("style")}),n.A.zoom.attr("value","Zoom in")):(n.screen.animate({width:"512px",height:"384px"}),n.A.zoom.attr("value","Zoom out"));n.va=!n.va}));for(F in this.A)this.A[F].appendTo(s);this.log=$('<div id="status"></div>');this.screen.appendTo(g);this.Ca.appendTo(g);
s.appendTo(g);this.log.appendTo(g);g.appendTo($(a));c!=ba&&this.Fa(c);$(document).bind("keydown",function(a){n.o.J.keydown(a)}).bind("keyup",function(a){n.o.J.keyup(a)})}else $(a).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>')}}var a=this;g.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;
this.log.empty()},Fa:function(a){var c,g,l,B,F=0;this.O.children().remove();$("<option>Select a ROM...</option>").appendTo(this.O);for(c in a){if(a.hasOwnProperty(c)){g=$("<optgroup></optgroup>").attr("label",c);l=a[c].length;for(B=0;B<l;B++)$("<option>"+a[c][B][0]+"</option>").attr("value",a[c][B][1]).appendTo(g);g.appendTo(this.O)}F++}F&&this.O.appendTo(this.Ca)},sa:function(){var a=this;this.updateStatus("Downloading...");$.ajax({url:escape(this.O.val()),xhr:function(){var c=$.ajaxSettings.xhr();
c.overrideMimeType!=ba&&c.overrideMimeType("text/plain; charset=x-user-defined");return a.xhr=c},complete:function(c,g){var l;"error"==g?a.updateStatus("The selected rom could not be loaded."):(l=c.responseText,a.o.reset(),Dc(a.o,l,a.O.val()),Yc(a.o.z),a.enable(),a.A.start.removeAttr("disabled"))}})},enable:function(){this.A.reset.removeAttr("disabled");this.A.X?this.A.X.attr("value","Disable sound"):this.A.X.attr("value","Enable sound")},updateStatus:function(a){this.log.text(a)},Da:function(){(!this.Ba||
!document[this.Ba])&&this.ra.putImageData(this.ya,0,0)}};return g});function ia(c){this.o=c;this.z=c.z;this.b=c.c;this.J=c.J;this.a=[]}ia.prototype={reset:function(){this.a=Array(2)}};
function Q(c,g){if(c.o.I&&7>g)switch(g){case 0:return c.J.c&191|64;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(g&193){case 64:var a;a:{a=c.z;if(0==a.G){if(218<a.l){a=a.l-6;break a}}else if(242<a.l){a=a.l-57;break a}a=a.l}return a;case 65:return 0;case 128:a=c.z;a.j=k;var h=a.D;a.D=a.d[a.f++&16383]&255;return h;case 129:return a=c.z,a.j=k,h=a.e,a.e=0,a.o.a.H=m,h;case 192:return c.J.b;case 193:return c.J.a&63|c.a[0]|c.a[1]}return 255}
function P(c,g,a){if(!(c.o.I&&7>g))switch(g&193){case 1:c.a[0]=(a&32)<<1;c.a[1]=a&128;break;case 128:c=c.z;g=0;c.j=k;switch(c.t){case 0:case 1:case 2:g=c.f&16383;if(a!=(c.d[g]&255)){if(g>=c.g&&g<c.g+64)c.h=k;else if(g>=c.g+128&&g<c.g+256)c.h=k;else{var h=g>>5;c.s[h]=k;h<c.n&&(c.n=h);h>c.k&&(c.k=h)}c.d[g]=a}break;case 3:c.o.N?(g=3*(c.f&31),c.a[g]=c.v[a&63]&255,c.a[g+1]=c.v[a&63]>>8&255,c.a[g+2]=c.v[a&63]>>16&255):c.o.I&&(g=3*((c.f&63)>>1),0==(c.f&1)?(c.a[g]=c.B[a]&255,c.a[g+1]=c.B[a]>>8&255):c.a[g+
2]=c.H[a&15]>>16&255)}c.f++;break;case 129:c=c.z;if(c.j)c.j=m,c.i=a,c.f=c.f&16128|a;else if(c.j=k,c.t=a>>6&3,c.f=c.i|a<<8,0==c.t)c.D=c.d[c.f++&16383]&255;else if(2==c.t){a&=15;switch(a){case 1:0!=(c.e&128)&&0!=(c.i&32)&&(c.o.a.H=k);(c.i&3)!=(c.c[a]&3)&&(c.h=k);break;case 2:c.F=(c.i&14)<<10;break;case 5:g=c.g,c.g=(c.i&-130)<<7,g!=c.g&&(c.h=k)}c.c[a]=c.i}break;case 64:case 65:if(c.o.P)switch(c=c.b,0!=(a&128)?(c.c=a>>4&7,c.b[c.c]=c.b[c.c]&1008|a&15):c.b[c.c]=0==c.c||2==c.c||4==c.c?c.b[c.c]&15|(a&63)<<
4:a&15,c.c){case 0:case 2:case 4:0==c.b[c.c]&&(c.b[c.c]=1);break;case 6:c.h=16<<(c.b[6]&3),c.f=32768}}};window.JSSMS=da;jQuery.fn.JSSMSUI=jQuery.fn.Ea;})();
