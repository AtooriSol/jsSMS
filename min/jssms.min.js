/*
jsSMS - A Sega Master System/GameGear emulator in JavaScript
Copyright (C) 2012-2013 Guillaume Marty (https://github.com/gmarty)
Based on JavaGear Copyright (c) 2002-2008 Chris White

This program is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program.  If not, see <http://www.gnu.org/licenses/>.
*/
(function(window){'use strict';var aa=void 0,h=!0,m=!1,ea=!(!window.DataView||!window.ArrayBuffer);function ja(b){this.g={ui:ka,swfPath:"lib/"};if(b!=aa)for(var g in this.g)b[g]!=aa&&(this.g[g]=b[g]);this.P=new la(this);this.a=new b.ui(this);this.C=new pa(this);this.c=new ra(this);this.d=new sa(this);this.b=new Ca(this);this.a.updateStatus("Ready to load a ROM.");this.ui=this.a}
ja.prototype={W:m,za:0,Q:0,Aa:0,ea:0,ga:0,ha:m,U:h,T:m,R:m,ba:[],ca:0,ia:0,X:[],fa:0,ua:"",va:"",reset:function(){var b=this.C.I,g=0;0==b||this.T?(this.ea=60,this.Q=262,g=3579545):1==b&&(this.ea=50,this.Q=313,g=3546893);this.za=Math.round(g/this.ea/this.Q+1);this.C.I=b;if(this.R){b=this.c;b.j=(g<<8)/16/44100;b.e=0;b.c=0;b.h=16;b.f=32768;for(g=0;4>g;g++)b.b[g<<1]=1,b.b[(g<<1)+1]=15,b.a[g]=0,b.d[g]=1,3!=g&&(b.g[g]=Da);this.ia=Math.round(44100/this.ea);if(0==this.ba.length||this.ba.length!=this.ia)this.ba=
Array(this.ia);if(0==this.X.length||this.X.length!=this.Q){this.X=Array(this.Q);for(var a=0,g=0;g<this.Q;g++)b=(this.ia<<16)/this.Q+a,a=b-(b>>16<<16),this.X[g]=b>>16}}this.ga=this.Aa;this.P.reset();this.a.reset();this.C.reset();this.d.reset();this.b.reset();clearInterval(this.e)},start:function(){var b=this;this.W||(this.W=h);this.a.requestAnimationFrame(this.xa.bind(this),this.a.screen);this.f=Ea();this.fa=0;this.e=setInterval(function(){var g=Ea();b.a.updateStatus("Running: "+(b.fa/((g-b.f)/1E3)).toFixed(2)+
" FPS");b.fa=0;b.f=g},500);this.a.updateStatus("Running")},stop:function(){clearInterval(this.e);this.W=m},xa:function(){if(this.W){var b;for(var g=0;g<this.Q;g++){var a=this.b,k=0,n=0,s=0;a.n+=this.za;if(a.J){var l=a;l.H&&(l.M&&(l.c++,l.M=m),l.H=l.I=m,l.J=m,q(l,l.c),0==l.N?(l.c=0==l.O||255==l.O?56:l.O,l.n-=13):1==l.N?(l.c=56,l.n-=13):(l.c=l.p((l.aa<<8)+l.O),l.n-=19))}for(;0<a.n;)switch(n=a.d(a.c++),a.n-=Fa[n],n){case 1:var G=a,P=a.p(a.c++);G.g=P>>8;G.f=P&255;a.c++;break;case 2:a.e(t(a),a.a);break;
case 3:var da=a;da.f=da.f+1&255;0==da.f&&(da.g=da.g+1&255);break;case 4:a.g=u(a,a.g);break;case 5:a.g=v(a,a.g);break;case 6:a.g=a.d(a.c++);break;case 7:var Y=a,Tb=Y.a>>7;Y.a=Y.a<<1&255|Tb;Y.b=Y.b&236|Tb;break;case 8:var oa=a,mb=oa.a;oa.a=oa.ka;oa.ka=mb;mb=oa.b;oa.b=oa.pa;oa.pa=mb;break;case 9:Ma(a,w(a,A(a),t(a)));break;case 10:a.a=a.d(t(a));break;case 11:Ya(a);break;case 12:a.f=u(a,a.f);break;case 13:a.f=v(a,a.f);break;case 14:a.f=a.d(a.c++);break;case 15:var Xa=a,Ub=Xa.a&1;Xa.a=Xa.a>>1|Ub<<7;Xa.b=
Xa.b&236|Ub;break;case 16:a.g=a.g-1&255;bb(a,0!=a.g);break;case 17:var Vb=a,Wb=a.p(a.c++);Vb.j=Wb>>8;Vb.h=Wb&255;a.c++;break;case 18:a.e(db(a),a.a);break;case 19:eb(a);break;case 20:a.j=u(a,a.j);break;case 21:a.j=v(a,a.j);break;case 22:a.j=a.d(a.c++);break;case 23:var Ka=a,Lc=Ka.a>>7;Ka.a=(Ka.a<<1|Ka.b&1)&255;Ka.b=Ka.b&236|Lc;break;case 24:a.c+=lb(B(a)+1);break;case 25:Ma(a,w(a,A(a),db(a)));break;case 26:a.a=a.d(db(a));break;case 27:nb(a);break;case 28:a.h=u(a,a.h);break;case 29:a.h=v(a,a.h);break;
case 30:a.h=a.d(a.c++);break;case 31:var La=a,Mc=La.a&1;La.a=(La.a>>1|(La.b&1)<<7)&255;La.b=La.b&236|Mc;break;case 32:bb(a,0==(a.b&64));break;case 33:Ma(a,a.p(a.c++));a.c++;break;case 34:k=a.p(a.c);a.e(k,a.i);a.e(++k,a.k);a.c+=2;break;case 35:ob(a);break;case 36:a.k=u(a,a.k);break;case 37:a.k=v(a,a.k);break;case 38:a.k=a.d(a.c++);break;case 39:var qa=a,Yb=qa.ya[qa.a|(qa.b&1)<<8|(qa.b&2)<<8|(qa.b&16)<<6];qa.a=Yb&255;qa.b=qa.b&2|Yb>>8;break;case 40:bb(a,0!=(a.b&64));break;case 41:Ma(a,w(a,A(a),A(a)));
break;case 42:Ma(a,a.p(a.p(a.c)));a.c+=2;break;case 43:pb(a);break;case 44:a.i=u(a,a.i);break;case 45:a.i=v(a,a.i);break;case 46:a.i=a.d(a.c++);break;case 47:var cb=a;cb.a^=255;cb.b|=18;break;case 48:bb(a,0==(a.b&1));break;case 49:a.m=a.p(a.c);a.c+=2;break;case 50:a.e(a.p(a.c),a.a);a.c+=2;break;case 51:a.m++;break;case 52:qb(a,A(a));break;case 53:xb(a,A(a));break;case 54:a.e(A(a),a.d(a.c++));break;case 55:a.b|=1;a.b&=-3;a.b&=-17;break;case 56:bb(a,0!=(a.b&1));break;case 57:Ma(a,w(a,A(a),a.m));break;
case 58:a.a=a.d(a.p(a.c));a.c+=2;break;case 59:a.m--;break;case 60:a.a=u(a,a.a);break;case 61:a.a=v(a,a.a);break;case 62:a.a=a.d(a.c++);break;case 63:var fa=a;0!=(fa.b&1)?(fa.b&=-2,fa.b|=16):(fa.b|=1,fa.b&=-17);fa.b&=-3;break;case 65:a.g=a.f;break;case 66:a.g=a.j;break;case 67:a.g=a.h;break;case 68:a.g=a.k;break;case 69:a.g=a.i;break;case 70:a.g=a.d(A(a));break;case 71:a.g=a.a;break;case 72:a.f=a.g;break;case 74:a.f=a.j;break;case 75:a.f=a.h;break;case 76:a.f=a.k;break;case 77:a.f=a.i;break;case 78:a.f=
a.d(A(a));break;case 79:a.f=a.a;break;case 80:a.j=a.g;break;case 81:a.j=a.f;break;case 83:a.j=a.h;break;case 84:a.j=a.k;break;case 85:a.j=a.i;break;case 86:a.j=a.d(A(a));break;case 87:a.j=a.a;break;case 88:a.h=a.g;break;case 89:a.h=a.f;break;case 90:a.h=a.j;break;case 92:a.h=a.k;break;case 93:a.h=a.i;break;case 94:a.h=a.d(A(a));break;case 95:a.h=a.a;break;case 96:a.k=a.g;break;case 97:a.k=a.f;break;case 98:a.k=a.j;break;case 99:a.k=a.h;break;case 101:a.k=a.i;break;case 102:a.k=a.d(A(a));break;case 103:a.k=
a.a;break;case 104:a.i=a.g;break;case 105:a.i=a.f;break;case 106:a.i=a.j;break;case 107:a.i=a.h;break;case 108:a.i=a.k;break;case 110:a.i=a.d(A(a));break;case 111:a.i=a.a;break;case 112:a.e(A(a),a.g);break;case 113:a.e(A(a),a.f);break;case 114:a.e(A(a),a.j);break;case 115:a.e(A(a),a.h);break;case 116:a.e(A(a),a.k);break;case 117:a.e(A(a),a.i);break;case 118:a.n=0;a.M=h;a.c--;break;case 119:a.e(A(a),a.a);break;case 120:a.a=a.g;break;case 121:a.a=a.f;break;case 122:a.a=a.j;break;case 123:a.a=a.h;break;
case 124:a.a=a.k;break;case 125:a.a=a.i;break;case 126:a.a=a.d(A(a));break;case 128:E(a,a.g);break;case 129:E(a,a.f);break;case 130:E(a,a.j);break;case 131:E(a,a.h);break;case 132:E(a,a.k);break;case 133:E(a,a.i);break;case 134:E(a,a.d(A(a)));break;case 135:E(a,a.a);break;case 136:F(a,a.g);break;case 137:F(a,a.f);break;case 138:F(a,a.j);break;case 139:F(a,a.h);break;case 140:F(a,a.k);break;case 141:F(a,a.i);break;case 142:F(a,a.d(A(a)));break;case 143:F(a,a.a);break;case 144:H(a,a.g);break;case 145:H(a,
a.f);break;case 146:H(a,a.j);break;case 147:H(a,a.h);break;case 148:H(a,a.k);break;case 149:H(a,a.i);break;case 150:H(a,a.d(A(a)));break;case 151:H(a,a.a);break;case 152:I(a,a.g);break;case 153:I(a,a.f);break;case 154:I(a,a.j);break;case 155:I(a,a.h);break;case 156:I(a,a.k);break;case 157:I(a,a.i);break;case 158:I(a,a.d(A(a)));break;case 159:I(a,a.a);break;case 160:a.b=a.l[a.a&=a.g]|16;break;case 161:a.b=a.l[a.a&=a.f]|16;break;case 162:a.b=a.l[a.a&=a.j]|16;break;case 163:a.b=a.l[a.a&=a.h]|16;break;
case 164:a.b=a.l[a.a&=a.k]|16;break;case 165:a.b=a.l[a.a&=a.i]|16;break;case 166:a.b=a.l[a.a&=a.d(A(a))]|16;break;case 167:a.b=a.l[a.a]|16;break;case 168:a.b=a.l[a.a^=a.g];break;case 169:a.b=a.l[a.a^=a.f];break;case 170:a.b=a.l[a.a^=a.j];break;case 171:a.b=a.l[a.a^=a.h];break;case 172:a.b=a.l[a.a^=a.k];break;case 173:a.b=a.l[a.a^=a.i];break;case 174:a.b=a.l[a.a^=a.d(A(a))];break;case 175:a.b=a.l[a.a=0];break;case 176:a.b=a.l[a.a|=a.g];break;case 177:a.b=a.l[a.a|=a.f];break;case 178:a.b=a.l[a.a|=a.j];
break;case 179:a.b=a.l[a.a|=a.h];break;case 180:a.b=a.l[a.a|=a.k];break;case 181:a.b=a.l[a.a|=a.i];break;case 182:a.b=a.l[a.a|=a.d(A(a))];break;case 183:a.b=a.l[a.a];break;case 184:J(a,a.g);break;case 185:J(a,a.f);break;case 186:J(a,a.j);break;case 187:J(a,a.h);break;case 188:J(a,a.k);break;case 189:J(a,a.i);break;case 190:J(a,a.d(A(a)));break;case 191:J(a,a.a);break;case 192:Lb(a,0==(a.b&64));break;case 193:var Zb=a,$b=a.p(a.m);Zb.g=$b>>8;Zb.f=$b&255;a.m+=2;break;case 194:Mb(a,0==(a.b&64));break;
case 195:a.c=a.p(a.c);break;case 196:a.call(0==(a.b&64));break;case 197:Nb(a,a.g,a.f);break;case 198:E(a,a.d(a.c++));break;case 199:q(a,a.c);a.c=0;break;case 200:Lb(a,0!=(a.b&64));break;case 201:a.c=a.p(a.m);a.m+=2;break;case 202:Mb(a,0!=(a.b&64));break;case 203:var c=a,ac=a.d(a.c++);c.n-=Ob[ac];switch(ac){case 0:c.g=K(c,c.g);break;case 1:c.f=K(c,c.f);break;case 2:c.j=K(c,c.j);break;case 3:c.h=K(c,c.h);break;case 4:c.k=K(c,c.k);break;case 5:c.i=K(c,c.i);break;case 6:c.e(A(c),K(c,c.d(A(c))));break;
case 7:c.a=K(c,c.a);break;case 8:c.g=L(c,c.g);break;case 9:c.f=L(c,c.f);break;case 10:c.j=L(c,c.j);break;case 11:c.h=L(c,c.h);break;case 12:c.k=L(c,c.k);break;case 13:c.i=L(c,c.i);break;case 14:c.e(A(c),L(c,c.d(A(c))));break;case 15:c.a=L(c,c.a);break;case 16:c.g=M(c,c.g);break;case 17:c.f=M(c,c.f);break;case 18:c.j=M(c,c.j);break;case 19:c.h=M(c,c.h);break;case 20:c.k=M(c,c.k);break;case 21:c.i=M(c,c.i);break;case 22:c.e(A(c),M(c,c.d(A(c))));break;case 23:c.a=M(c,c.a);break;case 24:c.g=N(c,c.g);
break;case 25:c.f=N(c,c.f);break;case 26:c.j=N(c,c.j);break;case 27:c.h=N(c,c.h);break;case 28:c.k=N(c,c.k);break;case 29:c.i=N(c,c.i);break;case 30:c.e(A(c),N(c,c.d(A(c))));break;case 31:c.a=N(c,c.a);break;case 32:c.g=Q(c,c.g);break;case 33:c.f=Q(c,c.f);break;case 34:c.j=Q(c,c.j);break;case 35:c.h=Q(c,c.h);break;case 36:c.k=Q(c,c.k);break;case 37:c.i=Q(c,c.i);break;case 38:c.e(A(c),Q(c,c.d(A(c))));break;case 39:c.a=Q(c,c.a);break;case 40:c.g=R(c,c.g);break;case 41:c.f=R(c,c.f);break;case 42:c.j=
R(c,c.j);break;case 43:c.h=R(c,c.h);break;case 44:c.k=R(c,c.k);break;case 45:c.i=R(c,c.i);break;case 46:c.e(A(c),R(c,c.d(A(c))));break;case 47:c.a=R(c,c.a);break;case 48:c.g=S(c,c.g);break;case 49:c.f=S(c,c.f);break;case 50:c.j=S(c,c.j);break;case 51:c.h=S(c,c.h);break;case 52:c.k=S(c,c.k);break;case 53:c.i=S(c,c.i);break;case 54:c.e(A(c),S(c,c.d(A(c))));break;case 55:c.a=S(c,c.a);break;case 56:c.g=T(c,c.g);break;case 57:c.f=T(c,c.f);break;case 58:c.j=T(c,c.j);break;case 59:c.h=T(c,c.h);break;case 60:c.k=
T(c,c.k);break;case 61:c.i=M(c,c.i);break;case 62:c.e(A(c),T(c,c.d(A(c))));break;case 63:c.a=T(c,c.a);break;case 64:V(c,c.g&1);break;case 65:V(c,c.f&1);break;case 66:V(c,c.j&1);break;case 67:V(c,c.h&1);break;case 68:V(c,c.k&1);break;case 69:V(c,c.i&1);break;case 70:V(c,c.d(A(c))&1);break;case 71:V(c,c.a&1);break;case 72:V(c,c.g&2);break;case 73:V(c,c.f&2);break;case 74:V(c,c.j&2);break;case 75:V(c,c.h&2);break;case 76:V(c,c.k&2);break;case 77:V(c,c.i&2);break;case 78:V(c,c.d(A(c))&2);break;case 79:V(c,
c.a&2);break;case 80:V(c,c.g&4);break;case 81:V(c,c.f&4);break;case 82:V(c,c.j&4);break;case 83:V(c,c.h&4);break;case 84:V(c,c.k&4);break;case 85:V(c,c.i&4);break;case 86:V(c,c.d(A(c))&4);break;case 87:V(c,c.a&4);break;case 88:V(c,c.g&8);break;case 89:V(c,c.f&8);break;case 90:V(c,c.j&8);break;case 91:V(c,c.h&8);break;case 92:V(c,c.k&8);break;case 93:V(c,c.i&8);break;case 94:V(c,c.d(A(c))&8);break;case 95:V(c,c.a&8);break;case 96:V(c,c.g&16);break;case 97:V(c,c.f&16);break;case 98:V(c,c.j&16);break;
case 99:V(c,c.h&16);break;case 100:V(c,c.k&16);break;case 101:V(c,c.i&16);break;case 102:V(c,c.d(A(c))&16);break;case 103:V(c,c.a&16);break;case 104:V(c,c.g&32);break;case 105:V(c,c.f&32);break;case 106:V(c,c.j&32);break;case 107:V(c,c.h&32);break;case 108:V(c,c.k&32);break;case 109:V(c,c.i&32);break;case 110:V(c,c.d(A(c))&32);break;case 111:V(c,c.a&32);break;case 112:V(c,c.g&64);break;case 113:V(c,c.f&64);break;case 114:V(c,c.j&64);break;case 115:V(c,c.h&64);break;case 116:V(c,c.k&64);break;case 117:V(c,
c.i&64);break;case 118:V(c,c.d(A(c))&64);break;case 119:V(c,c.a&64);break;case 120:V(c,c.g&128);break;case 121:V(c,c.f&128);break;case 122:V(c,c.j&128);break;case 123:V(c,c.h&128);break;case 124:V(c,c.k&128);break;case 125:V(c,c.i&128);break;case 126:V(c,c.d(A(c))&128);break;case 127:V(c,c.a&128);break;case 128:c.g&=-2;break;case 129:c.f&=-2;break;case 130:c.j&=-2;break;case 131:c.h&=-2;break;case 132:c.k&=-2;break;case 133:c.i&=-2;break;case 134:c.e(A(c),c.d(A(c))&-2);break;case 135:c.a&=-2;break;
case 136:c.g&=-3;break;case 137:c.f&=-3;break;case 138:c.j&=-3;break;case 139:c.h&=-3;break;case 140:c.k&=-3;break;case 141:c.i&=-3;break;case 142:c.e(A(c),c.d(A(c))&-3);break;case 143:c.a&=-3;break;case 144:c.g&=-5;break;case 145:c.f&=-5;break;case 146:c.j&=-5;break;case 147:c.h&=-5;break;case 148:c.k&=-5;break;case 149:c.i&=-5;break;case 150:c.e(A(c),c.d(A(c))&-5);break;case 151:c.a&=-5;break;case 152:c.g&=-9;break;case 153:c.f&=-9;break;case 154:c.j&=-9;break;case 155:c.h&=-9;break;case 156:c.k&=
-9;break;case 157:c.i&=-9;break;case 158:c.e(A(c),c.d(A(c))&-9);break;case 159:c.a&=-9;break;case 160:c.g&=-17;break;case 161:c.f&=-17;break;case 162:c.j&=-17;break;case 163:c.h&=-17;break;case 164:c.k&=-17;break;case 165:c.i&=-17;break;case 166:c.e(A(c),c.d(A(c))&-17);break;case 167:c.a&=-17;break;case 168:c.g&=-33;break;case 169:c.f&=-33;break;case 170:c.j&=-33;break;case 171:c.h&=-33;break;case 172:c.k&=-33;break;case 173:c.i&=-33;break;case 174:c.e(A(c),c.d(A(c))&-33);break;case 175:c.a&=-33;
break;case 176:c.g&=-65;break;case 177:c.f&=-65;break;case 178:c.j&=-65;break;case 179:c.h&=-65;break;case 180:c.k&=-65;break;case 181:c.i&=-65;break;case 182:c.e(A(c),c.d(A(c))&-65);break;case 183:c.a&=-65;break;case 184:c.g&=-129;break;case 185:c.f&=-129;break;case 186:c.j&=-129;break;case 187:c.h&=-129;break;case 188:c.k&=-129;break;case 189:c.i&=-129;break;case 190:c.e(A(c),c.d(A(c))&-129);break;case 191:c.a&=-129;break;case 192:c.g|=1;break;case 193:c.f|=1;break;case 194:c.j|=1;break;case 195:c.h|=
1;break;case 196:c.k|=1;break;case 197:c.i|=1;break;case 198:c.e(A(c),c.d(A(c))|1);break;case 199:c.a|=1;break;case 200:c.g|=2;break;case 201:c.f|=2;break;case 202:c.j|=2;break;case 203:c.h|=2;break;case 204:c.k|=2;break;case 205:c.i|=2;break;case 206:c.e(A(c),c.d(A(c))|2);break;case 207:c.a|=2;break;case 208:c.g|=4;break;case 209:c.f|=4;break;case 210:c.j|=4;break;case 211:c.h|=4;break;case 212:c.k|=4;break;case 213:c.i|=4;break;case 214:c.e(A(c),c.d(A(c))|4);break;case 215:c.a|=4;break;case 216:c.g|=
8;break;case 217:c.f|=8;break;case 218:c.j|=8;break;case 219:c.h|=8;break;case 220:c.k|=8;break;case 221:c.i|=8;break;case 222:c.e(A(c),c.d(A(c))|8);break;case 223:c.a|=8;break;case 224:c.g|=16;break;case 225:c.f|=16;break;case 226:c.j|=16;break;case 227:c.h|=16;break;case 228:c.k|=16;break;case 229:c.i|=16;break;case 230:c.e(A(c),c.d(A(c))|16);break;case 231:c.a|=16;break;case 232:c.g|=32;break;case 233:c.f|=32;break;case 234:c.j|=32;break;case 235:c.h|=32;break;case 236:c.k|=32;break;case 237:c.i|=
32;break;case 238:c.e(A(c),c.d(A(c))|32);break;case 239:c.a|=32;break;case 240:c.g|=64;break;case 241:c.f|=64;break;case 242:c.j|=64;break;case 243:c.h|=64;break;case 244:c.k|=64;break;case 245:c.i|=64;break;case 246:c.e(A(c),c.d(A(c))|64);break;case 247:c.a|=64;break;case 248:c.g|=128;break;case 249:c.f|=128;break;case 250:c.j|=128;break;case 251:c.h|=128;break;case 252:c.k|=128;break;case 253:c.i|=128;break;case 254:c.e(A(c),c.d(A(c))|128);break;case 255:c.a|=128}break;case 204:a.call(0!=(a.b&64));
break;case 205:q(a,a.c+2);a.c=a.p(a.c);break;case 206:F(a,a.d(a.c++));break;case 207:q(a,a.c);a.c=8;break;case 208:Lb(a,0==(a.b&1));break;case 209:var bc=a,cc=a.p(a.m);bc.j=cc>>8;bc.h=cc&255;a.m+=2;break;case 210:Mb(a,0==(a.b&1));break;case 211:W(a.v,a.d(a.c++),a.a);break;case 212:a.call(0==(a.b&1));break;case 213:Nb(a,a.j,a.h);break;case 214:H(a,a.d(a.c++));break;case 215:q(a,a.c);a.c=16;break;case 216:Lb(a,0!=(a.b&1));break;case 217:var ta=a,rb=ta.g;ta.g=ta.la;ta.la=rb;rb=ta.f;ta.f=ta.ma;ta.ma=
rb;var ua=a,sb=ua.j;ua.j=ua.na;ua.na=sb;sb=ua.h;ua.h=ua.oa;ua.oa=sb;var va=a,tb=va.k;va.k=va.qa;va.qa=tb;tb=va.i;va.i=va.ra;va.ra=tb;break;case 218:Mb(a,0!=(a.b&1));break;case 219:a.a=Pb(a.v,a.d(a.c++));break;case 220:a.call(0!=(a.b&1));break;case 221:var e=a,dc=a.d(a.c++),Na=0,ub=0;e.n-=Qb[dc];switch(dc){case 9:Rb(e,w(e,X(e),t(e)));break;case 25:Rb(e,w(e,X(e),db(e)));break;case 33:Rb(e,e.p(e.c));e.c+=2;break;case 34:Na=e.p(e.c);e.e(Na++,e.q);e.e(Na,e.t);e.c+=2;break;case 35:e.q=e.q+1&255;0==e.q&&
(e.t=e.t+1&255);break;case 36:e.t=u(e,e.t);break;case 37:e.t=v(e,e.t);break;case 38:e.t=e.d(e.c++);break;case 41:Rb(e,w(e,X(e),X(e)));break;case 42:Na=e.p(e.c);e.q=e.d(Na);e.t=e.d(++Na);e.c+=2;break;case 43:e.q=e.q-1&255;255==e.q&&(e.t=e.t-1&255);break;case 44:e.q=u(e,e.q);break;case 45:e.q=v(e,e.q);break;case 46:e.q=e.d(e.c++);break;case 52:qb(e,X(e)+B(e));e.c++;break;case 53:xb(e,X(e)+B(e));e.c++;break;case 54:e.e(X(e)+B(e),e.d(++e.c));e.c++;break;case 57:Rb(e,w(e,X(e),e.m));break;case 68:e.g=e.t;
break;case 69:e.g=e.q;break;case 70:e.g=e.d(X(e)+B(e));e.c++;break;case 76:e.f=e.t;break;case 77:e.f=e.q;break;case 78:e.f=e.d(X(e)+B(e));e.c++;break;case 84:e.j=e.t;break;case 85:e.j=e.q;break;case 86:e.j=e.d(X(e)+B(e));e.c++;break;case 92:e.h=e.t;break;case 93:e.h=e.q;break;case 94:e.h=e.d(X(e)+B(e));e.c++;break;case 96:e.t=e.g;break;case 97:e.t=e.f;break;case 98:e.t=e.j;break;case 99:e.t=e.h;break;case 100:break;case 101:e.t=e.q;break;case 102:e.k=e.d(X(e)+B(e));e.c++;break;case 103:e.t=e.a;break;
case 104:e.q=e.g;break;case 105:e.q=e.f;break;case 106:e.q=e.j;break;case 107:e.q=e.h;break;case 108:e.q=e.t;break;case 109:break;case 110:e.i=e.d(X(e)+B(e));e.c++;break;case 111:e.q=e.a;break;case 112:e.e(X(e)+B(e),e.g);e.c++;break;case 113:e.e(X(e)+B(e),e.f);e.c++;break;case 114:e.e(X(e)+B(e),e.j);e.c++;break;case 115:e.e(X(e)+B(e),e.h);e.c++;break;case 116:e.e(X(e)+B(e),e.k);e.c++;break;case 117:e.e(X(e)+B(e),e.i);e.c++;break;case 119:e.e(X(e)+B(e),e.a);e.c++;break;case 124:e.a=e.t;break;case 125:e.a=
e.q;break;case 126:e.a=e.d(X(e)+B(e));e.c++;break;case 132:E(e,e.t);break;case 133:E(e,e.q);break;case 134:E(e,e.d(X(e)+B(e)));e.c++;break;case 140:F(e,e.t);break;case 141:F(e,e.q);break;case 142:F(e,e.d(X(e)+B(e)));e.c++;break;case 148:H(e,e.t);break;case 149:H(e,e.q);break;case 150:H(e,e.d(X(e)+B(e)));e.c++;break;case 156:I(e,e.t);break;case 157:I(e,e.q);break;case 158:I(e,e.d(X(e)+B(e)));e.c++;break;case 164:e.b=e.l[e.a&=e.t]|16;break;case 165:e.b=e.l[e.a&=e.q]|16;break;case 166:e.b=e.l[e.a&=e.d(X(e)+
B(e))]|16;e.c++;break;case 172:e.b=e.l[e.a^=e.t];break;case 173:e.b=e.l[e.a^=e.q];break;case 174:e.b=e.l[e.a^=e.d(X(e)+B(e))];e.c++;break;case 180:e.b=e.l[e.a|=e.t];break;case 181:e.b=e.l[e.a|=e.q];break;case 182:e.b=e.l[e.a|=e.d(X(e)+B(e))];e.c++;break;case 188:J(e,e.t);break;case 189:J(e,e.q);break;case 190:J(e,e.d(X(e)+B(e)));e.c++;break;case 203:Sb(e,X(e));break;case 225:Rb(e,e.p(e.m));e.m+=2;break;case 227:ub=X(e);Rb(e,e.p(e.m));e.e(e.m,ub&255);e.e(e.m+1,ub>>8);break;case 229:Nb(e,e.t,e.q);break;
case 233:e.c=X(e);break;case 249:e.m=X(e);break;default:e.c--}break;case 222:I(a,a.d(a.c++));break;case 223:q(a,a.c);a.c=24;break;case 224:Lb(a,0==(a.b&4));break;case 225:Ma(a,a.p(a.m));a.m+=2;break;case 226:Mb(a,0==(a.b&4));break;case 227:s=a.k;a.k=a.d(a.m+1);a.e(a.m+1,s);s=a.i;a.i=a.d(a.m);a.e(a.m,s);break;case 228:a.call(0==(a.b&4));break;case 229:Nb(a,a.k,a.i);break;case 230:a.b=a.l[a.a&=a.d(a.c++)]|16;break;case 231:q(a,a.c);a.c=32;break;case 232:Lb(a,0!=(a.b&4));break;case 233:a.c=A(a);break;
case 234:Mb(a,0!=(a.b&4));break;case 235:s=a.j;a.j=a.k;a.k=s;s=a.h;a.h=a.i;a.i=s;break;case 236:a.call(0!=(a.b&4));break;case 237:var d=a,gc=B(a),r=0,D=0,Oa=0;d.n-=Xb[gc];switch(gc){case 64:d.g=Pb(d.v,d.f);d.b=d.b&1|d.l[d.g];d.c++;break;case 65:W(d.v,d.f,d.g);d.c++;break;case 66:ec(d,t(d));d.c++;break;case 67:D=d.p(d.c+1);d.e(D++,d.f);d.e(D,d.g);d.c+=3;break;case 68:case 76:case 84:case 92:case 100:case 108:case 116:case 124:r=d.a;d.a=0;H(d,r);d.c++;break;case 69:case 77:case 85:case 93:case 101:case 109:case 117:case 125:d.c=
d.p(d.m);d.m+=2;d.H=d.I;break;case 70:case 78:case 102:case 110:d.N=0;d.c++;break;case 71:d.aa=d.a;d.c++;break;case 72:d.f=Pb(d.v,d.f);d.b=d.b&1|d.l[d.f];d.c++;break;case 73:W(d.v,d.f,d.f);d.c++;break;case 74:fc(d,t(d));d.c++;break;case 75:var hc=d,ic=d.p(d.p(d.c+1));hc.g=ic>>8;hc.f=ic&255;d.c+=3;break;case 79:d.c++;break;case 80:d.j=Pb(d.v,d.f);d.b=d.b&1|d.l[d.j];d.c++;break;case 81:W(d.v,d.f,d.j);d.c++;break;case 82:ec(d,db(d));d.c++;break;case 83:D=d.p(d.c+1);d.e(D++,d.h);d.e(D,d.j);d.c+=3;break;
case 86:case 118:d.N=1;d.c++;break;case 87:d.a=d.aa;d.b=d.b&1|d.ja[d.a]|(d.I?4:0);d.c++;break;case 88:d.h=Pb(d.v,d.f);d.b=d.b&1|d.l[d.h];d.c++;break;case 89:W(d.v,d.f,d.h);d.c++;break;case 90:fc(d,db(d));d.c++;break;case 91:var jc=d,kc=d.p(d.p(d.c+1));jc.j=kc>>8;jc.h=kc&255;d.c+=3;break;case 95:d.a=Math.round(255*Math.random());d.b=d.b&1|d.ja[d.a]|(d.I?4:0);d.c++;break;case 96:d.k=Pb(d.v,d.f);d.b=d.b&1|d.l[d.k];d.c++;break;case 97:W(d.v,d.f,d.k);d.c++;break;case 98:ec(d,A(d));d.c++;break;case 99:D=
d.p(d.c+1);d.e(D++,d.i);d.e(D,d.k);d.c+=3;break;case 103:D=A(d);Oa=d.d(D);d.e(D,Oa>>4|(d.a&15)<<4);d.a=d.a&240|Oa&15;d.b=d.b&1|d.l[d.a];d.c++;break;case 104:d.i=Pb(d.v,d.f);d.b=d.b&1|d.l[d.i];d.c++;break;case 105:W(d.v,d.f,d.i);d.c++;break;case 106:fc(d,A(d));d.c++;break;case 107:Ma(d,d.p(d.p(d.c+1)));d.c+=3;break;case 111:D=A(d);Oa=d.d(D);d.e(D,(Oa&15)<<4|d.a&15);d.a=d.a&240|Oa>>4;d.b=d.b&1|d.l[d.a];d.c++;break;case 113:W(d.v,d.f,0);d.c++;break;case 114:ec(d,d.m);d.c++;break;case 115:D=d.p(d.c+1);
d.e(D++,d.m&255);d.e(D,d.m>>8);d.c+=3;break;case 120:d.a=Pb(d.v,d.f);d.b=d.b&1|d.l[d.a];d.c++;break;case 121:W(d.v,d.f,d.a);d.c++;break;case 122:fc(d,d.m);d.c++;break;case 123:d.m=d.p(d.p(d.c+1));d.c+=3;break;case 160:d.e(db(d),d.d(A(d)));eb(d);ob(d);Ya(d);d.b=d.b&193|(0!=t(d)?4:0);d.c++;break;case 161:r=d.b&1|2;J(d,d.d(A(d)));ob(d);Ya(d);r|=0==t(d)?0:4;d.b=d.b&248|r;d.c++;break;case 162:r=Pb(d.v,d.f);d.e(A(d),r);d.g=v(d,d.g);ob(d);d.b=128==(r&128)?d.b|2:d.b&-3;d.c++;break;case 163:r=d.d(A(d));W(d.v,
d.f,r);ob(d);d.g=v(d,d.g);255<d.i+r?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=128==(r&128)?d.b|2:d.b&-3;d.c++;break;case 168:d.e(db(d),d.d(A(d)));nb(d);pb(d);Ya(d);d.b=d.b&193|(0!=t(d)?4:0);d.c++;break;case 169:r=d.b&1|2;J(d,d.d(A(d)));pb(d);Ya(d);r|=0==t(d)?0:4;d.b=d.b&248|r;d.c++;break;case 170:r=Pb(d.v,d.f);d.e(A(d),r);d.g=v(d,d.g);pb(d);d.b=0!=(r&128)?d.b|2:d.b&-3;d.c++;break;case 171:r=d.d(A(d));W(d.v,d.f,r);pb(d);d.g=v(d,d.g);255<d.i+r?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=-17);d.b=128==(r&128)?d.b|
2:d.b&-3;d.c++;break;case 176:d.e(db(d),d.d(A(d)));eb(d);ob(d);Ya(d);0!=t(d)?(d.b|=4,d.n-=5,d.c--):(d.b&=-5,d.c++);d.b&=-3;d.b&=-17;break;case 177:r=d.b&1|2;J(d,d.d(A(d)));ob(d);Ya(d);r|=0==t(d)?0:4;0!=(r&4)&&0==(d.b&64)?(d.n-=5,d.c--):d.c++;d.b=d.b&248|r;break;case 178:r=Pb(d.v,d.f);d.e(A(d),r);d.g=v(d,d.g);ob(d);0!=d.g?(d.n-=5,d.c--):d.c++;d.b=128==(r&128)?d.b|2:d.b&-3;break;case 179:r=d.d(A(d));W(d.v,d.f,r);d.g=v(d,d.g);ob(d);0!=d.g?(d.n-=5,d.c--):d.c++;255<d.i+r?(d.b|=1,d.b|=16):(d.b&=-2,d.b&=
-17);d.b=0!=(r&128)?d.b|2:d.b&-3;break;case 184:d.e(db(d),d.d(A(d)));nb(d);pb(d);Ya(d);0!=t(d)?(d.b|=4,d.n-=5,d.c--):(d.b&=-5,d.c++);d.b&=-3;d.b&=-17;break;case 185:r=d.b&1|2;J(d,d.d(A(d)));pb(d);Ya(d);r|=0==t(d)?0:4;0!=(r&4)&&0==(d.b&64)?(d.n-=5,d.c--):d.c++;d.b=d.b&248|r;break;case 186:r=Pb(d.v,d.f);d.e(A(d),r);d.g=v(d,d.g);pb(d);0!=d.g?(d.n-=5,d.c--):d.c++;d.b=0!=(r&128)?d.b|2:d.b&-3;break;case 187:r=d.d(A(d));W(d.v,d.f,r);d.g=v(d,d.g);pb(d);0!=d.g?(d.n-=5,d.c--):d.c++;255<d.i+r?(d.b|=1,d.b|=16):
(d.b&=-2,d.b&=-17);d.b=0!=(r&128)?d.b|2:d.b&-3;break;default:d.c++}break;case 238:a.b=a.l[a.a^=a.d(a.c++)];break;case 239:q(a,a.c);a.c=40;break;case 240:Lb(a,0==(a.b&128));break;case 241:a.b=a.d(a.m++);a.a=a.d(a.m++);break;case 242:Mb(a,0==(a.b&128));break;case 243:a.H=a.I=m;break;case 244:a.call(0==(a.b&128));break;case 245:Nb(a,a.a,a.b);break;case 246:a.b=a.l[a.a|=a.d(a.c++)];break;case 247:q(a,a.c);a.c=48;break;case 248:Lb(a,0!=(a.b&128));break;case 249:a.m=A(a);break;case 250:Mb(a,0!=(a.b&128));
break;case 251:a.H=a.I=h;break;case 252:a.call(0!=(a.b&128));break;case 253:var f=a,lc=a.d(a.c++),Pa=aa,vb=aa;f.n-=Qb[lc];switch(lc){case 9:Gc(f,w(f,Z(f),t(f)));break;case 25:Gc(f,w(f,Z(f),db(f)));break;case 33:Gc(f,f.p(f.c));f.c+=2;break;case 34:Pa=f.p(f.c);f.e(Pa++,f.r);f.e(Pa,f.u);f.c+=2;break;case 35:f.r=f.r+1&255;0==f.r&&(f.u=f.u+1&255);break;case 36:f.u=u(f,f.u);break;case 37:f.u=v(f,f.u);break;case 38:f.u=f.d(f.c++);break;case 41:Gc(f,w(f,Z(f),Z(f)));break;case 42:Pa=f.p(f.c);f.r=f.d(Pa);f.u=
f.d(++Pa);f.c+=2;break;case 43:f.r=f.r-1&255;255==f.r&&(f.u=f.u-1&255);break;case 44:f.r=u(f,f.r);break;case 45:f.r=v(f,f.r);break;case 46:f.r=f.d(f.c++);break;case 52:qb(f,Z(f)+B(f));f.c++;break;case 53:xb(f,Z(f)+B(f));f.c++;break;case 54:f.e(Z(f)+B(f),f.d(++f.c));f.c++;break;case 57:Gc(f,w(f,Z(f),f.m));break;case 68:f.g=f.u;break;case 69:f.g=f.r;break;case 70:f.g=f.d(Z(f)+B(f));f.c++;break;case 76:f.f=f.u;break;case 77:f.f=f.r;break;case 78:f.f=f.d(Z(f)+B(f));f.c++;break;case 84:f.j=f.u;break;case 85:f.j=
f.r;break;case 86:f.j=f.d(Z(f)+B(f));f.c++;break;case 92:f.h=f.u;break;case 93:f.h=f.r;break;case 94:f.h=f.d(Z(f)+B(f));f.c++;break;case 96:f.u=f.g;break;case 97:f.u=f.f;break;case 98:f.u=f.j;break;case 99:f.u=f.h;break;case 100:break;case 101:f.u=f.r;break;case 102:f.k=f.d(Z(f)+B(f));f.c++;break;case 103:f.u=f.a;break;case 104:f.r=f.g;break;case 105:f.r=f.f;break;case 106:f.r=f.j;break;case 107:f.r=f.h;break;case 108:f.r=f.u;break;case 109:break;case 110:f.i=f.d(Z(f)+B(f));f.c++;break;case 111:f.r=
f.a;break;case 112:f.e(Z(f)+B(f),f.g);f.c++;break;case 113:f.e(Z(f)+B(f),f.f);f.c++;break;case 114:f.e(Z(f)+B(f),f.j);f.c++;break;case 115:f.e(Z(f)+B(f),f.h);f.c++;break;case 116:f.e(Z(f)+B(f),f.k);f.c++;break;case 117:f.e(Z(f)+B(f),f.i);f.c++;break;case 119:f.e(Z(f)+B(f),f.a);f.c++;break;case 124:f.a=f.u;break;case 125:f.a=f.r;break;case 126:f.a=f.d(Z(f)+B(f));f.c++;break;case 132:E(f,f.u);break;case 133:E(f,f.r);break;case 134:E(f,f.d(Z(f)+B(f)));f.c++;break;case 140:F(f,f.u);break;case 141:F(f,
f.r);break;case 142:F(f,f.d(Z(f)+B(f)));f.c++;break;case 148:H(f,f.u);break;case 149:H(f,f.r);break;case 150:H(f,f.d(Z(f)+B(f)));f.c++;break;case 156:I(f,f.u);break;case 157:I(f,f.r);break;case 158:I(f,f.d(Z(f)+B(f)));f.c++;break;case 164:f.b=f.l[f.a&=f.u]|16;break;case 165:f.b=f.l[f.a&=f.r]|16;break;case 166:f.b=f.l[f.a&=f.d(Z(f)+B(f))]|16;f.c++;break;case 172:f.b=f.l[f.a^=f.u];break;case 173:f.b=f.l[f.a^=f.r];break;case 174:f.b=f.l[f.a^=f.d(Z(f)+B(f))];f.c++;break;case 180:f.b=f.l[f.a|=f.u];break;
case 181:f.b=f.l[f.a|=f.r];break;case 182:f.b=f.l[f.a|=f.d(Z(f)+B(f))];f.c++;break;case 188:J(f,f.u);break;case 189:J(f,f.r);break;case 190:J(f,f.d(Z(f)+B(f)));f.c++;break;case 203:Sb(f,Z(f));break;case 225:Gc(f,f.p(f.m));f.m+=2;break;case 227:vb=Z(f);Gc(f,f.p(f.m));f.e(f.m,vb&255);f.e(f.m+1,vb>>8);break;case 229:Nb(f,f.u,f.r);break;case 233:f.c=Z(f);break;case 249:f.m=Z(f);break;default:f.c--}break;case 254:J(a,a.d(a.c++));break;case 255:q(a,a.c),a.c=56}if(this.R){var mc=g;0==mc&&(this.ca=0);for(var nc=
this.X[mc],p=this.c,Pc=this.ca,Qc=nc,oc=[],wb=0,z=0;wb<Qc;wb++){for(z=0;3>z;z++)p.i[z]=p.g[z]!=Da?Hc[p.b[(z<<1)+1]]*p.g[z]>>8:Hc[p.b[(z<<1)+1]]*p.d[z];p.i[3]=Hc[p.b[7]]*(p.f&1)<<1;var Za=p.i[0]+p.i[1]+p.i[2]+p.i[3];127<Za?Za=127:-128>Za&&(Za=-128);oc[Pc+wb]=Za;p.e+=p.j;var Ga=p.e>>8,yb=Ga<<8;p.e-=yb;p.a[0]-=Ga;p.a[1]-=Ga;p.a[2]-=Ga;p.a[3]=128==p.h?p.a[2]:p.a[3]-Ga;for(z=0;3>z;z++){var pc=p.a[z];if(0>=pc){var zb=p.b[z<<1];6<zb?(p.g[z]=(yb-p.e+512*pc<<8)*p.d[z]/(yb+p.e),p.d[z]=-p.d[z]):(p.d[z]=1,p.g[z]=
Da);p.a[z]+=zb*(Ga/zb+1)}else p.g[z]=Da}if(0>=p.a[3]&&(p.d[3]=-p.d[3],128!=p.h&&(p.a[3]+=p.h*(Ga/p.h+1)),1==p.d[3])){var qc=0,qc=0!=(p.b[6]&4)?0!=(p.f&9)&&0!=(p.f&9^9)?1:0:p.f&1;p.f=p.f>>1|qc<<15}}this.ba=oc;this.ca+=nc}this.C.l=g;if(0==this.ga&&192>g){var C=this.C,Ha=g,Qa=0,fb=0,gb=0;if(!C.s.T||!(24>Ha||168<=Ha))if(0!=(C.c[1]&64)){if(-1!=C.k){for(var ga=C,Ra=ga.n;Ra<=ga.k;Ra++)if(ga.r[Ra]){ga.r[Ra]=m;for(var Rc=ga.v[Ra],Sc=0,hb=Ra<<5,rc=0;8>rc;rc++)for(var Tc=ga.d[hb++],Uc=ga.d[hb++],Vc=ga.d[hb++],
Wc=ga.d[hb++],Ia=128;0!=Ia;Ia>>=1){var ma=0;0!=(Tc&Ia)&&(ma|=1);0!=(Uc&Ia)&&(ma|=2);0!=(Vc&Ia)&&(ma|=4);0!=(Wc&Ia)&&(ma|=8);Rc[Sc++]=ma}}ga.n=512;ga.k=-1}var y=C,Sa=Ha,wa=0,Ta=0,xa=0,ya=0,Ab=y.c[8],sc=y.c[9];16>Sa&&0!=(y.c[0]&64)&&(Ab=0);var Xc=y.c[0]&128,tc=32-(Ab>>3)+y.u,$a=Sa+sc>>3;27<$a&&($a-=28);for(var Bb=(Sa+(sc&7)&7)<<3,uc=Sa<<8,ib=y.u;ib<y.z;ib++){var vc=y.w+((tc&31)<<1)+($a<<6),Ua=y.d[vc+1],wc=(Ua&8)<<1,za=(ib<<3)+(Ab&7),xc=0==(Ua&4)?Bb:56-Bb,yc=y.v[(y.d[vc]&255)+((Ua&1)<<8)];if(0==(Ua&
2))for(wa=0;8>wa&&256>za;wa++,za++)Ta=yc[wa+xc],xa=4*(za+uc),ya=3*(Ta+wc),y.p[za]=0!=(Ua&16)&&0!=Ta,y.b[xa]=y.a[ya],y.b[xa+1]=y.a[ya+1],y.b[xa+2]=y.a[ya+2];else for(wa=7;0<=wa&&256>za;wa--,za++)Ta=yc[wa+xc],xa=4*(za+uc),ya=3*(Ta+wc),y.p[za]=0!=(Ua&16)&&0!=Ta,y.b[xa]=y.a[ya],y.b[xa+1]=y.a[ya+1],y.b[xa+2]=y.a[ya+2];tc++;0!=Xc&&23==ib&&($a=Sa>>3,Bb=(Sa&7)<<3)}if(C.h){var ha=C;ha.h=m;for(var Cb=0;Cb<ha.m.length;Cb++)ha.m[Cb][0]=0;var Db=0==(ha.c[1]&2)?8:16;1==(ha.c[1]&1)&&(Db<<=1);for(var jb=0;64>jb;jb++){var Aa=
ha.d[ha.g+jb]&255;if(208==Aa)break;Aa++;240<Aa&&(Aa-=256);for(var kb=Aa;192>kb;kb++)if(kb-Aa<Db){var Va=ha.m[kb];if(8<=Va[0])break;var Eb=3*Va[0]+1,zc=ha.g+(jb<<1)+128;Va[Eb++]=ha.d[zc++]&255;Va[Eb++]=Aa;Va[Eb++]=ha.d[zc]&255;Va[0]++}}}if(0!=C.m[Ha][0]){for(var x=C,Fb=Ha,Ba=0,ba=0,ca=0,Ac=0,ab=x.m[Fb],Bc=Math.min(8,ab[0]),Cc=x.c[1]&1,Gb=Fb<<8,Hb=3*Bc;Ac<Bc;Ac++){var Ib=ab[Hb--]|(x.c[6]&4)<<6,Yc=ab[Hb--],U=ab[Hb--]-(x.c[0]&8),Dc=Fb-Yc>>Cc;0!=(x.c[1]&2)&&(Ib&=-2);var Ec=x.v[Ib+((Dc&8)>>3)],Wa=0;0>U&&
(Wa=-U,U=0);var Fc=Wa+((Dc&7)<<3);if(0==Cc)for(;8>Wa&&256>U;Wa++,U++)Ba=Ec[Fc++],0!=Ba&&!x.p[U]&&(ba=4*(U+Gb),ca=3*(Ba+16),x.b[ba]=x.a[ca],x.b[ba+1]=x.a[ca+1],x.b[ba+2]=x.a[ca+2]);else for(;8>Wa&&256>U;Wa++,U+=2)Ba=Ec[Fc++],0!=Ba&&!x.p[U]&&(ba=4*(U+Gb),ca=3*(Ba+16),x.b[ba]=x.a[ca],x.b[ba+1]=x.a[ca+1],x.b[ba+2]=x.a[ca+2]),0!=Ba&&!x.p[U+1]&&(ba=4*(U+Gb+1),ca=3*(Ba+16),x.b[ba]=x.a[ca],x.b[ba+1]=x.a[ca+1],x.b[ba+2]=x.a[ca+2])}8<=ab[0]&&(x.e|=64)}if(C.s.U&&0!=(C.c[0]&32)){fb=4*(Ha<<8);gb=3*((C.c[7]&15)+
16);for(Qa=0;8>Qa;Qa++)C.b[fb+Qa]=C.a[gb],C.b[fb+Qa+1]=C.a[gb+1],C.b[fb+Qa+2]=C.a[gb+2]}}else for(var Ja=C,na=Ha<<8,Zc=4*(na+1024),Jb=3*((Ja.c[7]&15)+16),na=4*na;na<Zc;na+=4)Ja.b[na]=Ja.a[Jb],Ja.b[na+1]=Ja.a[Jb+1],Ja.b[na+2]=Ja.a[Jb+2]}var O=this.C,Kb=g;192>=Kb?(192==Kb&&(O.e|=128),0==O.q?(O.q=O.c[10],O.e|=4):O.q--,0!=(O.e&4)&&0!=(O.c[0]&16)&&(O.s.b.J=h)):(O.q=O.c[10],0!=(O.e&128)&&(0!=(O.c[1]&32)&&224>Kb)&&(O.s.b.J=h))}if(this.ha){var ia=this.b;ia.I=ia.H;ia.H=m;ia.M&&(ia.c++,ia.M=m);q(ia,ia.c);ia.c=
102;ia.n-=11;this.ha=m}0==this.ga--?(this.ga=this.Aa,b=h):b=m;b&&this.a.Ca();this.fa++;this.a.requestAnimationFrame(this.xa.bind(this),this.a.screen)}},ta:function(b,g){0!=g%1024&&(b=b.substr(512),g-=512);var a,k,n=Math.round(g/16384),s=Array(n);for(a=0;a<n;a++)if(s[a]=Ic(16384),ea)for(k=0;16384>k;k++)s[a].setUint8(k,b.charCodeAt(16384*a+k));else for(k=0;16384>k;k++)s[a][k]=b.charCodeAt(16384*a+k)&255;return s}};
function Jc(b,g,a){var k,n=".gg"==a.substr(-3).toLowerCase()?2:1;k=g.length;1==n?(b.U=h,b.T=m,b.C.u=0,b.C.z=32):2==n&&(b.T=h,b.U=m,b.C.u=5,b.C.z=27);if(16384>=k)return m;k=b.ta(g,k);if(null==k)return m;n=b.b;k&&(n.A=k);if(n.A.length){n.V=n.A.length;n.D=n.V-1;for(k=0;3>k;k++)n.o[k]=k%n.V;n.o[3]=0}else n.V=0,n.D=0;b.ua=g;b.va=a;return h};var Ic=ea?function(b){b||(b=0);return new DataView(new ArrayBuffer(b))}:Array,Ea=window.performance&&window.performance.now?function(){return window.performance.now()}:function(){return(new Date).getTime()};function Kc(b,g){var a=m;g==aa&&(g=document);b.some(function(b){return b in g?(a=b,h):m});return a};var Fa=[4,10,7,6,4,4,7,4,4,11,7,6,4,4,7,4,8,10,7,6,4,4,7,4,12,11,7,6,4,4,7,4,7,10,16,6,4,4,7,4,7,11,16,6,4,4,7,4,7,10,13,6,11,11,10,4,7,11,13,6,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,7,7,7,7,7,7,4,7,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,4,4,4,4,4,4,7,4,5,10,10,10,10,11,7,11,5,10,10,0,10,17,7,11,5,10,10,11,10,11,7,11,5,4,10,11,10,0,7,11,5,10,10,
19,10,11,7,11,5,4,10,4,10,0,7,11,5,10,10,4,10,11,7,11,5,6,10,4,10,0,7,11],Ob=[8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,12,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,
8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8,8,8,8,8,8,8,15,8],Qb=[4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,15,4,4,4,4,4,4,4,14,20,10,8,8,11,4,4,15,20,10,8,8,11,4,4,4,4,4,23,23,19,4,4,15,4,4,4,4,4,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,8,8,8,8,8,8,19,8,8,8,8,8,8,8,19,8,19,19,19,19,19,19,4,19,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,
4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,8,8,19,4,4,4,4,4,4,4,4,4,4,4,4,0,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,14,4,23,4,15,4,4,4,8,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,10,4,4,4,4,4,4],Nc=[23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,
20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23],Xb=[8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,9,12,12,15,20,8,14,8,18,12,12,15,20,8,14,8,18,8,12,15,20,8,14,8,8,12,12,15,20,8,14,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,16,16,16,16,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,
8,8,8,8,8,8,8,8,8];
function Ca(b){this.s=b;this.v=b.d;this.N=this.m=this.c=0;this.J=this.M=this.I=this.H=m;this.n=this.pa=this.b=this.aa=this.u=this.r=this.t=this.q=this.ra=this.qa=this.i=this.k=this.oa=this.na=this.h=this.j=this.ma=this.la=this.f=this.g=this.ka=this.a=this.O=0;this.A=[];this.G=Ic(32768);this.o=Array(4);this.V=this.D=0;this.F=Ic(8192);this.ya=Array(2048);this.ja=Array(256);this.l=Array(256);this.L=Array(256);this.K=Array(256);this.z=Array(131072);this.w=Array(131072);this.Z=Array(256);var g,a,k,n,s,
l;for(b=0;256>b;b++)g=0!=(b&128)?128:0,a=0==b?64:0,k=b&32,n=b&8,s=Oc(b)?4:0,this.ja[b]=g|a|k|n,this.l[b]=g|a|k|n|s,this.L[b]=g|a|k|n,this.L[b]|=128==b?4:0,this.L[b]|=0==(b&15)?16:0,this.K[b]=g|a|k|n|2,this.K[b]|=127==b?4:0,this.K[b]|=15==(b&15)?16:0,this.Z[b]=0!=b?b&128:68,this.Z[b]|=k|n|16;b=0;g=65536;a=0;k=65536;for(s=0;256>s;s++)for(l=0;256>l;l++)n=l-s,this.z[b]=0!=l?0!=(l&128)?128:0:64,this.z[b]|=l&40,(l&15)<(s&15)&&(this.z[b]|=16),l<s&&(this.z[b]|=1),0!=((n^s^128)&(n^l)&128)&&(this.z[b]|=4),
b++,n=l-s-1,this.z[g]=0!=l?0!=(l&128)?128:0:64,this.z[g]|=l&40,(l&15)<=(s&15)&&(this.z[g]|=16),l<=s&&(this.z[g]|=1),0!=((n^s^128)&(n^l)&128)&&(this.z[g]|=4),g++,n=s-l,this.w[a]=0!=l?0!=(l&128)?130:2:66,this.w[a]|=l&40,(l&15)>(s&15)&&(this.w[a]|=16),l>s&&(this.w[a]|=1),0!=((n^s)&(s^l)&128)&&(this.w[a]|=4),a++,n=s-l-1,this.w[k]=0!=l?0!=(l&128)?130:2:66,this.w[k]|=l&40,(l&15)>=(s&15)&&(this.w[k]|=16),l>=s&&(this.w[k]|=1),0!=((n^s)&(s^l)&128)&&(this.w[k]|=4),k++;for(b=256;b--;)for(g=0;1>=g;g++)for(a=
0;1>=a;a++)for(k=0;1>=k;k++){n=this.ya;s=g<<8|k<<9|a<<10|b;l=g|k<<1|a<<4;this.a=b;this.b=l;var G=this.a,P=0,da=l&1,Y=da;if(0!=(l&16)||9<(G&15))P|=6;if(1==da||159<G||143<G&&9<(G&15))P|=96,Y=1;153<G&&(Y=1);0!=(l&2)?H(this,P):E(this,P);l=this.b&254|Y;l=Oc(this.a)?l&251|4:l&251;n[s]=this.a|l<<8}this.a=this.b=0;if(ea)for(b=0;8192>b;b++)this.F.setUint8(b,0);else for(b=0;8192>b;b++)this.F[b]=0;if(ea)for(b=0;32768>b;b++)this.G.setUint8(b,0);else for(b=0;32768>b;b++)this.G[b]=0;this.V=2;for(b=0;4>b;b++)this.o[b]=
b%3}
Ca.prototype={reset:function(){this.c=this.pa=this.b=this.aa=this.r=this.u=this.q=this.t=this.k=this.i=this.qa=this.ra=this.j=this.h=this.na=this.oa=this.g=this.f=this.la=this.ma=this.a=this.ka=0;this.m=57328;this.N=this.n=0;this.I=this.H=m;this.O=0;this.M=m},call:function(b){b?(q(this,this.c+2),this.c=this.p(this.c),this.n-=7):this.c+=2},e:ea?function(b,g){65535>=b&&(this.F.setInt8(b&8191,g),65532==b?this.o[3]=g:65533==b?this.o[0]=g:65534==b?this.o[1]=g:65535==b&&(this.o[2]=g))}:function(b,g){65535>=b&&
(this.F[b&8191]=g,65532==b?this.o[3]=g:65533==b?this.o[0]=g:65534==b?this.o[1]=g:65535==b&&(this.o[2]=g))},d:ea?function(b){return 1024>b?this.A[0].getUint8(b):16384>b?this.A[this.o[0]&this.D].getUint8(b):32768>b?this.A[this.o[1]&this.D].getUint8(b-16384):49152>b?8==(this.o[3]&12)?this.G.getUint8(b-32768):12==(this.o[3]&12)?this.G.getUint8(b-16384):this.A[this.o[2]&this.D].getUint8(b-32768):57344>b?this.F.getUint8(b-49152):65532>b?this.F.getUint8(b-57344):65532==b?this.o[3]:65533==b?this.o[0]:65534==
b?this.o[1]:65535==b?this.o[2]:0}:function(b){return 1024>b?this.A[0][b]:16384>b?this.A[this.o[0]&this.D][b]:32768>b?this.A[this.o[1]&this.D][b-16384]:49152>b?8==(this.o[3]&12)?this.G[b-32768]:12==(this.o[3]&12)?this.G[b-16384]:this.A[this.o[2]&this.D][b-32768]:57344>b?this.F[b-49152]:65532>b?this.F[b-57344]:65532==b?this.o[3]:65533==b?this.o[0]:65534==b?this.o[1]:65535==b?this.o[2]:0},p:ea?function(b){return 1024>b?this.A[0].getUint16(b,h):16384>b?this.A[this.o[0]&this.D].getUint16(b,h):32768>b?
this.A[this.o[1]&this.D].getUint16(b-16384,h):49152>b?8==(this.o[3]&12)?this.G[b-32768]:12==(this.o[3]&12)?this.G[b-16384]:this.A[this.o[2]&this.D].getUint16(b-32768,h):57344>b?this.F.getUint16(b-49152,h):65532>b?this.F.getUint16(b-57344,h):65532==b?this.o[3]:65533==b?this.o[0]:65534==b?this.o[1]:65535==b?this.o[2]:0}:function(b){return 1024>b?this.A[0][b]|this.A[0][++b]<<8:16384>b?this.A[this.o[0]&this.D][b]|this.A[this.o[0]&this.D][++b]<<8:32768>b?this.A[this.o[1]&this.D][b-16384]|this.A[this.o[1]&
this.D][++b-16384]<<8:49152>b?8==(this.o[3]&12)?this.G[b-32768]|this.G[++b-32768]<<8:12==(this.o[3]&12)?this.G[b-16384]|this.G[++b-16384]<<8:this.A[this.o[2]&this.D][b-32768]|this.A[this.o[2]&this.D][++b-32768]<<8:57344>b?this.F[b-49152]|this.F[++b-49152]<<8:65532>b?this.F[b-57344]|this.F[++b-57344]<<8:65532==b?this.o[3]:65533==b?this.o[0]:65534==b?this.o[1]:65535==b?this.o[2]:0}};function B(b){return b.d(b.c)}function Oc(b){var g=h,a;for(a=0;8>a;a++)0!=(b&1<<a)&&(g=!g);return g}
function ec(b,g){var a=A(b),k=a-g-(b.b&1);b.b=(a^k^g)>>8&16|2|k>>16&1|k>>8&128|(0!=(k&65535)?0:64)|((g^a)&(a^k)&32768)>>13;b.k=k>>8&255;b.i=k&255}function fc(b,g){var a=A(b),k=a+g+(b.b&1);b.b=(a^k^g)>>8&16|k>>16&1|k>>8&128|(0!=(k&65535)?0:64)|((g^a^32768)&(g^k)&32768)>>13;b.k=k>>8&255;b.i=k&255}function w(b,g,a){var k=g+a;b.b=b.b&196|(g^k^a)>>8&16|k>>16&1;return k&65535}function v(b,g){g=g-1&255;b.b=b.b&1|b.K[g];return g}function u(b,g){g=g+1&255;b.b=b.b&1|b.L[g];return g}
function pb(b){b.i=b.i-1&255;255==b.i&&(b.k=b.k-1&255)}function nb(b){b.h=b.h-1&255;255==b.h&&(b.j=b.j-1&255)}function Ya(b){b.f=b.f-1&255;255==b.f&&(b.g=b.g-1&255)}function ob(b){b.i=b.i+1&255;0==b.i&&(b.k=b.k+1&255)}function eb(b){b.h=b.h+1&255;0==b.h&&(b.j=b.j+1&255)}function Gc(b,g){b.u=g>>8;b.r=g&255}function Rb(b,g){b.t=g>>8;b.q=g&255}function Ma(b,g){b.k=g>>8;b.i=g&255}function Z(b){return b.u<<8|b.r}function X(b){return b.t<<8|b.q}function A(b){return b.k<<8|b.i}
function db(b){return b.j<<8|b.h}function t(b){return b.g<<8|b.f}function J(b,g){b.b=b.w[b.a<<8|b.a-g&255]}function I(b,g){var a=b.b&1,k=b.a-g-a&255;b.b=b.w[a<<16|b.a<<8|k];b.a=k}function H(b,g){var a=b.a-g&255;b.b=b.w[b.a<<8|a];b.a=a}function F(b,g){var a=b.b&1,k=b.a+g+a&255;b.b=b.z[a<<16|b.a<<8|k];b.a=k}function E(b,g){var a=b.a+g&255;b.b=b.z[b.a<<8|a];b.a=a}
function Sb(b,g){var a=g+B(b)&65535,k=b.d(++b.c);b.n-=Nc[k];switch(k){case 0:b.g=K(b,b.d(a));b.e(a,b.g);break;case 1:b.f=K(b,b.d(a));b.e(a,b.f);break;case 2:b.j=K(b,b.d(a));b.e(a,b.j);break;case 3:b.h=K(b,b.d(a));b.e(a,b.h);break;case 4:b.k=K(b,b.d(a));b.e(a,b.k);break;case 5:b.i=K(b,b.d(a));b.e(a,b.i);break;case 6:b.e(a,K(b,b.d(a)));break;case 7:b.a=K(b,b.d(a));b.e(a,b.a);break;case 8:b.g=L(b,b.d(a));b.e(a,b.g);break;case 9:b.f=L(b,b.d(a));b.e(a,b.f);break;case 10:b.j=L(b,b.d(a));b.e(a,b.j);break;
case 11:b.h=L(b,b.d(a));b.e(a,b.h);break;case 12:b.k=L(b,b.d(a));b.e(a,b.k);break;case 13:b.i=L(b,b.d(a));b.e(a,b.i);break;case 14:b.e(a,L(b,b.d(a)));break;case 15:b.a=L(b,b.d(a));b.e(a,b.a);break;case 16:b.g=M(b,b.d(a));b.e(a,b.g);break;case 17:b.f=M(b,b.d(a));b.e(a,b.f);break;case 18:b.j=M(b,b.d(a));b.e(a,b.j);break;case 19:b.h=M(b,b.d(a));b.e(a,b.h);break;case 20:b.k=M(b,b.d(a));b.e(a,b.k);break;case 21:b.i=M(b,b.d(a));b.e(a,b.i);break;case 22:b.e(a,M(b,b.d(a)));break;case 23:b.a=M(b,b.d(a));b.e(a,
b.a);break;case 24:b.g=N(b,b.d(a));b.e(a,b.g);break;case 25:b.f=N(b,b.d(a));b.e(a,b.f);break;case 26:b.j=N(b,b.d(a));b.e(a,b.j);break;case 27:b.h=N(b,b.d(a));b.e(a,b.h);break;case 28:b.k=N(b,b.d(a));b.e(a,b.k);break;case 29:b.i=N(b,b.d(a));b.e(a,b.i);break;case 30:b.e(a,N(b,b.d(a)));break;case 31:b.a=N(b,b.d(a));b.e(a,b.a);break;case 32:b.g=Q(b,b.d(a));b.e(a,b.g);break;case 33:b.f=Q(b,b.d(a));b.e(a,b.f);break;case 34:b.j=Q(b,b.d(a));b.e(a,b.j);break;case 35:b.h=Q(b,b.d(a));b.e(a,b.h);break;case 36:b.k=
Q(b,b.d(a));b.e(a,b.k);break;case 37:b.i=Q(b,b.d(a));b.e(a,b.i);break;case 38:b.e(a,Q(b,b.d(a)));break;case 39:b.a=Q(b,b.d(a));b.e(a,b.a);break;case 40:b.g=R(b,b.d(a));b.e(a,b.g);break;case 41:b.f=R(b,b.d(a));b.e(a,b.f);break;case 42:b.j=R(b,b.d(a));b.e(a,b.j);break;case 43:b.h=R(b,b.d(a));b.e(a,b.h);break;case 44:b.k=R(b,b.d(a));b.e(a,b.k);break;case 45:b.i=R(b,b.d(a));b.e(a,b.i);break;case 46:b.e(a,R(b,b.d(a)));break;case 47:b.a=R(b,b.d(a));b.e(a,b.a);break;case 48:b.g=S(b,b.d(a));b.e(a,b.g);break;
case 49:b.f=S(b,b.d(a));b.e(a,b.f);break;case 50:b.j=S(b,b.d(a));b.e(a,b.j);break;case 51:b.h=S(b,b.d(a));b.e(a,b.h);break;case 52:b.k=S(b,b.d(a));b.e(a,b.k);break;case 53:b.i=S(b,b.d(a));b.e(a,b.i);break;case 54:b.e(a,S(b,b.d(a)));break;case 55:b.a=S(b,b.d(a));b.e(a,b.a);break;case 56:b.g=T(b,b.d(a));b.e(a,b.g);break;case 57:b.f=T(b,b.d(a));b.e(a,b.f);break;case 58:b.j=T(b,b.d(a));b.e(a,b.j);break;case 59:b.h=T(b,b.d(a));b.e(a,b.h);break;case 60:b.k=T(b,b.d(a));b.e(a,b.k);break;case 61:b.i=T(b,b.d(a));
b.e(a,b.i);break;case 62:b.e(a,T(b,b.d(a)));break;case 63:b.a=T(b,b.d(a));b.e(a,b.a);break;case 64:case 65:case 66:case 67:case 68:case 69:case 70:case 71:V(b,b.d(a)&1);break;case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:V(b,b.d(a)&2);break;case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:V(b,b.d(a)&4);break;case 88:case 89:case 90:case 91:case 92:case 93:case 94:case 95:V(b,b.d(a)&8);break;case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:V(b,b.d(a)&
16);break;case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:V(b,b.d(a)&32);break;case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:V(b,b.d(a)&64);break;case 120:case 121:case 122:case 123:case 124:case 125:case 126:case 127:V(b,b.d(a)&128);break;case 128:case 129:case 130:case 131:case 132:case 133:case 134:case 135:b.e(a,b.d(a)&-2);break;case 136:case 137:case 138:case 139:case 140:case 141:case 142:case 143:b.e(a,b.d(a)&-3);break;case 144:case 145:case 146:case 147:case 148:case 149:case 150:case 151:b.e(a,
b.d(a)&-5);break;case 152:case 153:case 154:case 155:case 156:case 157:case 158:case 159:b.e(a,b.d(a)&-9);break;case 160:case 161:case 162:case 163:case 164:case 165:case 166:case 167:b.e(a,b.d(a)&-17);break;case 168:case 169:case 170:case 171:case 172:case 173:case 174:case 175:b.e(a,b.d(a)&-33);break;case 176:case 177:case 178:case 179:case 180:case 181:case 182:case 183:b.e(a,b.d(a)&-65);break;case 184:case 185:case 186:case 187:case 188:case 189:case 190:case 191:b.e(a,b.d(a)&-129);break;case 192:case 193:case 194:case 195:case 196:case 197:case 198:case 199:b.e(a,
b.d(a)|1);break;case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 207:b.e(a,b.d(a)|2);break;case 208:case 209:case 210:case 211:case 212:case 213:case 214:case 215:b.e(a,b.d(a)|4);break;case 216:case 217:case 218:case 219:case 220:case 221:case 222:case 223:b.e(a,b.d(a)|8);break;case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:b.e(a,b.d(a)|16);break;case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:b.e(a,b.d(a)|32);break;case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:b.e(a,
b.d(a)|64);break;case 248:case 249:case 250:case 251:case 252:case 253:case 254:case 255:b.e(a,b.d(a)|128)}b.c++}function V(b,g){b.b=b.b&1|b.Z[g]}function T(b,g){var a=g&1;g=g>>1&255;b.b=a|b.l[g];return g}function R(b,g){var a=g&1;g=g>>1|g&128;b.b=a|b.l[g];return g}function S(b,g){var a=(g&128)>>7;g=(g<<1|1)&255;b.b=a|b.l[g];return g}function Q(b,g){var a=(g&128)>>7;g=g<<1&255;b.b=a|b.l[g];return g}function N(b,g){var a=g&1;g=(g>>1|b.b<<7)&255;b.b=a|b.l[g];return g}
function M(b,g){var a=(g&128)>>7;g=(g<<1|b.b&1)&255;b.b=a|b.l[g];return g}function L(b,g){var a=g&1;g=(g>>1|g<<7)&255;b.b=a|b.l[g];return g}function K(b,g){var a=(g&128)>>7;g=(g<<1|g>>7)&255;b.b=a|b.l[g];return g}function xb(b,g){b.e(g,v(b,b.d(g)))}function qb(b,g){b.e(g,u(b,b.d(g)))}function Nb(b,g,a){b.e(--b.m,g);b.e(--b.m,a)}function q(b,g){b.e(--b.m,g>>8);b.e(--b.m,g&255)}function Lb(b,g){g&&(b.c=b.p(b.m),b.m+=2,b.n-=6)}function lb(b){128<=b&&(b-=256);return b}
function bb(b,g){g?(b.c+=lb(B(b)+1),b.n-=5):b.c++}function Mb(b,g){g?b.c=b.p(b.c):b.c+=2};function la(b){this.s=b;this.c=this.a=this.b=0}
la.prototype={reset:function(){this.c=this.a=this.b=255;this.ha=m},keydown:function(b){switch(b.keyCode){case 38:this.b&=-2;break;case 40:this.b&=-3;break;case 37:this.b&=-5;break;case 39:this.b&=-9;break;case 88:this.b&=-17;break;case 90:this.b&=-33;break;case 13:this.s.U?this.s.ha=h:this.c&=-129;break;case 104:this.a&=-2;break;case 98:this.a&=-3;break;case 100:this.a&=-5;break;case 102:this.a&=-9;break;case 103:this.a&=-17;break;case 105:this.a&=-33;break;case 97:this.a&=-65;break;default:return}b.preventDefault()},
keyup:function(b){switch(b.keyCode){case 38:this.b|=1;break;case 40:this.b|=2;break;case 37:this.b|=4;break;case 39:this.b|=8;break;case 88:this.b|=16;break;case 90:this.b|=32;break;case 13:this.s.U||(this.c|=128);break;case 104:this.a|=1;break;case 98:this.a|=2;break;case 100:this.a|=4;break;case 102:this.a|=8;break;case 103:this.a|=16;break;case 105:this.a|=32;break;case 97:this.a|=64;break;default:return}b.preventDefault()}};var Da=Number.MIN_VALUE,Hc=[25,20,16,13,10,8,6,5,4,3,3,2,2,1,1,0];function ra(b){this.s=b;this.e=this.j=0;this.b=Array(8);this.c=0;this.a=Array(4);this.d=Array(4);this.g=Array(3);this.h=16;this.f=32768;this.i=Array(4)}ra.prototype={};function pa(b){this.s=b;var g=0;this.I=0;this.d=Array(16384);this.a=Array(96);for(g=0;96>g;g++)this.a[g]=255;this.c=Array(16);this.e=0;this.j=m;this.q=this.l=this.H=this.t=this.f=this.i=0;this.p=Array(256);this.w=0;this.b=b.a.sa.data;this.O=Array(64);this.N=Array(64);this.M=Array(64);this.L=Array(256);this.K=Array(256);this.J=Array(16);this.g=this.z=this.u=0;this.h=m;this.m=Array(192);for(g=0;192>g;g++)this.m[g]=Array(25);this.v=Array(512);this.r=Array(512);for(b=this.k=this.n=0;512>b;b++)this.v[b]=
Array(64);var a,k;for(b=0;64>b;b++)g=b&3,a=b>>2&3,k=b>>4&3,this.O[b]=85*g&255,this.N[b]=85*a&255,this.M[b]=85*k&255;for(b=0;256>b;b++)a=b&15,k=b>>4&15,this.L[b]=(a<<4|a)&255,this.K[b]=(k<<4|k)&255;for(b=0;16>b;b++)this.J[b]=(b<<4|b)&255}
pa.prototype={reset:function(){var b;this.j=h;for(b=this.t=this.e=this.q=this.f=0;16>b;b++)this.c[b]=0;this.c[2]=14;this.c[5]=126;this.s.b.J=m;this.h=h;this.n=512;this.k=-1;for(b=0;16384>b;b++)this.d[b]=0;for(b=0;196608>b;b+=4)this.b[b]=0,this.b[b+1]=0,this.b[b+2]=0,this.b[b+3]=255}};function $c(b){b.w=(b.c[2]&14)<<10;b.n=0;b.k=511;for(var g=0,a=b.r.length;g<a;g++)b.r[g]=h;b.g=(b.c[5]&-130)<<7;b.h=h};function ka(b){this.s=b;this.enable=function(){};this.updateStatus=function(){};this.Ca=function(){}}
window.$&&($.fn.JSSMSUI=function(b){function g(g){this.s=g;if("[object OperaMini]"==Object.prototype.toString.call(window.operamini))$(a).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser can\'t run this emulator. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>');else{var n=this;g=$("<div></div>");var s=$('<div class="controls"></div>'),l=$('<div class="screen"></div>'),G=Kc(["fullscreenEnabled","mozFullScreenEnabled","webkitCancelFullScreen"]),P=Kc(["requestAnimationFrame",
"msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame"],window),da;if(P)this.requestAnimationFrame=window[P].bind(window);else{var Y=0;this.requestAnimationFrame=function(a){var b=Ea(),g=Math.max(0,16-(b-Y));window.setTimeout(function(){a(b+g)},g);Y=b+g}}this.screen=$("<canvas width=256 height=192></canvas>");this.da=this.screen[0].getContext("2d");if(this.da.getImageData){this.sa=this.da.getImageData(0,0,256,192);this.Ba=$("<div></div>");this.S=$("<select></select>");
this.S.change(function(){n.ta()});this.B=Object.create(null);this.B.start=$('<input type="button" value="Start" class="btn btn-primary" disabled="disabled">').click(function(){n.s.W?(n.s.stop(),n.updateStatus("Paused"),n.B.start.attr("value","Start")):(n.s.start(),n.B.start.attr("value","Pause"))});this.B.reset=$('<input type="button" value="Reset" class="btn" disabled="disabled">').click(function(){""!=n.s.ua&&""!=n.s.va&&Jc(n.s,n.s.ua,n.s.va)?(n.s.reset(),$c(n.s.C),n.s.start()):$(this).attr("disabled",
"disabled")});this.s.R&&(this.B.Y=$('<input type="button" value="Enable sound" class="btn" disabled="disabled">').click(function(){n.s.R?(n.s.R=m,n.B.Y.attr("value","Enable sound")):(n.s.R=h,n.B.Y.attr("value","Disable sound"))}));G?this.B.Ea=$('<input type="button" value="Go fullscreen" class="btn">').click(function(){var a=l[0];a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT)}):(this.wa=m,this.B.zoom=
$('<input type="button" value="Zoom in" class="btn hidden-phone">').click(function(){n.wa?(n.screen.animate({width:"256px",height:"192px"},function(){$(this).removeAttr("style")}),n.B.zoom.attr("value","Zoom in")):(n.screen.animate({width:"512px",height:"384px"}),n.B.zoom.attr("value","Zoom out"));n.wa=!n.wa}));for(da in this.B)this.B[da].appendTo(s);this.log=$('<div id="status"></div>');this.screen.appendTo(l);l.appendTo(g);this.Ba.appendTo(g);s.appendTo(g);this.log.appendTo(g);g.appendTo($(a));
b!=aa&&this.Da(b);$(document).bind("keydown",function(a){n.s.P.keydown(a)}).bind("keyup",function(a){n.s.P.keyup(a)})}else $(a).html('<div class="alert alert-error"><strong>Oh no!</strong> Your browser doesn\'t support writing pixels directly to the <code>&lt;canvas&gt;</code> tag. Try the latest version of Firefox, Google Chrome, Opera or Safari!</div>')}}var a=this;g.prototype={reset:function(){this.screen[0].width=256;this.screen[0].height=192;this.log.empty()},Da:function(a){var b,g,l,G,P=0;this.S.children().remove();
$("<option>Select a ROM...</option>").appendTo(this.S);for(b in a){if(a.hasOwnProperty(b)){g=$("<optgroup></optgroup>").attr("label",b);l=a[b].length;for(G=0;G<l;G++)$("<option>"+a[b][G][0]+"</option>").attr("value",a[b][G][1]).appendTo(g);g.appendTo(this.S)}P++}P&&this.S.appendTo(this.Ba)},ta:function(){var a=this;this.updateStatus("Downloading...");$.ajax({url:escape(this.S.val()),xhr:function(){var b=$.ajaxSettings.xhr();b.overrideMimeType!=aa&&b.overrideMimeType("text/plain; charset=x-user-defined");
return a.xhr=b},complete:function(b,g){var l;"error"==g?a.updateStatus("The selected rom could not be loaded."):(l=b.responseText,a.s.stop(),Jc(a.s,l,a.S.val()),a.s.reset(),$c(a.s.C),a.enable())}})},enable:function(){this.B.start.removeAttr("disabled");this.B.start.attr("value","Start");this.B.reset.removeAttr("disabled");this.s.R&&(this.B.Y?this.B.Y.attr("value","Disable sound"):this.B.Y.attr("value","Enable sound"))},updateStatus:function(a){this.log.text(a)},Ca:function(){var a=Kc(["hidden","mozHidden",
"webkitHidden","msHidden"]);return a?function(){document[a]||this.da.putImageData(this.sa,0,0)}:function(){this.da.putImageData(this.sa,0,0)}}()};return g});function sa(b){this.s=b;this.C=b.C;this.b=b.c;this.P=b.P;this.a=[]}sa.prototype={reset:function(){this.a=Array(2)}};
function Pb(b,g){if(b.s.T&&7>g)switch(g){case 0:return b.P.c&191|64;case 1:case 2:case 3:case 4:case 5:return 0;case 6:return 255}switch(g&193){case 64:var a;a:{a=b.C;if(0==a.I){if(218<a.l){a=a.l-6;break a}}else if(242<a.l){a=a.l-57;break a}a=a.l}return a;case 65:return 0;case 128:a=b.C;a.j=h;var k=a.H;a.H=a.d[a.f++&16383]&255;return k;case 129:return a=b.C,a.j=h,k=a.e,a.e=0,a.s.b.J=m,k;case 192:return b.P.b;case 193:return b.P.a&63|b.a[0]|b.a[1]}return 255}
function W(b,g,a){if(!(b.s.T&&7>g))switch(g&193){case 1:b.a[0]=(a&32)<<1;b.a[1]=a&128;break;case 128:b=b.C;g=0;b.j=h;switch(b.t){case 0:case 1:case 2:g=b.f&16383;if(a!=(b.d[g]&255)){if(g>=b.g&&g<b.g+64)b.h=h;else if(g>=b.g+128&&g<b.g+256)b.h=h;else{var k=g>>5;b.r[k]=h;k<b.n&&(b.n=k);k>b.k&&(b.k=k)}b.d[g]=a}break;case 3:b.s.U?(g=3*(b.f&31),b.a[g]=b.O[a],b.a[g+1]=b.N[a],b.a[g+2]=b.M[a]):(g=3*((b.f&63)>>1),0==(b.f&1)?(b.a[g]=b.L[a],b.a[g+1]=b.K[a]):b.a[g+2]=b.J[a])}b.f++;break;case 129:b=b.C;if(b.j)b.j=
m,b.i=a,b.f=b.f&16128|a;else if(b.j=h,b.t=a>>6&3,b.f=b.i|a<<8,0==b.t)b.H=b.d[b.f++&16383]&255;else if(2==b.t){a&=15;switch(a){case 1:0!=(b.e&128)&&0!=(b.i&32)&&(b.s.b.J=h);(b.i&3)!=(b.c[a]&3)&&(b.h=h);break;case 2:b.w=(b.i&14)<<10;break;case 5:g=b.g,b.g=(b.i&-130)<<7,g!=b.g&&(b.h=h)}b.c[a]=b.i}break;case 64:case 65:if(b.s.R)switch(b=b.b,0!=(a&128)?(b.c=a>>4&7,b.b[b.c]=b.b[b.c]&1008|a&15):b.b[b.c]=0==b.c||2==b.c||4==b.c?b.b[b.c]&15|(a&63)<<4:a&15,b.c){case 0:case 2:case 4:0==b.b[b.c]&&(b.b[b.c]=1);
break;case 6:b.h=16<<(b.b[6]&3),b.f=32768}}};window.JSSMS=ja;})(window);
